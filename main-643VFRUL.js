import{A as sa,B as no,C as Jm,D as ev,E as tv,F as P,G as qe,H as Ee,I as ju,J as nv,K as ro,L as Be,M as nn,N as aa,O as Bu,P as rv,Q as Rr,R as io,S as Uu,T as iv,U as ov,V as sv,W as $u,X as av,Y as Sn,Z as Et,a as E,b as z,c as ge,d as Um,e as ra,f as $m,g as Hm,h as w,i as Nr,j as ia,k as zm,l as Wm,m as Gm,n as Te,o as qm,p as Vu,q as Qm,r as Ft,s as Ym,t as Zm,u as oa,v as we,w as Km,x as Xm,y as ut,z as In}from"./chunk-BYZX6JTN.js";function cv(e,t){return Object.is(e,t)}var De=null,la=!1,Wu=1,et=Symbol("SIGNAL");function K(e){let t=De;return De=e,t}function uv(){return De}var so={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ua(e){if(la)throw new Error("");if(De===null)return;De.consumerOnSignalRead(e);let t=De.nextProducerIndex++;if(ha(De),t<De.producerNode.length&&De.producerNode[t]!==e&&oo(De)){let n=De.producerNode[t];fa(n,De.producerIndexOfThis[t])}De.producerNode[t]!==e&&(De.producerNode[t]=e,De.producerIndexOfThis[t]=oo(De)?pv(e,De,t):0),De.producerLastReadVersion[t]=e.version}function Qb(){Wu++}function dv(e){if(!(oo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Wu)){if(!e.producerMustRecompute(e)&&!qu(e)){lv(e);return}e.producerRecomputeValue(e),lv(e)}}function fv(e){if(e.liveConsumerNode===void 0)return;let t=la;la=!0;try{for(let n of e.liveConsumerNode)n.dirty||Yb(n)}finally{la=t}}function hv(){return De?.consumerAllowSignalWrites!==!1}function Yb(e){e.dirty=!0,fv(e),e.consumerMarkedDirty?.(e)}function lv(e){e.dirty=!1,e.lastCleanEpoch=Wu}function da(e){return e&&(e.nextProducerIndex=0),K(e)}function Gu(e,t){if(K(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(oo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)fa(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function qu(e){ha(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(dv(n),r!==n.version))return!0}return!1}function Qu(e){if(ha(e),oo(e))for(let t=0;t<e.producerNode.length;t++)fa(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function pv(e,t,n){if(gv(e),e.liveConsumerNode.length===0&&mv(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=pv(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function fa(e,t){if(gv(e),e.liveConsumerNode.length===1&&mv(e))for(let r=0;r<e.producerNode.length;r++)fa(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ha(i),i.producerIndexOfThis[r]=t}}function oo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ha(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function gv(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function mv(e){return e.producerNode!==void 0}function vv(e){let t=Object.create(Zb);t.computation=e;let n=()=>{if(dv(t),ua(t),t.value===ca)throw t.error;return t.value};return n[et]=t,n}var Hu=Symbol("UNSET"),zu=Symbol("COMPUTING"),ca=Symbol("ERRORED"),Zb=z(E({},so),{value:Hu,dirty:!0,error:null,equal:cv,kind:"computed",producerMustRecompute(e){return e.value===Hu||e.value===zu},producerRecomputeValue(e){if(e.value===zu)throw new Error("Detected cycle in computations.");let t=e.value;e.value=zu;let n=da(e),r,i=!1;try{r=e.computation(),K(null),i=t!==Hu&&t!==ca&&r!==ca&&e.equal(t,r)}catch(o){r=ca,e.error=o}finally{Gu(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function Kb(){throw new Error}var yv=Kb;function _v(){yv()}function Cv(e){yv=e}var Xb=null;function wv(e){let t=Object.create(Yu);t.value=e;let n=()=>(ua(t),t.value);return n[et]=t,n}function pa(e,t){hv()||_v(),e.equal(e.value,t)||(e.value=t,Jb(e))}function Ev(e,t){hv()||_v(),pa(e,t(e.value))}var Yu=z(E({},so),{equal:cv,value:void 0,kind:"signal"});function Jb(e){e.version++,Qb(),fv(e),Xb?.()}function F(e){return typeof e=="function"}function Or(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ga=Or(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Kn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var me=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){t=o instanceof ga?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Dv(o)}catch(s){t=t??[],s instanceof ga?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ga(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Dv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Kn(n,t)}remove(t){let{_finalizers:n}=this;n&&Kn(n,t),t instanceof e&&t._removeParent(this)}};me.EMPTY=(()=>{let e=new me;return e.closed=!0,e})();var Zu=me.EMPTY;function ma(e){return e instanceof me||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function Dv(e){F(e)?e():e.unsubscribe()}var Dt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var kr={setTimeout(e,t,...n){let{delegate:r}=kr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=kr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function va(e){kr.setTimeout(()=>{let{onUnhandledError:t}=Dt;if(t)t(e);else throw e})}function Xn(){}var bv=Ku("C",void 0,void 0);function Iv(e){return Ku("E",void 0,e)}function Sv(e){return Ku("N",e,void 0)}function Ku(e,t,n){return{kind:e,value:t,error:n}}var Jn=null;function Pr(e){if(Dt.useDeprecatedSynchronousErrorHandling){let t=!Jn;if(t&&(Jn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Jn;if(Jn=null,n)throw r}}else e()}function Mv(e){Dt.useDeprecatedSynchronousErrorHandling&&Jn&&(Jn.errorThrown=!0,Jn.error=e)}var er=class extends me{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ma(t)&&t.add(this)):this.destination=nI}static create(t,n,r){return new rn(t,n,r)}next(t){this.isStopped?Ju(Sv(t),this):this._next(t)}error(t){this.isStopped?Ju(Iv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Ju(bv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},eI=Function.prototype.bind;function Xu(e,t){return eI.call(e,t)}var ed=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ya(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ya(r)}else ya(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ya(n)}}},rn=class extends er{constructor(t,n,r){super();let i;if(F(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Dt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Xu(t.next,o),error:t.error&&Xu(t.error,o),complete:t.complete&&Xu(t.complete,o)}):i=t}this.destination=new ed(i)}};function ya(e){Dt.useDeprecatedSynchronousErrorHandling?Mv(e):va(e)}function tI(e){throw e}function Ju(e,t){let{onStoppedNotification:n}=Dt;n&&kr.setTimeout(()=>n(e,t))}var nI={closed:!0,next:Xn,error:tI,complete:Xn};var Fr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Re(e){return e}function td(...e){return nd(e)}function nd(e){return e.length===0?Re:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var U=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=iI(n)?n:new rn(n,r,i);return Pr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Tv(r),new r((i,o)=>{let s=new rn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Fr](){return this}pipe(...n){return nd(n)(this)}toPromise(n){return n=Tv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Tv(e){var t;return(t=e??Dt.Promise)!==null&&t!==void 0?t:Promise}function rI(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}function iI(e){return e&&e instanceof er||rI(e)&&ma(e)}function rd(e){return F(e?.lift)}function B(e){return t=>{if(rd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function L(e,t,n,r,i){return new id(e,t,n,r,i)}var id=class extends er{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Lr(){return B((e,t)=>{let n=null;e._refCount++;let r=L(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Vr=class extends U{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new me;let n=this.getSubject();t.add(this.source.subscribe(L(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=me.EMPTY)}return t}refCount(){return Lr()(this)}};var xv=Or(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=(()=>{class e extends U{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new _a(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new xv}next(n){Pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Zu:(this.currentObservers=null,o.push(n),new me(()=>{this.currentObservers=null,Kn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new U;return n.source=this,n}}return e.create=(t,n)=>new _a(t,n),e})(),_a=class extends ue{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Zu}};var Oe=class extends ue{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var ao={now(){return(ao.delegate||Date).now()},delegate:void 0};var lo=class extends ue{constructor(t=1/0,n=1/0,r=ao){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Ca=class extends me{constructor(t,n){super()}schedule(t,n=0){return this}};var co={setInterval(e,t,...n){let{delegate:r}=co;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=co;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var jr=class extends Ca{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return co.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&co.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Kn(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Br=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Br.now=ao.now;var Ur=class extends Br{constructor(t,n=Br.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var uo=new Ur(jr);var wa=class extends jr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Ea=class extends Ur{};var od=new Ea(wa);var Fe=new U(e=>e.complete());function Av(e){return e&&F(e.schedule)}function sd(e){return e[e.length-1]}function $r(e){return F(sd(e))?e.pop():void 0}function Lt(e){return Av(sd(e))?e.pop():void 0}function Nv(e,t){return typeof sd(e)=="number"?e.pop():t}var Da=e=>e&&typeof e.length=="number"&&typeof e!="function";function ba(e){return F(e?.then)}function Ia(e){return F(e[Fr])}function Sa(e){return Symbol.asyncIterator&&F(e?.[Symbol.asyncIterator])}function Ma(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function oI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ta=oI();function xa(e){return F(e?.[Ta])}function Aa(e){return $m(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield ra(n.read());if(i)return yield ra(void 0);yield yield ra(r)}}finally{n.releaseLock()}})}function Na(e){return F(e?.getReader)}function oe(e){if(e instanceof U)return e;if(e!=null){if(Ia(e))return sI(e);if(Da(e))return aI(e);if(ba(e))return lI(e);if(Sa(e))return Rv(e);if(xa(e))return cI(e);if(Na(e))return uI(e)}throw Ma(e)}function sI(e){return new U(t=>{let n=e[Fr]();if(F(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function aI(e){return new U(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function lI(e){return new U(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,va)})}function cI(e){return new U(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Rv(e){return new U(t=>{dI(e,t).catch(n=>t.error(n))})}function uI(e){return Rv(Aa(e))}function dI(e,t){var n,r,i,o;return Um(this,void 0,void 0,function*(){try{for(n=Hm(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Qe(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Vt(e,t=0){return B((n,r)=>{n.subscribe(L(r,i=>Qe(r,e,()=>r.next(i),t),()=>Qe(r,e,()=>r.complete(),t),i=>Qe(r,e,()=>r.error(i),t)))})}function on(e,t=0){return B((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Ov(e,t){return oe(e).pipe(on(t),Vt(t))}function kv(e,t){return oe(e).pipe(on(t),Vt(t))}function Pv(e,t){return new U(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Fv(e,t){return new U(n=>{let r;return Qe(n,t,()=>{r=e[Ta](),Qe(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function Ra(e,t){if(!e)throw new Error("Iterable cannot be null");return new U(n=>{Qe(n,t,()=>{let r=e[Symbol.asyncIterator]();Qe(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Lv(e,t){return Ra(Aa(e),t)}function Vv(e,t){if(e!=null){if(Ia(e))return Ov(e,t);if(Da(e))return Pv(e,t);if(ba(e))return kv(e,t);if(Sa(e))return Ra(e,t);if(xa(e))return Fv(e,t);if(Na(e))return Lv(e,t)}throw Ma(e)}function ie(e,t){return t?Vv(e,t):oe(e)}function O(...e){let t=Lt(e);return ie(e,t)}function Hr(e,t){let n=F(e)?e:()=>e,r=i=>i.error(n());return new U(t?i=>t.schedule(r,0,i):r)}function ad(e){return!!e&&(e instanceof U||F(e.lift)&&F(e.subscribe))}var sn=Or(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function k(e,t){return B((n,r)=>{let i=0;n.subscribe(L(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:fI}=Array;function hI(e,t){return fI(t)?e(...t):e(t)}function Oa(e){return k(t=>hI(e,t))}var{isArray:pI}=Array,{getPrototypeOf:gI,prototype:mI,keys:vI}=Object;function ka(e){if(e.length===1){let t=e[0];if(pI(t))return{args:t,keys:null};if(yI(t)){let n=vI(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function yI(e){return e&&typeof e=="object"&&gI(e)===mI}function Pa(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Fa(...e){let t=Lt(e),n=$r(e),{args:r,keys:i}=ka(e);if(r.length===0)return ie([],t);let o=new U(_I(r,t,i?s=>Pa(i,s):Re));return n?o.pipe(Oa(n)):o}function _I(e,t,n=Re){return r=>{jv(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)jv(t,()=>{let c=ie(e[l],t),u=!1;c.subscribe(L(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function jv(e,t,n){e?Qe(n,e,t):t()}function Bv(e,t,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&t.next(g),c++;let y=!1;oe(n(g,u++)).subscribe(L(t,b=>{i?.(b),o?h(b):t.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let b=l.shift();s?Qe(t,s,()=>p(b)):p(b)}f()}catch(b){t.error(b)}}))};return e.subscribe(L(t,h,()=>{d=!0,f()})),()=>{a?.()}}function be(e,t,n=1/0){return F(t)?be((r,i)=>k((o,s)=>t(r,o,i,s))(oe(e(r,i))),n):(typeof t=="number"&&(n=t),B((r,i)=>Bv(r,i,e,n)))}function fo(e=1/0){return be(Re,e)}function Uv(){return fo(1)}function zr(...e){return Uv()(ie(e,Lt(e)))}function La(e){return new U(t=>{oe(e()).subscribe(t)})}function ld(...e){let t=$r(e),{args:n,keys:r}=ka(e),i=new U(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;oe(n[u]).subscribe(L(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Pa(r,a):a),o.complete())}))}});return t?i.pipe(Oa(t)):i}function Wr(...e){let t=Lt(e),n=Nv(e,1/0),r=e;return r.length?r.length===1?oe(r[0]):fo(n)(ie(r,t)):Fe}function Ue(e,t){return B((n,r)=>{let i=0;n.subscribe(L(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Mn(e){return B((t,n)=>{let r=null,i=!1,o;r=t.subscribe(L(n,void 0,void 0,s=>{o=oe(e(s,Mn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $v(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(L(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Tn(e,t){return F(t)?be(e,t,1):be(e,1)}function xn(e){return B((t,n)=>{let r=!1;t.subscribe(L(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function an(e){return e<=0?()=>Fe:B((t,n)=>{let r=0;t.subscribe(L(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function cd(e,t=Re){return e=e??CI,B((n,r)=>{let i,o=!0;n.subscribe(L(r,s=>{let a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function CI(e,t){return e===t}function Va(e=wI){return B((t,n)=>{let r=!1;t.subscribe(L(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function wI(){return new sn}function tr(e){return B((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function bt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ue((i,o)=>e(i,o,r)):Re,an(1),n?xn(t):Va(()=>new sn))}function Gr(e){return e<=0?()=>Fe:B((t,n)=>{let r=[];t.subscribe(L(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ud(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ue((i,o)=>e(i,o,r)):Re,Gr(1),n?xn(t):Va(()=>new sn))}function qr(e,t){return B($v(e,t,arguments.length>=2,!0))}function ho(e={}){let{connector:t=()=>new ue,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{let g=s;h(),g?.unsubscribe()};return B((g,y)=>{c++,!d&&!u&&f();let b=l=l??t();y.add(()=>{c--,c===0&&!d&&!u&&(a=dd(p,i))}),b.subscribe(y),!s&&c>0&&(s=new rn({next:H=>b.next(H),error:H=>{d=!0,f(),a=dd(h,n,H),b.error(H)},complete:()=>{u=!0,f(),a=dd(h,r),b.complete()}}),oe(g).subscribe(s))})(o)}}function dd(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new rn({next:()=>{r.unsubscribe(),e()}});return oe(t(...n)).subscribe(r)}function ja(e,t,n){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e:r=e??1/0,ho({connector:()=>new lo(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function fd(e){return B((t,n)=>{let r=!1,i=0;t.subscribe(L(n,o=>(r||(r=!e(o,i++)))&&n.next(o)))})}function hd(...e){let t=Lt(e);return B((n,r)=>{(t?zr(e,n,t):zr(e,n)).subscribe(r)})}function de(e,t){return B((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(L(r,l=>{i?.unsubscribe();let c=0,u=o++;oe(e(l,u)).subscribe(i=L(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ba(e,t){return F(t)?de(()=>e,t):de(()=>e)}function pd(e){return B((t,n)=>{oe(e).subscribe(L(n,()=>n.complete(),Xn)),!n.closed&&t.subscribe(n)})}function xe(e,t,n){let r=F(e)||t||n?{next:e,error:t,complete:n}:e;return r?B((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(L(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Re}function gd(...e){let t=$r(e);return B((n,r)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)oe(e[l]).subscribe(L(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Re))&&(s=null))},Xn));n.subscribe(L(r,l=>{if(a){let c=[l,...o];r.next(t?t(...c):c)}}))})}var xy="https://g.co/ng/security#xss",T=class extends Error{code;constructor(t,n){super(Cl(t,n)),this.code=t}};function Cl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var Ay=Symbol("InputSignalNode#UNSET"),EI=z(E({},Yu),{transformFn:void 0,applyValueToInputSignal(e,t){pa(e,t)}});function Ny(e,t){let n=Object.create(EI);n.value=e,n.transformFn=t?.transform;function r(){if(ua(n),n.value===Ay)throw new T(-950,!1);return n.value}return r[et]=n,r}function So(e){return{toString:e}.toString()}var Ua="__parameters__";function DI(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function Ry(e,t,n){return So(()=>{let r=DI(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ua)?l[Ua]:Object.defineProperty(l,Ua,{value:[]})[Ua];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function se(e){for(let t in e)if(e[t]===se)return t;throw Error("Could not find renamed property on target object.")}function bI(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ye(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ye).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Hv(e,t){return e?t?`${e} ${t}`:e:t||""}var II=se({__forward_ref__:se});function li(e){return e.__forward_ref__=li,e.toString=function(){return Ye(this())},e}function $e(e){return Oy(e)?e():e}function Oy(e){return typeof e=="function"&&e.hasOwnProperty(II)&&e.__forward_ref__===li}function x(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Mt(e){return{providers:e.providers||[],imports:e.imports||[]}}function wl(e){return zv(e,Py)||zv(e,Fy)}function ky(e){return wl(e)!==null}function zv(e,t){return e.hasOwnProperty(t)?e[t]:null}function SI(e){let t=e&&(e[Py]||e[Fy]);return t||null}function Wv(e){return e&&(e.hasOwnProperty(Gv)||e.hasOwnProperty(MI))?e[Gv]:null}var Py=se({\u0275prov:se}),Gv=se({\u0275inj:se}),Fy=se({ngInjectableDef:se}),MI=se({ngInjectorDef:se}),I=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ly(e){return e&&!!e.\u0275providers}var TI=se({\u0275cmp:se}),xI=se({\u0275dir:se}),AI=se({\u0275pipe:se}),NI=se({\u0275mod:se}),Qa=se({\u0275fac:se}),vo=se({__NG_ELEMENT_ID__:se}),qv=se({__NG_ENV_ID__:se});function El(e){return typeof e=="string"?e:e==null?"":String(e)}function RI(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():El(e)}function OI(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,e)}function _f(e,t){throw new T(-201,!1)}var W=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(W||{}),xd;function Vy(){return xd}function dt(e){let t=xd;return xd=e,t}function jy(e,t,n){let r=wl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&W.Optional)return null;if(t!==void 0)return t;_f(e,"Injector")}var kI={},yo=kI,Ad="__NG_DI_FLAG__",Ya="ngTempTokenPath",PI="ngTokenPath",FI=/\n/gm,LI="\u0275",Qv="__source",Kr;function VI(){return Kr}function An(e){let t=Kr;return Kr=e,t}function jI(e,t=W.Default){if(Kr===void 0)throw new T(-203,!1);return Kr===null?jy(e,void 0,t):Kr.get(e,t&W.Optional?null:void 0,t)}function D(e,t=W.Default){return(Vy()||jI)($e(e),t)}function C(e,t=W.Default){return D(e,Dl(t))}function Dl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Nd(e){let t=[];for(let n=0;n<e.length;n++){let r=$e(e[n]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let i,o=W.Default;for(let s=0;s<r.length;s++){let a=r[s],l=BI(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(D(i,o))}else t.push(D(r))}return t}function By(e,t){return e[Ad]=t,e.prototype[Ad]=t,e}function BI(e){return e[Ad]}function UI(e,t,n,r){let i=e[Ya];throw t[Qv]&&i.unshift(t[Qv]),e.message=$I(`
`+e.message,i,n,r),e[PI]=i,e[Ya]=null,e}function $I(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==LI?e.slice(2):e;let i=Ye(t);if(Array.isArray(t))i=t.map(Ye).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ye(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(FI,`
  `)}`}var bl=By(Ry("Optional"),8);var Uy=By(Ry("SkipSelf"),4);function Jr(e,t){let n=e.hasOwnProperty(Qa);return n?e[Qa]:null}function Cf(e,t){e.forEach(n=>Array.isArray(n)?Cf(n,t):t(n))}function $y(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Za(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function HI(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function zI(e,t,n){let r=Mo(e,t);return r>=0?e[r|1]=n:(r=~r,HI(e,r,t,n)),r}function md(e,t){let n=Mo(e,t);if(n>=0)return e[n|1]}function Mo(e,t){return WI(e,t,1)}function WI(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var rr={},ft=[],ei=new I(""),Hy=new I("",-1),zy=new I(""),Ka=class{get(t,n=yo){if(n===yo){let r=new Error(`NullInjectorError: No provider for ${Ye(t)}!`);throw r.name="NullInjectorError",r}return n}};function Wy(e,t){let n=e[NI]||null;if(!n&&t===!0)throw new Error(`Type ${Ye(e)} does not have '\u0275mod' property.`);return n}function ir(e){return e[TI]||null}function Gy(e){return e[xI]||null}function qy(e){return e[AI]||null}function Qy(e){let t=ir(e)||Gy(e)||qy(e);return t!==null&&t.standalone}function ci(e){return{\u0275providers:e}}function GI(...e){return{\u0275providers:Yy(!0,e),\u0275fromNgModule:!0}}function Yy(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cf(t,s=>{let a=s;Rd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Zy(i,o),n}function Zy(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];wf(i,o=>{t(o,r)})}}function Rd(e,t,n,r){if(e=$e(e),!e)return!1;let i=null,o=Wv(e),s=!o&&ir(e);if(!o&&!s){let l=e.ngModule;if(o=Wv(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Rd(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Cf(o.imports,u=>{Rd(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Zy(c,t)}if(!a){let c=Jr(i)||(()=>new i);t({provide:i,useFactory:c,deps:ft},i),t({provide:zy,useValue:i,multi:!0},i),t({provide:ei,useValue:()=>D(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;wf(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function wf(e,t){for(let n of e)Ly(n)&&(n=n.\u0275providers),Array.isArray(n)?wf(n,t):t(n)}var qI=se({provide:String,useValue:se});function Ky(e){return e!==null&&typeof e=="object"&&qI in e}function QI(e){return!!(e&&e.useExisting)}function YI(e){return!!(e&&e.useFactory)}function ti(e){return typeof e=="function"}function ZI(e){return!!e.useClass}var Il=new I(""),Ha={},KI={},vd;function Ef(){return vd===void 0&&(vd=new Ka),vd}var Ie=class{},_o=class extends Ie{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,kd(t,s=>this.processProvider(s)),this.records.set(Hy,Qr(void 0,this)),i.has("environment")&&this.records.set(Ie,Qr(void 0,this));let o=this.records.get(Il);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(zy,ft,W.Self))}destroy(){go(this),this._destroyed=!0;let t=K(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),K(t)}}onDestroy(t){return go(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){go(this);let n=An(this),r=dt(void 0),i;try{return t()}finally{An(n),dt(r)}}get(t,n=yo,r=W.Default){if(go(this),t.hasOwnProperty(qv))return t[qv](this);r=Dl(r);let i,o=An(this),s=dt(void 0);try{if(!(r&W.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=nS(t)&&wl(t);c&&this.injectableDefInScope(c)?l=Qr(Od(t),Ha):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&W.Self?Ef():this.parent;return n=r&W.Optional&&n===yo?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ya]=a[Ya]||[]).unshift(Ye(t)),o)throw a;return UI(a,t,"R3InjectorError",this.source)}else throw a}finally{dt(s),An(o)}}resolveInjectorInitializers(){let t=K(null),n=An(this),r=dt(void 0),i;try{let o=this.get(ei,ft,W.Self);for(let s of o)s()}finally{An(n),dt(r),K(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Ye(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=$e(t);let n=ti(t)?t:$e(t&&t.provide),r=JI(t);if(!ti(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Qr(void 0,Ha,!0),i.factory=()=>Nd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=K(null);try{return n.value===Ha&&(n.value=KI,n.value=n.factory()),typeof n.value=="object"&&n.value&&tS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{K(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=$e(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Od(e){let t=wl(e),n=t!==null?t.factory:Jr(e);if(n!==null)return n;if(e instanceof I)throw new T(204,!1);if(e instanceof Function)return XI(e);throw new T(204,!1)}function XI(e){if(e.length>0)throw new T(204,!1);let n=SI(e);return n!==null?()=>n.factory(e):()=>new e}function JI(e){if(Ky(e))return Qr(void 0,e.useValue);{let t=Xy(e);return Qr(t,Ha)}}function Xy(e,t,n){let r;if(ti(e)){let i=$e(e);return Jr(i)||Od(i)}else if(Ky(e))r=()=>$e(e.useValue);else if(YI(e))r=()=>e.useFactory(...Nd(e.deps||[]));else if(QI(e))r=()=>D($e(e.useExisting));else{let i=$e(e&&(e.useClass||e.provide));if(eS(e))r=()=>new i(...Nd(e.deps));else return Jr(i)||Od(i)}return r}function go(e){if(e.destroyed)throw new T(205,!1)}function Qr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function eS(e){return!!e.deps}function tS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function nS(e){return typeof e=="function"||typeof e=="object"&&e instanceof I}function kd(e,t){for(let n of e)Array.isArray(n)?kd(n,t):n&&Ly(n)?kd(n.\u0275providers,t):t(n)}function Ze(e,t){e instanceof _o&&go(e);let n,r=An(e),i=dt(void 0);try{return t()}finally{An(r),dt(i)}}function Jy(){return Vy()!==void 0||VI()!=null}function e_(e){if(!Jy())throw new T(-203,!1)}function rS(e){return typeof e=="function"}var fn=0,X=1,V=2,He=3,St=4,Tt=5,Xa=6,Ja=7,Bt=8,Co=9,ln=10,Se=11,wo=12,Yv=13,To=14,Ut=15,ni=16,Yr=17,ri=18,Sl=19,t_=20,Nn=21,yd=22,el=23,tt=24,cn=25,n_=1;var or=7,tl=8,nl=9,pt=10;function Rn(e){return Array.isArray(e)&&typeof e[n_]=="object"}function hn(e){return Array.isArray(e)&&e[n_]===!0}function r_(e){return(e.flags&4)!==0}function dr(e){return e.componentOffset>-1}function Df(e){return(e.flags&1)===1}function un(e){return!!e.template}function rl(e){return(e[V]&512)!==0}function xo(e){return(e[V]&256)===256}var Pd=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function i_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Fn=(()=>{let e=()=>o_;return e.ngInherit=!0,e})();function o_(e){return e.type.prototype.ngOnChanges&&(e.setInput=oS),iS}function iS(){let e=a_(this),t=e?.current;if(t){let n=e.previous;if(n===rr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function oS(e,t,n,r,i){let o=this.declaredInputs[r],s=a_(e)||sS(e,{previous:rr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Pd(c&&c.currentValue,n,l===rr),i_(e,t,i,n)}var s_="__ngSimpleChanges__";function a_(e){return e[s_]||null}function sS(e,t){return e[s_]=t}var Zv=null;var ht=function(e,t,n){Zv?.(e,t,n)},aS="svg",lS="math";function $t(e){for(;Array.isArray(e);)e=e[fn];return e}function l_(e,t){return $t(t[e])}function xt(e,t){return $t(t[e.index])}function c_(e,t){return e.data[t]}function Ht(e,t){let n=t[e];return Rn(n)?n:n[fn]}function bf(e){return(e[V]&128)===128}function cS(e){return hn(e[He])}function il(e,t){return t==null?null:e[t]}function u_(e){e[Yr]=0}function If(e){e[V]&1024||(e[V]|=1024,bf(e)&&Tl(e))}function Ml(e){return!!(e[V]&9216||e[tt]?.dirty)}function Fd(e){e[ln].changeDetectionScheduler?.notify(9),e[V]&64&&(e[V]|=1024),Ml(e)&&Tl(e)}function Tl(e){e[ln].changeDetectionScheduler?.notify(0);let t=sr(e);for(;t!==null&&!(t[V]&8192||(t[V]|=8192,!bf(t)));)t=sr(t)}function d_(e,t){if(xo(e))throw new T(911,!1);e[Nn]===null&&(e[Nn]=[]),e[Nn].push(t)}function uS(e,t){if(e[Nn]===null)return;let n=e[Nn].indexOf(t);n!==-1&&e[Nn].splice(n,1)}function sr(e){let t=e[He];return hn(t)?t[He]:t}function dS(e){return e[Ja]??=[]}function fS(e){return e.cleanup??=[]}var J={lFrame:y_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Ld=!1;function hS(){return J.lFrame.elementDepthCount}function pS(){J.lFrame.elementDepthCount++}function gS(){J.lFrame.elementDepthCount--}function Sf(){return J.bindingsEnabled}function mS(){return J.skipHydrationRootTNode!==null}function vS(e){return J.skipHydrationRootTNode===e}function yS(){J.skipHydrationRootTNode=null}function he(){return J.lFrame.lView}function rt(){return J.lFrame.tView}function gt(){let e=f_();for(;e!==null&&e.type===64;)e=e.parent;return e}function f_(){return J.lFrame.currentTNode}function _S(){let e=J.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ao(e,t){let n=J.lFrame;n.currentTNode=e,n.isParent=t}function h_(){return J.lFrame.isParent}function CS(){J.lFrame.isParent=!1}function p_(){return Ld}function Kv(e){let t=Ld;return Ld=e,t}function wS(e){return J.lFrame.bindingIndex=e}function xl(){return J.lFrame.bindingIndex++}function ES(e){let t=J.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function DS(){return J.lFrame.inI18n}function bS(e,t){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=e,Vd(t)}function IS(){return J.lFrame.currentDirectiveIndex}function Vd(e){J.lFrame.currentDirectiveIndex=e}function SS(e){let t=J.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function g_(e){J.lFrame.currentQueryIndex=e}function MS(e){let t=e[X];return t.type===2?t.declTNode:t.type===1?e[Tt]:null}function m_(e,t,n){if(n&W.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&W.Host);)if(i=MS(o),i===null||(o=o[To],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=J.lFrame=v_();return r.currentTNode=t,r.lView=e,!0}function Mf(e){let t=v_(),n=e[X];J.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function v_(){let e=J.lFrame,t=e===null?null:e.child;return t===null?y_(e):t}function y_(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function __(){let e=J.lFrame;return J.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var C_=__;function Tf(){let e=__();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ui(){return J.lFrame.selectedIndex}function ar(e){J.lFrame.selectedIndex=e}function xf(){let e=J.lFrame;return c_(e.tView,e.selectedIndex)}function TS(){return J.lFrame.currentNamespace}var w_=!0;function Af(){return w_}function Nf(e){w_=e}function xS(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=o_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function E_(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function za(e,t,n){D_(e,t,3,n)}function Wa(e,t,n,r){(e[V]&3)===n&&D_(e,t,n,r)}function _d(e,t){let n=e[V];(n&3)===t&&(n&=16383,n+=1,e[V]=n)}function D_(e,t,n,r){let i=r!==void 0?e[Yr]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[Yr]+=65536),(a<o||o==-1)&&(AS(e,n,t,l),e[Yr]=(e[Yr]&4294901760)+l+2),l++}function Xv(e,t){ht(4,e,t);let n=K(null);try{t.call(e)}finally{K(n),ht(5,e,t)}}function AS(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[V]>>14<e[Yr]>>16&&(e[V]&3)===t&&(e[V]+=16384,Xv(a,o)):Xv(a,o)}var Xr=-1,lr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function NS(e){return e instanceof lr}function RS(e){return(e.flags&8)!==0}function OS(e){return(e.flags&16)!==0}function kS(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];FS(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function PS(e){return e===3||e===4||e===6}function FS(e){return e.charCodeAt(0)===64}function Eo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Jv(e,n,i,null,t[++r]):Jv(e,n,i,null,null))}}return e}function Jv(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Cd={},jd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Dl(r);let i=this.injector.get(t,Cd,r);return i!==Cd||n===Cd?i:this.parentInjector.get(t,n,r)}};function b_(e){return e!==Xr}function ol(e){return e&32767}function LS(e){return e>>16}function sl(e,t){let n=LS(e),r=t;for(;n>0;)r=r[To],n--;return r}var Bd=!0;function ey(e){let t=Bd;return Bd=e,t}var VS=256,I_=VS-1,S_=5,jS=0,jt={};function BS(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vo)&&(r=n[vo]),r==null&&(r=n[vo]=jS++);let i=r&I_,o=1<<i;t.data[e+(i>>S_)]|=o}function al(e,t){let n=M_(e,t);if(n!==-1)return n;let r=t[X];r.firstCreatePass&&(e.injectorIndex=t.length,wd(r.data,e),wd(t,null),wd(r.blueprint,null));let i=Rf(e,t),o=e.injectorIndex;if(b_(i)){let s=ol(i),a=sl(i,t),l=a[X].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function wd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function M_(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Rf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=R_(i),r===null)return Xr;if(n++,i=i[To],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xr}function Ud(e,t,n){BS(e,t,n)}function T_(e,t,n){if(n&W.Optional||e!==void 0)return e;_f(t,"NodeInjector")}function x_(e,t,n,r){if(n&W.Optional&&r===void 0&&(r=null),!(n&(W.Self|W.Host))){let i=e[Co],o=dt(void 0);try{return i?i.get(t,r,n&W.Optional):jy(t,r,n&W.Optional)}finally{dt(o)}}return T_(r,t,n)}function A_(e,t,n,r=W.Default,i){if(e!==null){if(t[V]&2048&&!(r&W.Self)){let s=WS(e,t,n,r,jt);if(s!==jt)return s}let o=N_(e,t,n,r,jt);if(o!==jt)return o}return x_(t,n,r,i)}function N_(e,t,n,r,i){let o=HS(n);if(typeof o=="function"){if(!m_(t,e,r))return r&W.Host?T_(i,n,r):x_(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&W.Optional))_f(n);else return s}finally{C_()}}else if(typeof o=="number"){let s=null,a=M_(e,t),l=Xr,c=r&W.Host?t[Ut][Tt]:null;for((a===-1||r&W.SkipSelf)&&(l=a===-1?Rf(e,t):t[a+8],l===Xr||!ny(r,!1)?a=-1:(s=t[X],a=ol(l),t=sl(l,t)));a!==-1;){let u=t[X];if(ty(o,a,u.data)){let d=US(a,t,n,s,r,c);if(d!==jt)return d}l=t[a+8],l!==Xr&&ny(r,t[X].data[a+8]===c)&&ty(o,a,t)?(s=u,a=ol(l),t=sl(l,t)):a=-1}}return i}function US(e,t,n,r,i,o){let s=t[X],a=s.data[e+8],l=r==null?dr(a)&&Bd:r!=s&&(a.type&3)!==0,c=i&W.Host&&o===a,u=$S(a,s,n,l,c);return u!==null?ll(t,s,u,a):jt}function $S(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=s[l];if(h&&un(h)&&h.type===n)return l}return null}function ll(e,t,n,r){let i=e[n],o=t.data;if(NS(i)){let s=i;s.resolving&&OI(RI(o[n]));let a=ey(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?dt(s.injectImpl):null,u=m_(e,r,W.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&xS(n,o[n],t)}finally{c!==null&&dt(c),ey(a),s.resolving=!1,C_()}}return i}function HS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(vo)?e[vo]:void 0;return typeof t=="number"?t>=0?t&I_:zS:t}function ty(e,t,n){let r=1<<e;return!!(n[t+(e>>S_)]&r)}function ny(e,t){return!(e&W.Self)&&!(e&W.Host&&t)}var nr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return A_(this._tNode,this._lView,t,Dl(r),n)}};function zS(){return new nr(gt(),he())}function di(e){return So(()=>{let t=e.prototype.constructor,n=t[Qa]||$d(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Qa]||$d(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function $d(e){return Oy(e)?()=>{let t=$d($e(e));return t&&t()}:Jr(e)}function WS(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[V]&2048&&!rl(s);){let a=N_(o,s,n,r|W.Self,jt);if(a!==jt)return a;let l=o.parent;if(!l){let c=s[t_];if(c){let u=c.get(n,jt,r);if(u!==jt)return u}l=R_(s),s=s[To]}o=l}return i}function R_(e){let t=e[X],n=t.type;return n===2?t.declTNode:n===1?e[Tt]:null}function ry(e,t=null,n=null,r){let i=O_(e,t,n,r);return i.resolveInjectorInitializers(),i}function O_(e,t=null,n=null,r,i=new Set){let o=[n||ft,GI(e)];return r=r||(typeof e=="object"?void 0:Ye(e)),new _o(o,t||Ef(),r||null,i)}var nt=class e{static THROW_IF_NOT_FOUND=yo;static NULL=new Ka;static create(t,n){if(Array.isArray(t))return ry({name:""},n,t,"");{let r=t.name??"";return ry({name:r},t.parent,t.providers,r)}}static \u0275prov=x({token:e,providedIn:"any",factory:()=>D(Hy)});static __NG_ELEMENT_ID__=-1};var GS=new I("");GS.__NG_ELEMENT_ID__=e=>{let t=gt();if(t===null)throw new T(204,!1);if(t.type&2)return t.value;if(e&W.Optional)return null;throw new T(204,!1)};var k_=!1,No=(()=>{class e{static __NG_ELEMENT_ID__=qS;static __NG_ENV_ID__=n=>n}return e})(),Hd=class extends No{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return d_(this._lView,t),()=>uS(this._lView,t)}};function qS(){return new Hd(he())}var ii=class{},Al=new I("",{providedIn:"root",factory:()=>!1});var P_=new I(""),F_=new I(""),pn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Oe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),Of=(()=>{class e{internalPendingTasks=C(pn);scheduler=C(ii);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(n))}}run(n){return ge(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),zd=class extends ue{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,Jy()&&(this.destroyRef=C(No,{optional:!0})??void 0,this.pendingTasks=C(pn,{optional:!0})??void 0)}emit(t){let n=K(null);try{super.next(t)}finally{K(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof me&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ke=zd;function cl(...e){}function L_(e){let t,n;function r(){e=cl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function iy(e){return queueMicrotask(()=>e()),()=>{e=cl}}var kf="isAngularZone",ul=kf+"_ID",QS=0,ne=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ke(!1);onMicrotaskEmpty=new ke(!1);onStable=new ke(!1);onError=new ke(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=k_}=t;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,KS(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(kf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,YS,cl,cl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},YS={};function Pf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ZS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){L_(()=>{e.callbackScheduled=!1,Wd(e),e.isCheckStableRunning=!0,Pf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Wd(e)}function KS(e){let t=()=>{ZS(e)},n=QS++;e._inner=e._inner.fork({name:"angular",properties:{[kf]:!0,[ul]:n,[ul+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(XS(l))return r.invokeTask(o,s,a,l);try{return oy(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),sy(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return oy(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!JS(l)&&t(),sy(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Wd(e),Pf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Wd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function oy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sy(e){e._nesting--,Pf(e)}var Gd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ke;onMicrotaskEmpty=new ke;onStable=new ke;onError=new ke;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function XS(e){return V_(e,"__ignore_ng_zone__")}function JS(e){return V_(e,"__scheduler_tick__")}function V_(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var On=class{_console=console;handleError(t){this._console.error("ERROR",t)}},eM=new I("",{providedIn:"root",factory:()=>{let e=C(ne),t=C(On);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function ay(e,t){return Ny(e,t)}function tM(e){return Ny(Ay,e)}var j_=(ay.required=tM,ay);function nM(){return Nl(gt(),he())}function Nl(e,t){return new gn(xt(e,t))}var gn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=nM}return e})();var ly=new Set;function fi(e){ly.has(e)||(ly.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function rM(e){return typeof e=="function"&&e[et]!==void 0}function Ro(e,t){fi("NgSignals");let n=wv(e),r=n[et];return t?.equal&&(r.equal=t.equal),n.set=i=>pa(r,i),n.update=i=>Ev(r,i),n.asReadonly=iM.bind(n),n}function iM(){let e=this[et];if(e.readonlyFn===void 0){let t=()=>this();t[et]=e,e.readonlyFn=t}return e.readonlyFn}function B_(e){return rM(e)&&typeof e.set=="function"}function U_(e){return(e.flags&128)===128}var $_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}($_||{}),H_=new Map,oM=0;function sM(){return oM++}function aM(e){H_.set(e[Sl],e)}function qd(e){H_.delete(e[Sl])}var cy="__ngContext__";function hi(e,t){Rn(t)?(e[cy]=t[Sl],aM(t)):e[cy]=t}function z_(e){return G_(e[wo])}function W_(e){return G_(e[St])}function G_(e){for(;e!==null&&!hn(e);)e=e[St];return e}var Qd;function q_(e){Qd=e}function lM(){if(Qd!==void 0)return Qd;if(typeof document<"u")return document;throw new T(210,!1)}var Ff=new I("",{providedIn:"root",factory:()=>cM}),cM="ng",Lf=new I(""),mt=new I("",{providedIn:"platform",factory:()=>"unknown"});var Vf=new I("",{providedIn:"root",factory:()=>lM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var uM="h",dM="b";var Q_=!1,fM=new I("",{providedIn:"root",factory:()=>Q_});var Y_=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Y_||{}),Rl=new I("");var hM=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})();var pM=()=>null;function Z_(e,t,n=!1){return pM(e,t,n)}function K_(e,t){let n=e.contentQueries;if(n!==null){let r=K(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];g_(o),a.contentQueries(2,t[s],s)}}}finally{K(r)}}}function Yd(e,t,n){g_(0);let r=K(null);try{t(e,n)}finally{K(r)}}function X_(e,t,n){if(r_(t)){let r=K(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{K(r)}}}var zt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(zt||{});var dl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xy})`}};function Ol(e){return e instanceof dl?e.changingThisBreaksApplicationSecurity:e}function J_(e,t){let n=gM(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${xy})`)}return n===t}function gM(e){return e instanceof dl&&e.getTypeName()||null}var mM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function e0(e){return e=String(e),e.match(mM)?e:"unsafe:"+e}var jf=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(jf||{});function pi(e){let t=vM();return t?t.sanitize(jf.URL,e)||"":J_(e,"URL")?Ol(e):e0(El(e))}function vM(){let e=he();return e&&e[ln].sanitizer}function t0(e){return e.ownerDocument.defaultView}function n0(e){return e.ownerDocument}function r0(e){return e instanceof Function?e():e}function yM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var i0="ng-template";function _M(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&yM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Bf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Bf(e){return e.type===4&&e.value!==i0}function CM(e,t,n){let r=e.type===4&&!n?i0:e.value;return t===r}function wM(e,t,n){let r=4,i=e.attrs,o=i!==null?bM(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!It(r)&&!It(l))return!1;if(s&&It(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!CM(e,l,n)||l===""&&t.length===1){if(It(r))return!1;s=!0}}else if(r&8){if(i===null||!_M(e,i,l,n)){if(It(r))return!1;s=!0}}else{let c=t[++a],u=EM(l,i,Bf(e),n);if(u===-1){if(It(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(It(r))return!1;s=!0}}}}return It(r)||s}function It(e){return(e&1)===0}function EM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return IM(t,e)}function DM(e,t,n=!1){for(let r=0;r<t.length;r++)if(wM(e,t[r],n))return!0;return!1}function bM(e){for(let t=0;t<e.length;t++){let n=e[t];if(PS(n))return t}return e.length}function IM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function uy(e,t){return e?":not("+t.trim()+")":t}function SM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!It(s)&&(t+=uy(o,i),i=""),r=s,o=o||!It(r);n++}return i!==""&&(t+=uy(o,i)),t}function MM(e){return e.map(SM).join(",")}function TM(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!It(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var gi={};function xM(e,t){return e.createText(t)}function AM(e,t,n){e.setValue(t,n)}function o0(e,t,n){return e.createElement(t,n)}function fl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function s0(e,t,n){e.appendChild(t,n)}function dy(e,t,n,r,i){r!==null?fl(e,t,n,r,i):s0(e,t,n)}function NM(e,t,n){e.removeChild(null,t,n)}function RM(e,t,n){e.setAttribute(t,"style",n)}function OM(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function a0(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&kS(e,t,r),i!==null&&OM(e,t,i),o!==null&&RM(e,t,o)}function Uf(e,t,n,r,i,o,s,a,l,c,u){let d=cn+r,f=d+i,h=kM(d,f),p=typeof c=="function"?c():c;return h[X]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function kM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:gi);return n}function PM(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Uf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function $f(e,t,n,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[fn]=i,d[V]=r|4|128|8|64|1024,(c!==null||e&&e[V]&2048)&&(d[V]|=2048),u_(d),d[He]=d[To]=e,d[Bt]=n,d[ln]=s||e&&e[ln],d[Se]=a||e&&e[Se],d[Co]=l||e&&e[Co]||null,d[Tt]=o,d[Sl]=sM(),d[Xa]=u,d[t_]=c,d[Ut]=t.type==2?e[Ut]:d,d}function FM(e,t,n){let r=xt(t,e),i=PM(n),o=e[ln].rendererFactory,s=Hf(e,$f(e,i,null,l0(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function l0(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function c0(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Hf(e,t){return e[wo]?e[Yv][St]=t:e[wo]=t,e[Yv]=t,t}function Le(e=1){u0(rt(),he(),ui()+e,!1)}function u0(e,t,n,r){if(!r)if((t[V]&3)===3){let o=e.preOrderCheckHooks;o!==null&&za(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Wa(t,o,0,n)}ar(n)}var kl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(kl||{});function d0(e,t,n,r){let i=K(null);try{let[o,s,a]=e.inputs[n],l=null;s&kl.SignalBased&&(l=t[o][et]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):i_(t,l,o,r)}finally{K(i)}}function f0(e,t,n,r,i){let o=ui(),s=r&2;try{ar(-1),s&&t.length>cn&&u0(e,t,cn,!1),ht(s?2:0,i),n(r,i)}finally{ar(o),ht(s?3:1,i)}}function h0(e,t,n){Sf()&&(hi(xt(n,t),t),p0(e,t,n))}function p0(e,t,n){$M(e,t,n),(n.flags&64)===64&&HM(e,t,n)}function g0(e,t,n=xt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function LM(e,t,n,r){let o=r.get(fM,Q_)||n===zt.ShadowDom,s=e.selectRootElement(t,o);return VM(s),s}function VM(e){jM(e)}var jM=()=>null;function BM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function m0(e,t,n,r,i,o,s,a){let l=t.inputs,c;if(!a&&l!=null&&(c=l[r]))zf(e,n,c,r,i),dr(t)&&UM(n,t.index);else if(t.type&3){let u=xt(t,n);r=BM(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(u,r,i)}else t.type&12}function UM(e,t){let n=Ht(t,e);n[V]&16||(n[V]|=64)}function $M(e,t,n){let r=n.directiveStart,i=n.directiveEnd;dr(n)&&FM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||al(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=ll(t,e,s,n);if(hi(l,t),o!==null&&qM(t,s-r,l,a,n,o),un(a)){let c=Ht(n.index,t);c[Bt]=ll(t,e,s,n)}}}function HM(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=IS();try{ar(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];Vd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&zM(l,c)}}finally{ar(-1),Vd(s)}}function zM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function v0(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];DM(t,o.selectors,!1)&&(r??=[],un(o)?r.unshift(o):r.push(o))}return r}function WM(e,t,n,r,i,o){let s=xt(e,t);GM(t[Se],s,o,e.value,n,r,i)}function GM(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?El(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function qM(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];d0(r,n,l,c)}}function y0(e,t){let n=e[Co],r=n?n.get(On,null):null;r&&r.handleError(t)}function zf(e,t,n,r,i){for(let o=0;o<n.length;o+=2){let s=n[o],a=n[o+1],l=t[s],c=e.data[s];d0(c,l,a,i)}}function QM(e,t){let n=Ht(t,e),r=n[X];YM(r,n);let i=n[fn];i!==null&&n[Xa]===null&&(n[Xa]=Z_(i,n[Co])),Wf(r,n,n[Bt])}function YM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Wf(e,t,n){Mf(t);try{let r=e.viewQuery;r!==null&&Yd(1,r,n);let i=e.template;i!==null&&f0(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ri]?.finishViewCreation(e),e.staticContentQueries&&K_(e,t),e.staticViewQueries&&Yd(2,e.viewQuery,n);let o=e.components;o!==null&&ZM(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[V]&=-5,Tf()}}function ZM(e,t){for(let n=0;n<t.length;n++)QM(e,t[n])}function KM(e,t,n,r){let i=K(null);try{let o=t.tView,a=e[V]&4096?4096:16,l=$f(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[ni]=c;let u=e[ri];return u!==null&&(l[ri]=u.createEmbeddedView(o)),Wf(o,l,n),l}finally{K(i)}}function fy(e,t){return!t||t.firstChild===null||U_(e)}var XM;function Gf(e,t){return XM(e,t)}var Wt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Wt||{});function _0(e){return(e.flags&32)===32}function Zr(e,t,n,r,i){if(r!=null){let o,s=!1;hn(r)?o=r:Rn(r)&&(s=!0,r=r[fn]);let a=$t(r);e===0&&n!==null?i==null?s0(t,n,a):fl(t,n,a,i||null,!0):e===1&&n!==null?fl(t,n,a,i||null,!0):e===2?NM(t,a,s):e===3&&t.destroyNode(a),o!=null&&uT(t,e,o,n,i)}}function JM(e,t){C0(e,t),t[fn]=null,t[Tt]=null}function eT(e,t,n,r,i,o){r[fn]=i,r[Tt]=t,Pl(e,r,n,1,i,o)}function C0(e,t){t[ln].changeDetectionScheduler?.notify(10),Pl(e,t,t[Se],2,null,null)}function tT(e){let t=e[wo];if(!t)return Ed(e[X],e);for(;t;){let n=null;if(Rn(t))n=t[wo];else{let r=t[pt];r&&(n=r)}if(!n){for(;t&&!t[St]&&t!==e;)Rn(t)&&Ed(t[X],t),t=t[He];t===null&&(t=e),Rn(t)&&Ed(t[X],t),n=t&&t[St]}t=n}}function qf(e,t){let n=e[nl],r=n.indexOf(t);n.splice(r,1)}function w0(e,t){if(xo(t))return;let n=t[Se];n.destroyNode&&Pl(e,t,n,3,null,null),tT(t)}function Ed(e,t){if(xo(t))return;let n=K(null);try{t[V]&=-129,t[V]|=256,t[tt]&&Qu(t[tt]),rT(e,t),nT(e,t),t[X].type===1&&t[Se].destroy();let r=t[ni];if(r!==null&&hn(t[He])){r!==t[He]&&qf(r,t);let i=t[ri];i!==null&&i.detachView(e)}qd(t)}finally{K(n)}}function nT(e,t){let n=e.cleanup,r=t[Ja];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[Ja]=null);let i=t[Nn];if(i!==null){t[Nn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[el];if(o!==null){t[el]=null;for(let s of o)s.destroy()}}function rT(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof lr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ht(4,a,l);try{l.call(a)}finally{ht(5,a,l)}}else{ht(4,i,o);try{o.call(i)}finally{ht(5,i,o)}}}}}function iT(e,t,n){return oT(e,t.parent,n)}function oT(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[fn];if(dr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===zt.None||i===zt.Emulated)return null}return xt(r,n)}function sT(e,t,n){return lT(e,t,n)}function aT(e,t,n){return e.type&40?xt(e,n):null}var lT=aT,hy;function Qf(e,t,n,r){let i=iT(e,r,t),o=t[Se],s=r.parent||t[Tt],a=sT(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)dy(o,i,n[l],a,!1);else dy(o,i,n,a,!1);hy!==void 0&&hy(o,r,t,n,i)}function mo(e,t){if(t!==null){let n=t.type;if(n&3)return xt(t,e);if(n&4)return Zd(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return mo(e,r);{let i=e[t.index];return hn(i)?Zd(-1,i):$t(i)}}else{if(n&128)return mo(e,t.next);if(n&32)return Gf(t,e)()||$t(e[t.index]);{let r=E0(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=sr(e[Ut]);return mo(i,r)}else return mo(e,t.next)}}}return null}function E0(e,t){if(t!==null){let r=e[Ut][Tt],i=t.projection;return r.projection[i]}return null}function Zd(e,t){let n=pt+e+1;if(n<t.length){let r=t[n],i=r[X].firstChild;if(i!==null)return mo(r,i)}return t[or]}function Yf(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&hi($t(a),r),n.flags|=2),!_0(n))if(l&8)Yf(e,t,n.child,r,i,o,!1),Zr(t,e,i,a,o);else if(l&32){let c=Gf(n,r),u;for(;u=c();)Zr(t,e,i,u,o);Zr(t,e,i,a,o)}else l&16?cT(e,t,r,n,i,o):Zr(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Pl(e,t,n,r,i,o){Yf(n,r,e.firstChild,t,i,o,!1)}function cT(e,t,n,r,i,o){let s=n[Ut],l=s[Tt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Zr(t,e,i,u,o)}else{let c=l,u=s[He];U_(r)&&(c.flags|=128),Yf(e,t,c,u,i,o,!0)}}function uT(e,t,n,r,i){let o=n[or],s=$t(n);o!==s&&Zr(t,e,r,o,i);for(let a=pt;a<n.length;a++){let l=n[a];Pl(l[X],l,e,t,r,o)}}function dT(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Wt.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Wt.Important),e.setStyle(n,r,i,o))}}function hl(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push($t(o)),hn(o)&&fT(o,r);let s=n.type;if(s&8)hl(e,t,n.child,r);else if(s&32){let a=Gf(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=E0(t,n);if(Array.isArray(a))r.push(...a);else{let l=sr(t[Ut]);hl(l[X],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function fT(e,t){for(let n=pt;n<e.length;n++){let r=e[n],i=r[X].firstChild;i!==null&&hl(r[X],r,i,t)}e[or]!==e[fn]&&t.push(e[or])}var D0=[];function hT(e){return e[tt]??pT(e)}function pT(e){let t=D0.pop()??Object.create(mT);return t.lView=e,t}function gT(e){e.lView[tt]!==e&&(e.lView=null,D0.push(e))}var mT=z(E({},so),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Tl(e.lView)},consumerOnSignalRead(){this.lView[tt]=this}});function vT(e){let t=e[tt]??Object.create(yT);return t.lView=e,t}var yT=z(E({},so),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=sr(e.lView);for(;t&&!b0(t[X]);)t=sr(t);t&&If(t)},consumerOnSignalRead(){this.lView[tt]=this}});function b0(e){return e.type!==2}function I0(e){if(e[el]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[el])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[V]&8192)}}var _T=100;function S0(e,t=!0,n=0){let i=e[ln].rendererFactory,o=!1;o||i.begin?.();try{CT(e,n)}catch(s){throw t&&y0(e,s),s}finally{o||i.end?.()}}function CT(e,t){let n=p_();try{Kv(!0),Kd(e,t);let r=0;for(;Ml(e);){if(r===_T)throw new T(103,!1);r++,Kd(e,1)}}finally{Kv(n)}}function wT(e,t,n,r){if(xo(t))return;let i=t[V],o=!1,s=!1;Mf(t);let a=!0,l=null,c=null;o||(b0(e)?(c=hT(t),l=da(c)):uv()===null?(a=!1,c=vT(t),l=da(c)):t[tt]&&(Qu(t[tt]),t[tt]=null));try{u_(t),wS(e.bindingStartIndex),n!==null&&f0(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&za(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Wa(t,h,0,null),_d(t,0)}if(s||ET(t),I0(t),M0(t,0),e.contentQueries!==null&&K_(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&za(t,h)}else{let h=e.contentHooks;h!==null&&Wa(t,h,1),_d(t,1)}bT(e,t);let d=e.components;d!==null&&x0(t,d,0);let f=e.viewQuery;if(f!==null&&Yd(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&za(t,h)}else{let h=e.viewHooks;h!==null&&Wa(t,h,2),_d(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[yd]){for(let h of t[yd])h();t[yd]=null}o||(t[V]&=-73)}catch(u){throw o||Tl(t),u}finally{c!==null&&(Gu(c,l),a&&gT(c)),Tf()}}function M0(e,t){for(let n=z_(e);n!==null;n=W_(n))for(let r=pt;r<n.length;r++){let i=n[r];T0(i,t)}}function ET(e){for(let t=z_(e);t!==null;t=W_(t)){if(!(t[V]&2))continue;let n=t[nl];for(let r=0;r<n.length;r++){let i=n[r];If(i)}}}function DT(e,t,n){let r=Ht(t,e);T0(r,n)}function T0(e,t){bf(e)&&Kd(e,t)}function Kd(e,t){let r=e[X],i=e[V],o=e[tt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&qu(o)),s||=!1,o&&(o.dirty=!1),e[V]&=-9217,s)wT(r,e,r.template,e[Bt]);else if(i&8192){I0(e),M0(e,1);let a=r.components;a!==null&&x0(e,a,1)}}function x0(e,t,n){for(let r=0;r<t.length;r++)DT(e,t[r],n)}function bT(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ar(~i);else{let o=i,s=n[++r],a=n[++r];bS(s,o);let l=t[o];ht(24,l),a(2,l),ht(25,l)}}}finally{ar(-1)}}function Zf(e,t){let n=p_()?64:1088;for(e[ln].changeDetectionScheduler?.notify(t);e;){e[V]|=n;let r=sr(e);if(rl(e)&&!r)return e;e=r}return null}function A0(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function IT(e,t,n,r=!0){let i=t[X];if(ST(i,t,e,n),r){let s=Zd(n,e),a=t[Se],l=a.parentNode(e[or]);l!==null&&eT(i,e[Tt],a,t,l,s)}let o=t[Xa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Xd(e,t){if(e.length<=pt)return;let n=pt+t,r=e[n];if(r){let i=r[ni];i!==null&&i!==e&&qf(i,r),t>0&&(e[n-1][St]=r[St]);let o=Za(e,pt+t);JM(r[X],r);let s=o[ri];s!==null&&s.detachView(o[X]),r[He]=null,r[St]=null,r[V]&=-129}return r}function ST(e,t,n,r){let i=pt+r,o=n.length;r>0&&(n[i-1][St]=t),r<o-pt?(t[St]=n[i],$y(n,pt+r,t)):(n.push(t),t[St]=null),t[He]=n;let s=t[ni];s!==null&&n!==s&&N0(s,t);let a=t[ri];a!==null&&a.insertView(e),Fd(t),t[V]|=128}function N0(e,t){let n=e[nl],r=t[He];if(Rn(r))e[V]|=2;else{let i=r[He][Ut];t[Ut]!==i&&(e[V]|=2)}n===null?e[nl]=[t]:n.push(t)}var cr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[X];return hl(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Bt]}get dirty(){return!!(this._lView[V]&9280)||!!this._lView[tt]?.dirty}set context(t){this._lView[Bt]=t}get destroyed(){return xo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[He];if(hn(t)){let n=t[tl],r=n?n.indexOf(this):-1;r>-1&&(Xd(t,r),Za(n,r))}this._attachedToViewContainer=!1}w0(this._lView[X],this._lView)}onDestroy(t){d_(this._lView,t)}markForCheck(){Zf(this._cdRefInjectingView||this._lView,4)}markForRefresh(){If(this._cdRefInjectingView||this._lView)}detach(){this._lView[V]&=-129}reattach(){Fd(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,S0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=rl(this._lView),n=this._lView[ni];n!==null&&!t&&qf(n,this._lView),C0(this._lView[X],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t;let n=rl(this._lView),r=this._lView[ni];r!==null&&!n&&N0(r,this._lView),Fd(this._lView)}},Kf=(()=>{class e{static __NG_ELEMENT_ID__=xT}return e})(),MT=Kf,TT=class extends MT{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=KM(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new cr(i)}};function xT(){return AT(gt(),he())}function AT(e,t){return e.type&4?new TT(t,e,Nl(e,t)):null}function Xf(e,t,n,r,i){let o=e.data[t];if(o===null)o=NT(e,t,n,r,i),DS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=_S();o.injectorIndex=s===null?-1:s.injectorIndex}return Ao(o,!0),o}function NT(e,t,n,r,i){let o=f_(),s=h_(),a=s?o:o&&o.parent,l=e.data[t]=OT(e,a,n,t,r,i);return RT(e,l,o,s),l}function RT(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function OT(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return mS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var oH=new RegExp(`^(\\d+)*(${dM}|${uM})*(.*)`);var kT=()=>null;function py(e,t){return kT(e,t)}var Jd=class{},pl=class{},ef=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Ye(t)}.`)}},oi=class{static NULL=new ef},si=class{},Ln=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>PT()}return e})();function PT(){let e=he(),t=gt(),n=Ht(t.index,e);return(Rn(n)?n:e)[Se]}var FT=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>null})}return e})();function gy(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Hv(i,a);else if(o==2){let l=a,c=t[++s];r=Hv(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Z(e,t=W.Default){let n=he();if(n===null)return D(e,t);let r=gt();return A_(r,n,$e(e),t)}function R0(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let[a,l]=VT(e,n,s);BT(e,t,n,a,o,l)}o!==null&&r!==null&&LT(n,r,o)}function LT(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new T(-301,!1);r.push(t[i],o)}}function VT(e,t,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),un(o)&&(r.push(o),jT(e,t,r.length-1));return dr(t)?r.push(...n.slice(1)):r.push(...n),[r,i]}function jT(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function BT(e,t,n,r,i,o){for(let c=0;c<r.length;c++)Ud(al(n,t),e,r[c].type);qT(n,e.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=c0(e,t,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Eo(n.mergedAttrs,u.hostAttrs),HT(e,n,t,l,u),GT(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}UT(e,n,o)}function UT(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;l=my(0,d.inputs,u,l,h),c=my(1,d.outputs,u,c,p);let g=l!==null&&s!==null&&!Bf(t)?$T(l,u,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function my(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a=o;if(i!==null){if(!i.hasOwnProperty(o))continue;a=i[o]}e===0?vy(r,n,a,o):vy(r,n,a,s)}return r}function vy(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function $T(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){let s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r??=[],r.push(s[a+1],n[i+1]);break}}i+=2}return r}function HT(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Jr(i.type,!0)),s=new lr(o,un(i),Z);e.blueprint[r]=s,n[r]=s,zT(e,t,r,c0(e,n,i.hostVars,gi),i)}function zT(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;WT(s)!=a&&s.push(a),s.push(n,r,o)}}function WT(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function GT(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;un(t)&&(n[""]=e)}}function qT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function O0(e,t,n,r,i,o,s,a){let l=t.consts,c=il(l,s),u=Xf(t,e,2,r,c);return o&&R0(t,n,u,il(l,a),i),u.mergedAttrs=Eo(u.mergedAttrs,u.attrs),u.attrs!==null&&gy(u,u.attrs,!1),u.mergedAttrs!==null&&gy(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function k0(e,t){E_(e,t),r_(t)&&e.queries.elementEnd(t)}var gl=class extends oi{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ir(t);return new Do(n,this.ngModule)}};function QT(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&kl.SignalBased)!==0};return i&&(o.transform=i),o})}function YT(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function ZT(e,t,n){let r=t instanceof Ie?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new jd(n,r):n}function KT(e){let t=e.get(si,null);if(t===null)throw new T(407,!1);let n=e.get(FT,null),r=e.get(ii,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function XT(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return o0(t,n,n==="svg"?aS:n==="math"?lS:null)}var Do=class extends pl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){return QT(this.componentDef.inputs)}get outputs(){return YT(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=MM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){let o=K(null);try{let s=this.componentDef,a=r?["ng-version","19.1.7"]:TM(this.componentDef.selectors[0]),l=Uf(0,null,null,1,0,null,null,null,null,[a],null),c=ZT(s,i||this.ngModule,t),u=KT(c),d=u.rendererFactory.createRenderer(null,s),f=r?LM(d,r,s.encapsulation,c):XT(s,d),h=$f(null,l,null,512|l0(s),null,null,u,d,c,null,Z_(f,c,!0));h[cn]=f,Mf(h);let p=null;try{let g=O0(cn,l,h,"#host",()=>[this.componentDef],!0,0);f&&(a0(d,f,g),hi(f,h)),p0(l,h,g),X_(l,g,h),k0(l,g),n!==void 0&&JT(g,this.ngContentSelectors,n),p=Ht(g.index,h),h[Bt]=p[Bt],Wf(l,h,null)}catch(g){throw p!==null&&qd(p),qd(h),g}finally{Tf()}return new tf(this.componentType,h)}finally{K(o)}}},tf=class extends Jd{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=c_(n[X],cn),this.location=Nl(this._tNode,n),this.instance=Ht(this._tNode.index,n)[Bt],this.hostView=this.changeDetectorRef=new cr(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;zf(o[X],o,i,t,n),this.previousInputValues.set(t,n);let s=Ht(this._tNode.index,o);Zf(s,1)}}get injector(){return new nr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function JT(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Oo=(()=>{class e{static __NG_ELEMENT_ID__=ex}return e})();function ex(){let e=gt();return nx(e,he())}var tx=Oo,P0=class extends tx{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Nl(this._hostTNode,this._hostLView)}get injector(){return new nr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Rf(this._hostTNode,this._hostLView);if(b_(t)){let n=sl(t,this._hostLView),r=ol(t),i=n[X].data[r+8];return new nr(i,n)}else return new nr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=yy(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=py(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,fy(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!rS(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Do(ir(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(Ie,null);g&&(o=g)}let u=ir(l.componentType??{}),d=py(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,fy(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(cS(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[He],c=new P0(l,l[Tt],l[He]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return IT(s,i,o,r),t.attachToViewContainerRef(),$y(Dd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=yy(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Xd(this._lContainer,n);r&&(Za(Dd(this._lContainer),n),w0(r[X],r))}detach(t){let n=this._adjustIndex(t,-1),r=Xd(this._lContainer,n);return r&&Za(Dd(this._lContainer),n)!=null?new cr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function yy(e){return e[tl]}function Dd(e){return e[tl]||(e[tl]=[])}function nx(e,t){let n,r=t[e.index];return hn(r)?n=r:(n=A0(r,t,null,e),t[e.index]=n,Hf(t,n)),ix(n,t,e,r),new P0(n,e,t)}function rx(e,t){let n=e[Se],r=n.createComment(""),i=xt(t,e),o=n.parentNode(i);return fl(n,o,r,n.nextSibling(i),!1),r}var ix=ax,ox=()=>!1;function sx(e,t,n){return ox(e,t,n)}function ax(e,t,n,r){if(e[or])return;let i;n.type&8?i=$t(r):i=rx(t,n),e[or]=i}var kn=class{},bo=class{};var nf=class extends kn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gl(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Wy(t);this._bootstrapComponents=r0(o.bootstrap),this._r3Injector=O_(t,n,[{provide:kn,useValue:this},{provide:oi,useValue:this.componentFactoryResolver},...r],Ye(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},rf=class extends bo{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new nf(this.moduleType,t,[])}};var ml=class extends kn{injector;componentFactoryResolver=new gl(this);instance=null;constructor(t){super();let n=new _o([...t.providers,{provide:kn,useValue:this},{provide:oi,useValue:this.componentFactoryResolver}],t.parent||Ef(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Jf(e,t,n=null){return new ml({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var lx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Yy(!1,n.type),i=r.length>0?Jf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(D(Ie))})}return e})();function ve(e){return So(()=>{let t=F0(e),n=z(E({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===$_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(lx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||zt.Emulated,styles:e.styles||ft,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&fi("NgStandalone"),L0(n);let r=e.dependencies;return n.directiveDefs=_y(r,!1),n.pipeDefs=_y(r,!0),n.id=hx(n),n})}function cx(e){return ir(e)||Gy(e)}function ux(e){return e!==null}function At(e){return So(()=>({type:e.type,bootstrap:e.bootstrap||ft,declarations:e.declarations||ft,imports:e.imports||ft,exports:e.exports||ft,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function dx(e,t){if(e==null)return rr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=kl.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function fx(e){if(e==null)return rr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ke(e){return So(()=>{let t=F0(e);return L0(t),t})}function F0(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||rr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ft,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:dx(e.inputs,t),outputs:fx(e.outputs),debugInfo:null}}function L0(e){e.features?.forEach(t=>t(e))}function _y(e,t){if(!e)return null;let n=t?qy:cx;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(ux)}function hx(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function px(e){return Object.getPrototypeOf(e.prototype).constructor}function fr(e){let t=px(e.type),n=!0,r=[e];for(;t;){let i;if(un(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=bd(e.inputs),s.declaredInputs=bd(e.declaredInputs),s.outputs=bd(e.outputs);let a=i.hostBindings;a&&_x(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&vx(e,l),c&&yx(e,c),gx(e,i),bI(e.outputs,i.outputs),un(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===fr&&(n=!1)}}t=Object.getPrototypeOf(t)}mx(r)}function gx(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function mx(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Eo(i.hostAttrs,n=Eo(n,i.hostAttrs))}}function bd(e){return e===rr?{}:e===ft?[]:e}function vx(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function yx(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function _x(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function V0(e){return eh(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Cx(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function eh(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function ko(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function wx(e,t,n,r,i,o,s,a,l){let c=t.consts,u=Xf(t,e,4,s||null,a||null);Sf()&&R0(t,n,u,il(c,l),v0),u.mergedAttrs=Eo(u.mergedAttrs,u.attrs),E_(t,u);let d=u.tView=Uf(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Ex(e,t,n,r,i,o,s,a,l,c){let u=n+cn,d=t.firstCreatePass?wx(u,t,e,r,i,o,s,a,l):t.data[u];Ao(d,!1);let f=Dx(t,e,d,n);Af()&&Qf(t,e,f,d),hi(f,e);let h=A0(f,e,f,d);return e[u]=h,Hf(e,h),sx(h,d,e),Df(d)&&h0(t,e,d),l!=null&&g0(e,d,c),d}function Po(e,t,n,r,i,o,s,a){let l=he(),c=rt(),u=il(c.consts,o);return Ex(l,c,e,t,n,r,i,u,s,a),Po}var Dx=bx;function bx(e,t,n,r){return Nf(!0),t[Se].createComment("")}var th=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var j0=new I("");function hr(e){return!!e&&typeof e.then=="function"}function B0(e){return!!e&&typeof e.subscribe=="function"}var U0=new I("");var $0=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(U0,{optional:!0})??[];injector=C(nt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ze(this.injector,i);if(hr(o))n.push(o);else if(B0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ix=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new of})}return e})(),of=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}},Fl=new I("");function Sx(){Cv(()=>{throw new T(600,!1)})}function Mx(e){return e.isBoundToModule}var Tx=10;var dn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(eM);afterRenderManager=C(hM);zonelessEnabled=C(Al);rootEffectScheduler=C(Ix);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new ue;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(pn).hasPendingTasks.pipe(k(n=>!n));constructor(){C(Rl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(Ie);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof pl;if(!this._injector.get($0).done){let f=!i&&Qy(n),h=!1;throw new T(405,h)}let s;i?s=n:s=this._injector.get(oi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Mx(s)?void 0:this._injector.get(kn),l=r||s.selector,c=s.create(nt.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(j0,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ga(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Y_.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new T(101,!1);let n=K(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,K(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(si,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<Tx;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)xx(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ml(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ga(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Fl,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ga(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ga(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function xx(e,t,n,r){if(!n&&!Ml(e))return;S0(e,t,n&&!r?0:1)}function Ll(e,t,n,r){let i=he(),o=xl();if(ko(i,o,t)){let s=rt(),a=xf();WM(a,i,e,t,n,r)}return Ll}function Ax(e,t,n,r){return ko(e,xl(),n)?t+El(n)+r:gi}function $a(e,t){return e<<17|t<<2}function ur(e){return e>>17&32767}function Nx(e){return(e&2)==2}function Rx(e,t){return e&131071|t<<17}function sf(e){return e|2}function ai(e){return(e&131068)>>2}function Id(e,t){return e&-131069|t<<2}function Ox(e){return(e&1)===1}function af(e){return e|1}function kx(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=ur(s),l=ai(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Mo(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=ur(e[a+1]);e[r+1]=$a(f,a),f!==0&&(e[f+1]=Id(e[f+1],r)),e[a+1]=Rx(e[a+1],r)}else e[r+1]=$a(a,0),a!==0&&(e[a+1]=Id(e[a+1],r)),a=r;else e[r+1]=$a(l,0),a===0?a=r:e[l+1]=Id(e[l+1],r),l=r;c&&(e[r+1]=sf(e[r+1])),Cy(e,u,r,!0),Cy(e,u,r,!1),Px(t,u,e,r,o),s=$a(a,l),o?t.classBindings=s:t.styleBindings=s}function Px(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Mo(o,t)>=0&&(n[r+1]=af(n[r+1]))}function Cy(e,t,n,r){let i=e[n+1],o=t===null,s=r?ur(i):ai(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];Fx(l,t)&&(a=!0,e[s+1]=r?af(c):sf(c)),s=r?ur(c):ai(c)}a&&(e[n+1]=r?sf(i):af(i))}function Fx(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Mo(e,t)>=0:!1}function Xe(e,t,n){let r=he(),i=xl();if(ko(r,i,t)){let o=rt(),s=xf();m0(o,s,r,e,t,r[Se],n,!1)}return Xe}function wy(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";zf(e,n,o[s],s,r)}function nh(e,t){return Lx(e,t,null,!0),nh}function Lx(e,t,n,r){let i=he(),o=rt(),s=ES(2);if(o.firstUpdatePass&&jx(o,e,s,r),t!==gi&&ko(i,s,t)){let a=o.data[ui()];zx(o,a,i,i[Se],e,i[s+1]=Wx(t,n),r,s)}}function Vx(e,t){return t>=e.expandoStartIndex}function jx(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[ui()],s=Vx(e,n);Gx(o,r)&&t===null&&!s&&(t=!1),t=Bx(i,o,t,r),kx(i,o,t,n,s,r)}}function Bx(e,t,n,r){let i=SS(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Sd(null,e,t,n,r),n=Io(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Sd(i,e,t,n,r),o===null){let l=Ux(e,t,r);l!==void 0&&Array.isArray(l)&&(l=Sd(null,e,t,l[1],r),l=Io(l,t.attrs,r),$x(e,t,r,l))}else o=Hx(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function Ux(e,t,n){let r=n?t.classBindings:t.styleBindings;if(ai(r)!==0)return e[ur(r)]}function $x(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[ur(i)]=r}function Hx(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Io(r,s,n)}return Io(r,t.attrs,n)}function Sd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Io(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Io(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),zI(e,s,n?!0:t[++o]))}return e===void 0?null:e}function zx(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=Ox(c)?Ey(l,t,n,i,ai(c),s):void 0;if(!vl(u)){vl(o)||Nx(c)&&(o=Ey(l,null,n,i,a,s));let d=l_(ui(),n);dT(r,s,d,i,o)}}function Ey(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===gi&&(f=d?ft:void 0);let h=d?md(f,r):u===r?f:void 0;if(c&&!vl(h)&&(h=md(l,r)),vl(h)&&(a=h,s))return a;let p=e[i+1];i=s?ur(p):ai(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=md(l,r))}return a}function vl(e){return e!==void 0}function Wx(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Ye(Ol(e)))),e}function Gx(e,t){return(e.flags&(t?8:16))!==0}function m(e,t,n,r){let i=he(),o=rt(),s=cn+e,a=i[Se],l=o.firstCreatePass?O0(s,o,i,t,v0,Sf(),n,r):o.data[s],c=qx(o,i,l,a,t,e);i[s]=c;let u=Df(l);return Ao(l,!0),a0(a,c,l),!_0(l)&&Af()&&Qf(o,i,c,l),hS()===0&&hi(c,i),pS(),u&&(h0(o,i,l),X_(o,l,i)),r!==null&&g0(i,l),m}function v(){let e=gt();h_()?CS():(e=e.parent,Ao(e,!1));let t=e;vS(t)&&yS(),gS();let n=rt();return n.firstCreatePass&&k0(n,t),t.classesWithoutHost!=null&&RS(t)&&wy(n,t,he(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&OS(t)&&wy(n,t,he(),t.stylesWithoutHost,!1),v}function A(e,t,n,r){return m(e,t,n,r),v(),A}var qx=(e,t,n,r,i,o)=>(Nf(!0),o0(r,i,TS()));var yl="en-US";var Qx=yl;function Yx(e){typeof e=="string"&&(Qx=e.toLowerCase().replace(/_/g,"-"))}var Zx=(e,t,n)=>{};function Q(e,t,n,r){let i=he(),o=rt(),s=gt();return H0(o,i,i[Se],s,e,t,r),Q}function Kx(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[Ja],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function H0(e,t,n,r,i,o,s){let a=Df(r),c=e.firstCreatePass&&fS(e),u=t[Bt],d=dS(t),f=!0;if(r.type&3||s){let g=xt(r,t),y=s?s(g):g,b=d.length,H=s?M=>s($t(M[r.index])):r.index,_=null;if(!s&&a&&(_=Kx(e,t,i,r.index)),_!==null){let M=_.__ngLastListenerFn__||_;M.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1}else{o=by(r,t,u,o),Zx(g,i,o);let M=n.listen(y,i,o);d.push(o,M),c&&c.push(i,H,b,b+1)}}else o=by(r,t,u,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let g=p.length;if(g)for(let y=0;y<g;y+=2){let b=p[y],H=p[y+1],le=t[b][H].subscribe(o),je=d.length;d.push(o,le),c&&c.push(i,r.index,je,-(je+1))}}}function Dy(e,t,n,r){let i=K(null);try{return ht(6,t,n),n(r)!==!1}catch(o){return y0(e,o),!1}finally{ht(7,t,n),K(i)}}function by(e,t,n,r){return function i(o){if(o===Function)return r;let s=dr(e)?Ht(e.index,t):t;Zf(s,5);let a=Dy(t,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Dy(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function S(e,t=""){let n=he(),r=rt(),i=e+cn,o=r.firstCreatePass?Xf(r,i,1,t,null):r.data[i],s=Xx(r,n,o,t,e);n[i]=s,Af()&&Qf(r,n,s,o),Ao(o,!1)}var Xx=(e,t,n,r,i)=>(Nf(!0),xM(t[Se],r));function Vl(e){return z0("",e,""),Vl}function z0(e,t,n){let r=he(),i=Ax(r,e,t,n);return i!==gi&&Jx(r,ui(),i),z0}function Jx(e,t,n){let r=l_(t,e);AM(e[Se],r,n)}function jl(e,t,n){B_(t)&&(t=t());let r=he(),i=xl();if(ko(r,i,t)){let o=rt(),s=xf();m0(o,s,r,e,t,r[Se],n,!1)}return jl}function rh(e,t){let n=B_(e);return n&&e.set(t),n}function Bl(e,t){let n=he(),r=rt(),i=gt();return H0(r,n,n[Se],i,e,t),Bl}function eA(e,t,n){let r=rt();if(r.firstCreatePass){let i=un(e);lf(n,r.data,r.blueprint,i,!0),lf(t,r.data,r.blueprint,i,!1)}}function lf(e,t,n,r,i){if(e=$e(e),Array.isArray(e))for(let o=0;o<e.length;o++)lf(e[o],t,n,r,i);else{let o=rt(),s=he(),a=gt(),l=ti(e)?e:$e(e.provide),c=Xy(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ti(e)||!e.multi){let h=new lr(c,i,Z),p=Td(l,t,i?u:u+f,d);p===-1?(Ud(al(a,s),o,l),Md(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Td(l,t,u+f,d),p=Td(l,t,u,u+f),g=h>=0&&n[h],y=p>=0&&n[p];if(i&&!y||!i&&!g){Ud(al(a,s),o,l);let b=rA(i?nA:tA,n.length,i,r,c);!i&&y&&(n[p].providerFactory=b),Md(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)}else{let b=W0(n[i?p:h],c,!i&&r);Md(o,e,h>-1?h:p,b)}!i&&r&&y&&n[p].componentProviders++}}}function Md(e,t,n,r){let i=ti(t),o=ZI(t);if(i||o){let l=(o?$e(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function W0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Td(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function tA(e,t,n,r){return cf(this.multi,[])}function nA(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ll(n,n[X],this.providerFactory.index,r);o=a.slice(0,s),cf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],cf(i,o);return o}function cf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function rA(e,t,n,r,i){let o=new lr(e,n,Z);return o.multi=[],o.index=t,o.componentProviders=0,W0(o,i,r&&!n),o}function Ul(e,t=[]){return n=>{n.providersResolver=(r,i)=>eA(r,i?i(e):e,t)}}var Pn=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}};var uf=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},ih=(()=>{class e{compileModuleSync(n){return new rf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Wy(n),o=r0(i.declarations).reduce((s,a)=>{let l=ir(a);return l&&s.push(new Do(l)),s},[]);return new uf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iA=(()=>{class e{zone=C(ne);changeDetectionScheduler=C(ii);applicationRef=C(dn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),oA=new I("",{factory:()=>!1});function G0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ne(z(E({},Q0()),{scheduleInRootZone:n})),[{provide:ne,useFactory:e},{provide:ei,multi:!0,useFactory:()=>{let r=C(iA,{optional:!0});return()=>r.initialize()}},{provide:ei,multi:!0,useFactory:()=>{let r=C(sA);return()=>{r.initialize()}}},t===!0?{provide:P_,useValue:!0}:[],{provide:F_,useValue:n??k_}]}function q0(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=G0({ngZoneFactory:()=>{let i=Q0(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&fi("NgZone_CoalesceEvent"),new ne(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return ci([{provide:oA,useValue:!0},{provide:Al,useValue:!1},r])}function Q0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var sA=(()=>{class e{subscription=new me;initialized=!1;zone=C(ne);pendingTasks=C(pn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ne.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ne.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var aA=(()=>{class e{appRef=C(dn);taskService=C(pn);ngZone=C(ne);zonelessEnabled=C(Al);tracing=C(Rl,{optional:!0});disableScheduling=C(P_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new me;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ul):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(F_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Gd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?iy:L_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ul+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,iy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function lA(){return typeof $localize<"u"&&$localize.locale||yl}var oh=new I("",{providedIn:"root",factory:()=>C(oh,W.Optional|W.SkipSelf)||lA()});var df=new I(""),cA=new I("");function po(e){return!e.moduleRef}function uA(e){let t=po(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ne);return n.run(()=>{po(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(On,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),po(e)){let o=()=>t.destroy(),s=e.platformInjector.get(df);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(df);s.add(o),e.moduleRef.onDestroy(()=>{Ga(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return fA(r,n,()=>{let o=t.get($0);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(oh,yl);if(Yx(s||yl),!t.get(cA,!0))return po(e)?t.get(dn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(po(e)){let l=t.get(dn);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return dA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function dA(e,t){let n=e.injector.get(dn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new T(-403,!1);t.push(e)}function fA(e,t,n){try{let r=n();return hr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var qa=null;function hA(e=[],t){return nt.create({name:t,providers:[{provide:Il,useValue:"platform"},{provide:df,useValue:new Set([()=>qa=null])},...e]})}function pA(e=[]){if(qa)return qa;let t=hA(e);return qa=t,Sx(),gA(t),t}function gA(e){let t=e.get(Lf,null);Ze(e,()=>{t?.forEach(n=>n())})}function Fo(){return!1}var pr=(()=>{class e{static __NG_ELEMENT_ID__=mA}return e})();function mA(e){return vA(gt(),he(),(e&16)===16)}function vA(e,t,n){if(dr(e)&&!n){let r=Ht(e.index,t);return new cr(r,r)}else if(e.type&175){let r=t[Ut];return new cr(r,t)}return null}var ff=class{constructor(){}supports(t){return V0(t)}create(t){return new hf(t)}},yA=(e,t)=>t,hf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||yA}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Iy(r,i,o)?n:r,a=Iy(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!V0(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Cx(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new pf(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new _l),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new _l),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},pf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},gf=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},_l=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new gf,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Iy(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var mf=class{constructor(){}supports(t){return t instanceof Map||eh(t)}create(){return new vf}},vf=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||eh(t)))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new yf(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},yf=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function Sy(){return new sh([new ff])}var sh=(()=>{class e{factories;static \u0275prov=x({token:e,providedIn:"root",factory:Sy});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Sy()),deps:[[e,new Uy,new bl]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new T(901,!1)}}return e})();function My(){return new ah([new mf])}var ah=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:My});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||My()),deps:[[e,new Uy,new bl]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return e})();function Y0(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=pA(r),o=[G0({}),{provide:ii,useExisting:aA},...n||[]],s=new ml({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return uA({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function $l(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Lo(e,t){fi("NgSignals");let n=vv(e);return t?.equal&&(n[et].equal=t.equal),n}function mn(e){let t=K(null);try{return e()}finally{K(t)}}var Ty=class{[et];constructor(t){this[et]=t}destroy(){this[et].destroy()}};var eC=null;function vn(){return eC}function tC(e){eC??=e}var Hl=class{};var Je=new I(""),nC=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(CA),providedIn:"platform"})}return e})();var CA=(()=>{class e extends nC{_location;_history;_doc=C(Je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vn().getBaseHref(this._doc)}onPopState(n){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function rC(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Z0(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function gr(e){return e&&e[0]!=="?"?`?${e}`:e}var zl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(iC),providedIn:"root"})}return e})(),wA=new I(""),iC=(()=>{class e extends zl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return rC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+gr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+gr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+gr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(D(nC),D(wA,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Vo=(()=>{class e{_subject=new ue;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=bA(Z0(K0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+gr(r))}normalize(n){return e.stripTrailingSlash(DA(this._basePath,K0(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+gr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=gr;static joinWithSlash=rC;static stripTrailingSlash=Z0;static \u0275fac=function(r){return new(r||e)(D(zl))};static \u0275prov=x({token:e,factory:()=>EA(),providedIn:"root"})}return e})();function EA(){return new Vo(D(zl))}function DA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function K0(e){return e.replace(/\/index.html$/,"")}function bA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function Wl(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var lh=/\s+/,X0=[],oC=(()=>{class e{_ngEl;_renderer;initialClasses=X0;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(lh):X0}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(lh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(lh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(Z(gn),Z(Ln))};static \u0275dir=Ke({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var ch=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Gl=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ch(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),J0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);J0(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(Z(Oo),Z(Kf),Z(sh))};static \u0275dir=Ke({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function J0(e,t){e.context.$implicit=t.item}var sC=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Wt.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(Z(gn),Z(ah),Z(Ln))};static \u0275dir=Ke({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();var jo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=At({type:e});static \u0275inj=Mt({})}return e})(),aC="browser",IA="server";function Bo(e){return e===IA}var mi=class{};var $o=class{},Ql=class{},mr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var fh=class{encodeKey(t){return lC(t)}encodeValue(t){return lC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function SA(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var MA=/%(\d[a-f0-9])/gi,TA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function lC(e){return encodeURIComponent(e).replace(MA,(t,n)=>TA[n]??t)}function ql(e){return`${e}`}var Vn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new fh,t.fromString){if(t.fromObject)throw new T(2805,!1);this.map=SA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(ql):[ql(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(ql(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(ql(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var hh=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function xA(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function cC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function uC(e){return typeof Blob<"u"&&e instanceof Blob}function dC(e){return typeof FormData<"u"&&e instanceof FormData}function AA(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var fC="Content-Type",hC="Accept",mC="X-Request-URL",vC="text/plain",yC="application/json",NA=`${yC}, ${vC}, */*`,Uo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(xA(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new mr,this.context??=new hh,!this.params)this.params=new Vn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||cC(this.body)||uC(this.body)||dC(this.body)||AA(this.body)?this.body:this.body instanceof Vn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||dC(this.body)?null:uC(this.body)?this.body.type||null:cC(this.body)?null:typeof this.body=="string"?vC:this.body instanceof Vn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?yC:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new e(n,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},vi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(vi||{}),Ho=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new mr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},ph=class e extends Ho{constructor(t={}){super(t)}type=vi.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Yl=class e extends Ho{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=vi.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Zl=class extends Ho{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},RA=200,OA=204;function dh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var kA=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Uo)o=n;else{let l;i.headers instanceof mr?l=i.headers:l=new mr(i.headers);let c;i.params&&(i.params instanceof Vn?c=i.params:c=new Vn({fromObject:i.params})),o=new Uo(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=O(o).pipe(Tn(l=>this.handler.handle(l)));if(n instanceof Uo||i.observe==="events")return s;let a=s.pipe(Ue(l=>l instanceof Yl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(k(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new T(2806,!1);return l.body}));case"blob":return a.pipe(k(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new T(2807,!1);return l.body}));case"text":return a.pipe(k(l=>{if(l.body!==null&&typeof l.body!="string")throw new T(2808,!1);return l.body}));case"json":default:return a.pipe(k(l=>l.body))}case"response":return a;default:throw new T(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Vn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,dh(i,r))}post(n,r,i={}){return this.request("POST",n,dh(i,r))}put(n,r,i={}){return this.request("PUT",n,dh(i,r))}static \u0275fac=function(r){return new(r||e)(D($o))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var PA=new I("");function FA(e,t){return t(e)}function LA(e,t,n){return(r,i)=>Ze(n,()=>t(r,o=>e(o,i)))}var _C=new I(""),VA=new I(""),jA=new I("",{providedIn:"root",factory:()=>!0});var pC=(()=>{class e extends $o{backend;injector;chain=null;pendingTasks=C(pn);contributeToStability=C(jA);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(_C),...this.injector.get(VA,[])]));this.chain=r.reduceRight((i,o)=>LA(i,o,this.injector),FA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(tr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(D(Ql),D(Ie))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var BA=/^\)\]\}',?\n/,UA=RegExp(`^${mC}:`,"m");function $A(e){return"responseURL"in e&&e.responseURL?e.responseURL:UA.test(e.getAllResponseHeaders())?e.getResponseHeader(mC):null}var gC=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new T(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ie(r.\u0275loadImpl()):O(null)).pipe(de(()=>new U(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,y)=>s.setRequestHeader(g,y.join(","))),n.headers.has(hC)||s.setRequestHeader(hC,NA),!n.headers.has(fC)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(fC,g)}if(n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let g=s.statusText||"OK",y=new mr(s.getAllResponseHeaders()),b=$A(s)||n.url;return l=new ph({headers:y,status:s.status,statusText:g,url:b}),l},u=()=>{let{headers:g,status:y,statusText:b,url:H}=c(),_=null;y!==OA&&(_=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=_?RA:0);let M=y>=200&&y<300;if(n.responseType==="json"&&typeof _=="string"){let le=_;_=_.replace(BA,"");try{_=_!==""?JSON.parse(_):null}catch(je){_=le,M&&(M=!1,_={error:je,text:_})}}M?(o.next(new Yl({body:_,headers:g,status:y,statusText:b,url:H||void 0})),o.complete()):o.error(new Zl({error:_,headers:g,status:y,statusText:b,url:H||void 0}))},d=g=>{let{url:y}=c(),b=new Zl({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(b)},f=!1,h=g=>{f||(o.next(c()),f=!0);let y={type:vi.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),n.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},p=g=>{let y={type:vi.UploadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),o.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:vi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(D(mi))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),CC=new I(""),HA="XSRF-TOKEN",zA=new I("",{providedIn:"root",factory:()=>HA}),WA="X-XSRF-TOKEN",GA=new I("",{providedIn:"root",factory:()=>WA}),Kl=class{},qA=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Wl(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(D(Je),D(mt),D(zA))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function QA(e,t){let n=e.url.toLowerCase();if(!C(CC)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=C(Kl).getToken(),i=C(GA);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function wC(...e){let t=[kA,gC,pC,{provide:$o,useExisting:pC},{provide:Ql,useFactory:()=>C(PA,{optional:!0})??C(gC)},{provide:_C,useValue:QA,multi:!0},{provide:CC,useValue:!0},{provide:Kl,useClass:qA}];for(let n of e)t.push(...n.\u0275providers);return ci(t)}var mh=class extends Hl{supportsDOMEvents=!0},vh=class e extends mh{static makeCurrent(){tC(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=YA();return n==null?null:ZA(n)}resetBaseElement(){zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Wl(document.cookie,t)}},zo=null;function YA(){return zo=zo||document.querySelector("base"),zo?zo.getAttribute("href"):null}function ZA(e){return new URL(e,document.baseURI).pathname}var KA=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),yh=new I(""),MC=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(D(yh),D(ne))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Jl=class{_doc;constructor(t){this._doc=t}manager},Xl="ng-app-id";function EC(e){for(let t of e)t.remove()}function DC(e,t){let n=t.createElement("style");return n.textContent=e,n}function XA(e,t,n,r){let i=e.head?.querySelectorAll(`style[${Xl}="${t}"],link[${Xl}="${t}"]`);if(i)for(let o of i)o.removeAttribute(Xl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function _h(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var TC=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Bo(o),XA(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,DC);r?.forEach(i=>this.addUsage(i,this.external,_h))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(EC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])EC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,DC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,_h(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Xl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(D(Je),D(Ff),D(Vf,8),D(mt))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),gh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},wh=/%COMP%/g;var xC="%COMP%",JA=`_nghost-${xC}`,eN=`_ngcontent-${xC}`,tN=!0,nN=new I("",{providedIn:"root",factory:()=>tN});function rN(e){return eN.replace(wh,e)}function iN(e){return JA.replace(wh,e)}function AC(e,t){return t.map(n=>n.replace(wh,e))}var bC=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Bo(a),this.defaultRenderer=new Wo(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===zt.ShadowDom&&(r=z(E({},r),{encapsulation:zt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof ec?i.applyToHost(n):i instanceof Go&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case zt.Emulated:o=new ec(l,c,r,this.appId,u,s,a,d,f);break;case zt.ShadowDom:return new Ch(l,c,n,r,s,a,this.nonce,d,f);default:o=new Go(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(D(MC),D(TC),D(Ff),D(nN),D(Je),D(mt),D(ne),D(Vf),D(Rl,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Wo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(gh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(IC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(IC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=gh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=gh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Wt.DashCase|Wt.Important)?t.style.setProperty(n,r,i&Wt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Wt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=vn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function IC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Ch=class extends Wo{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=AC(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=_h(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Go=class extends Wo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?AC(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ec=class extends Go{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=rN(u),this.hostAttr=iN(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},oN=(()=>{class e extends Jl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(D(Je))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),SC=["alt","control","meta","shift"],sN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},lN=(()=>{class e extends Jl{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),SC.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=sN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),SC.forEach(s=>{if(s!==i){let a=aN[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(D(Je))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function NC(e,t){return Y0(E({rootComponent:e},cN(t)))}function cN(e){return{appProviders:[...pN,...e?.providers??[]],platformProviders:hN}}function uN(){vh.makeCurrent()}function dN(){return new On}function fN(){return q_(document),document}var hN=[{provide:mt,useValue:aC},{provide:Lf,useValue:uN,multi:!0},{provide:Je,useFactory:fN,deps:[]}];var pN=[{provide:Il,useValue:"root"},{provide:On,useFactory:dN,deps:[]},{provide:yh,useClass:oN,multi:!0,deps:[Je]},{provide:yh,useClass:lN,multi:!0,deps:[Je]},bC,TC,MC,{provide:si,useExisting:bC},{provide:mi,useClass:KA,deps:[]},[]];var RC=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(D(Je))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $="primary",ls=Symbol("RouteTitle"),Sh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Di(e){return new Sh(e)}function mN(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function vN(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Gt(e[n],t[n]))return!1;return!0}function Gt(e,t){let n=e?Mh(e):void 0,r=t?Mh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!BC(e[i],t[i]))return!1;return!0}function Mh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function BC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function UC(e){return e.length>0?e[e.length-1]:null}function jn(e){return ad(e)?e:hr(e)?ie(Promise.resolve(e)):O(e)}var yN={exact:HC,subset:zC},$C={exact:_N,subset:CN,ignored:()=>!0};function OC(e,t,n){return yN[n.paths](e.root,t.root,n.matrixParams)&&$C[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function _N(e,t){return Gt(e,t)}function HC(e,t,n){if(!yr(e.segments,t.segments)||!rc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!HC(e.children[r],t.children[r],n))return!1;return!0}function CN(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>BC(e[n],t[n]))}function zC(e,t,n){return WC(e,t,t.segments,n)}function WC(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!yr(i,n)||t.hasChildren()||!rc(i,n,r))}else if(e.segments.length===n.length){if(!yr(e.segments,n)||!rc(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!zC(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!yr(e.segments,i)||!rc(e.segments,i,r)||!e.children[$]?!1:WC(e.children[$],t,o,r)}}function rc(e,t,n){return t.every((r,i)=>$C[n](e[i].parameters,r.parameters))}var _n=class{root;queryParams;fragment;_queryParamMap;constructor(t=new re([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Di(this.queryParams),this._queryParamMap}toString(){return DN.serialize(this)}},re=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ic(this)}},vr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Di(this.parameters),this._parameterMap}toString(){return qC(this)}};function wN(e,t){return yr(e,t)&&e.every((n,r)=>Gt(n.parameters,t[r].parameters))}function yr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function EN(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===$&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==$&&(n=n.concat(t(i,r)))}),n}var Jh=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>new Xo,providedIn:"root"})}return e})(),Xo=class{parse(t){let n=new xh(t);return new _n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${qo(t.root,!0)}`,r=SN(t.queryParams),i=typeof t.fragment=="string"?`#${bN(t.fragment)}`:"";return`${n}${r}${i}`}},DN=new Xo;function ic(e){return e.segments.map(t=>qC(t)).join("/")}function qo(e,t){if(!e.hasChildren())return ic(e);if(t){let n=e.children[$]?qo(e.children[$],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==$&&r.push(`${i}:${qo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=EN(e,(r,i)=>i===$?[qo(e.children[$],!1)]:[`${i}:${qo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[$]!=null?`${ic(e)}/${n[0]}`:`${ic(e)}/(${n.join("//")})`}}function GC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function tc(e){return GC(e).replace(/%3B/gi,";")}function bN(e){return encodeURI(e)}function Th(e){return GC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oc(e){return decodeURIComponent(e)}function kC(e){return oc(e.replace(/\+/g,"%20"))}function qC(e){return`${Th(e.path)}${IN(e.parameters)}`}function IN(e){return Object.entries(e).map(([t,n])=>`;${Th(t)}=${Th(n)}`).join("")}function SN(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${tc(n)}=${tc(i)}`).join("&"):`${tc(n)}=${tc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var MN=/^[^\/()?;#]+/;function Eh(e){let t=e.match(MN);return t?t[0]:""}var TN=/^[^\/()?;=#]+/;function xN(e){let t=e.match(TN);return t?t[0]:""}var AN=/^[^=?&#]+/;function NN(e){let t=e.match(AN);return t?t[0]:""}var RN=/^[^&#]+/;function ON(e){let t=e.match(RN);return t?t[0]:""}var xh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[$]=new re(t,n)),r}parseSegment(){let t=Eh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new vr(oc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=xN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Eh(this.remaining);i&&(r=i,this.capture(r))}t[oc(n)]=oc(r)}parseQueryParam(t){let n=NN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=ON(this.remaining);s&&(r=s,this.capture(r))}let i=kC(n),o=kC(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Eh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=$);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[$]:new re([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}};function QC(e){return e.segments.length>0?new re([],{[$]:e}):e}function YC(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=YC(i);if(r===$&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new re(e.segments,t);return kN(n)}function kN(e){if(e.numberOfChildren===1&&e.children[$]){let t=e.children[$];return new re(e.segments.concat(t.segments),t.children)}return e}function Jo(e){return e instanceof _n}function PN(e,t,n=null,r=null){let i=ZC(e);return KC(i,t,n,r)}function ZC(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new re(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=QC(r);return t??i}function KC(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Dh(i,i,i,n,r);let o=FN(t);if(o.toRoot())return Dh(i,i,new re([],{}),n,r);let s=LN(o,i,e),a=s.processChildren?Yo(s.segmentGroup,s.index,o.commands):JC(s.segmentGroup,s.index,o.commands);return Dh(i,s.segmentGroup,a,n,r)}function sc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function es(e){return typeof e=="object"&&e!=null&&e.outlets}function Dh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=XC(e,t,n);let a=QC(YC(s));return new _n(a,o,i)}function XC(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=XC(o,t,n)}),new re(e.segments,r)}var ac=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&sc(r[0]))throw new T(4003,!1);let i=r.find(es);if(i&&i!==UC(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FN(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ac(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new ac(n,t,r)}var Ci=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function LN(e,t,n){if(e.isAbsolute)return new Ci(t,!0,0);if(!n)return new Ci(t,!1,NaN);if(n.parent===null)return new Ci(n,!0,0);let r=sc(e.commands[0])?0:1,i=n.segments.length-1+r;return VN(n,i,e.numberOfDoubleDots)}function VN(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Ci(r,!1,i-o)}function jN(e){return es(e[0])?e[0].outlets:{[$]:e}}function JC(e,t,n){if(e??=new re([],{}),e.segments.length===0&&e.hasChildren())return Yo(e,t,n);let r=BN(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new re(e.segments.slice(0,r.pathIndex),{});return o.children[$]=new re(e.segments.slice(r.pathIndex),e.children),Yo(o,0,i)}else return r.match&&i.length===0?new re(e.segments,{}):r.match&&!e.hasChildren()?Ah(e,t,n):r.match?Yo(e,0,i):Ah(e,t,n)}function Yo(e,t,n){if(n.length===0)return new re(e.segments,{});{let r=jN(n),i={};if(Object.keys(r).some(o=>o!==$)&&e.children[$]&&e.numberOfChildren===1&&e.children[$].segments.length===0){let o=Yo(e.children[$],t,n);return new re(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=JC(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new re(e.segments,i)}}function BN(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(es(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!FC(l,c,s))return o;r+=2}else{if(!FC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ah(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(es(o)){let l=UN(o.outlets);return new re(r,l)}if(i===0&&sc(n[0])){let l=e.segments[t];r.push(new vr(l.path,PC(n[0]))),i++;continue}let s=es(o)?o.outlets[$]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&sc(a)?(r.push(new vr(s,PC(a))),i+=2):(r.push(new vr(s,{})),i++)}return new re(r,{})}function UN(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Ah(new re([],{}),0,r))}),t}function PC(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function FC(e,t,n){return e==n.path&&Gt(t,n.parameters)}var Zo="imperative",Pe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Pe||{}),vt=class{id;url;constructor(t,n){this.id=t,this.url=n}},ts=class extends vt{type=Pe.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Cn=class extends vt{urlAfterRedirects;type=Pe.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ot=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ot||{}),Nh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Nh||{}),yn=class extends vt{reason;code;type=Pe.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},_r=class extends vt{reason;code;type=Pe.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},ns=class extends vt{error;target;type=Pe.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lc=class extends vt{urlAfterRedirects;state;type=Pe.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rh=class extends vt{urlAfterRedirects;state;type=Pe.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oh=class extends vt{urlAfterRedirects;state;shouldActivate;type=Pe.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},kh=class extends vt{urlAfterRedirects;state;type=Pe.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ph=class extends vt{urlAfterRedirects;state;type=Pe.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fh=class{route;type=Pe.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lh=class{route;type=Pe.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vh=class{snapshot;type=Pe.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jh=class{snapshot;type=Pe.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bh=class{snapshot;type=Pe.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Uh=class{snapshot;type=Pe.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var rs=class{},bi=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function $N(e,t){return e.providers&&!e._injector&&(e._injector=Jf(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Nt(e){return e.outlet||$}function HN(e,t){let n=e.filter(r=>Nt(r)===t);return n.push(...e.filter(r=>Nt(r)!==t)),n}function cs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var $h=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return cs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new gc(this.rootInjector)}},gc=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new $h(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(D(Ie))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Hh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Hh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=zh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return zh(t,this._root).map(n=>n.value)}};function Hh(e,t){if(e===t.value)return t;for(let n of t.children){let r=Hh(e,n);if(r)return r}return null}function zh(e,t){if(e===t.value)return[t];for(let n of t.children){let r=zh(e,n);if(r.length)return r.unshift(t),r}return[]}var it=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function _i(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var uc=class extends cc{snapshot;constructor(t,n){super(t),this.snapshot=n,ep(this,t)}toString(){return this.snapshot.toString()}};function ew(e){let t=zN(e),n=new Oe([new vr("",{})]),r=new Oe({}),i=new Oe({}),o=new Oe({}),s=new Oe(""),a=new Ii(n,r,o,s,i,$,e,t.root);return a.snapshot=t.root,new uc(new it(a,[]),t)}function zN(e){let t={},n={},r={},i="",o=new wi([],t,r,i,n,$,e,null,{});return new fc("",new it(o,[]))}var Ii=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(k(c=>c[ls]))??O(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(t=>Di(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(t=>Di(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function dc(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:E(E({},t.params),e.params),data:E(E({},t.data),e.data),resolve:E(E(E(E({},e.data),t.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&nw(i)&&(r.resolve[ls]=i.title),r}var wi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ls]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Di(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Di(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},fc=class extends cc{url;constructor(t,n){super(n),this.url=t,ep(this,n)}toString(){return tw(this._root)}};function ep(e,t){t.value._routerState=e,t.children.forEach(n=>ep(e,n))}function tw(e){let t=e.children.length>0?` { ${e.children.map(tw).join(", ")} } `:"";return`${e.value}${t}`}function bh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Gt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Gt(t.params,n.params)||e.paramsSubject.next(n.params),vN(t.url,n.url)||e.urlSubject.next(n.url),Gt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Wh(e,t){let n=Gt(e.params,t.params)&&wN(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Wh(e.parent,t.parent))}function nw(e){return typeof e.title=="string"||e.title===null}var WN=new I(""),tp=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=$;activateEvents=new ke;deactivateEvents=new ke;attachEvents=new ke;detachEvents=new ke;routerOutletData=j_(void 0);parentContexts=C(gc);location=C(Oo);changeDetector=C(pr);inputBinder=C(np,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Gh(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ke({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Fn]})}return e})(),Gh=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Ii?this.route:t===gc?this.childContexts:t===WN?this.outletData:this.parent.get(t,n)}},np=new I("");function GN(e,t,n){let r=is(e,t._root,n?n._root:void 0);return new uc(r,t)}function is(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=qN(e,t,n);return new it(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>is(e,a)),s}}let r=QN(t.value),i=t.children.map(o=>is(e,o));return new it(r,i)}}function qN(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return is(e,r,i);return is(e,r)})}function QN(e){return new Ii(new Oe(e.url),new Oe(e.params),new Oe(e.queryParams),new Oe(e.fragment),new Oe(e.data),e.outlet,e.component,e)}var os=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},rw="ngNavigationCancelingError";function hc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Jo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=iw(!1,ot.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function iw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[rw]=!0,n.cancellationCode=t,n}function YN(e){return ow(e)&&Jo(e.url)}function ow(e){return!!e&&e[rw]}var ZN=(e,t,n,r)=>k(i=>(new qh(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),qh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),bh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=_i(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=_i(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=_i(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=_i(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Uh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new jh(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(bh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),bh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},pc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ei=class{component;route;constructor(t,n){this.component=t,this.route=n}};function KN(e,t,n){let r=e._root,i=t?t._root:null;return Qo(r,i,n,[r.value])}function XN(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Mi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!ky(e)?e:t.get(e):r}function Qo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_i(t);return e.children.forEach(s=>{JN(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ko(a,n.getContext(s),i)),i}function JN(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=eR(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new pc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Qo(e,t,a?a.children:null,r,i):Qo(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ei(a.outlet.component,s))}else s&&Ko(t,a,i),i.canActivateChecks.push(new pc(r)),o.component?Qo(e,null,a?a.children:null,r,i):Qo(e,null,n,r,i);return i}function eR(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!yr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!yr(e.url,t.url)||!Gt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wh(e,t)||!Gt(e.queryParams,t.queryParams);case"paramsChange":default:return!Wh(e,t)}}function Ko(e,t,n){let r=_i(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?Ko(s,t.children.getContext(o),n):Ko(s,null,n):Ko(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ei(t.outlet.component,i)):n.canDeactivateChecks.push(new Ei(null,i)):n.canDeactivateChecks.push(new Ei(null,i))}function us(e){return typeof e=="function"}function tR(e){return typeof e=="boolean"}function nR(e){return e&&us(e.canLoad)}function rR(e){return e&&us(e.canActivate)}function iR(e){return e&&us(e.canActivateChild)}function oR(e){return e&&us(e.canDeactivate)}function sR(e){return e&&us(e.canMatch)}function sw(e){return e instanceof sn||e?.name==="EmptyError"}var nc=Symbol("INITIAL_VALUE");function Si(){return de(e=>Fa(e.map(t=>t.pipe(an(1),hd(nc)))).pipe(k(t=>{for(let n of t)if(n!==!0){if(n===nc)return nc;if(n===!1||aR(n))return n}return!0}),Ue(t=>t!==nc),an(1)))}function aR(e){return Jo(e)||e instanceof os}function lR(e,t){return be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?O(z(E({},n),{guardsResult:!0})):cR(s,r,i,e).pipe(be(a=>a&&tR(a)?uR(r,o,e,t):O(a)),k(a=>z(E({},n),{guardsResult:a})))})}function cR(e,t,n,r){return ie(e).pipe(be(i=>gR(i.component,i.route,n,t,r)),bt(i=>i!==!0,!0))}function uR(e,t,n,r){return ie(t).pipe(Tn(i=>zr(fR(i.route.parent,r),dR(i.route,r),pR(e,i.path,n),hR(e,i.route,n))),bt(i=>i!==!0,!0))}function dR(e,t){return e!==null&&t&&t(new Bh(e)),O(!0)}function fR(e,t){return e!==null&&t&&t(new Vh(e)),O(!0)}function hR(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>La(()=>{let s=cs(t)??n,a=Mi(o,s),l=rR(a)?a.canActivate(t,e):Ze(s,()=>a(t,e));return jn(l).pipe(bt())}));return O(i).pipe(Si())}function pR(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>XN(s)).filter(s=>s!==null).map(s=>La(()=>{let a=s.guards.map(l=>{let c=cs(s.node)??n,u=Mi(l,c),d=iR(u)?u.canActivateChild(r,e):Ze(c,()=>u(r,e));return jn(d).pipe(bt())});return O(a).pipe(Si())}));return O(o).pipe(Si())}function gR(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(a=>{let l=cs(t)??i,c=Mi(a,l),u=oR(c)?c.canDeactivate(e,t,n,r):Ze(l,()=>c(e,t,n,r));return jn(u).pipe(bt())});return O(s).pipe(Si())}function mR(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let a=Mi(s,e),l=nR(a)?a.canLoad(t,n):Ze(e,()=>a(t,n));return jn(l)});return O(o).pipe(Si(),aw(r))}function aw(e){return td(xe(t=>{if(typeof t!="boolean")throw hc(e,t)}),k(t=>t===!0))}function vR(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let a=Mi(s,e),l=sR(a)?a.canMatch(t,n):Ze(e,()=>a(t,n));return jn(l)});return O(o).pipe(Si(),aw(r))}var ss=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},as=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function yi(e){return Hr(new ss(e))}function yR(e){return Hr(new T(4e3,!1))}function _R(e){return Hr(iw(!1,ot.GuardRejected))}var Qh=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[$])return yR(`${t.redirectTo}`);i=i.children[$]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:p,title:g}=i,y=Ze(o,()=>a({params:h,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:g}));if(y instanceof _n)throw new as(y);n=y}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new as(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new _n(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new re(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},Yh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function CR(e,t,n,r,i){let o=lw(e,t,n);return o.matched?(r=$N(t,r),vR(r,t,n,i).pipe(k(s=>s===!0?o:E({},Yh)))):O(o)}function lw(e,t,n){if(t.path==="**")return wR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?E({},Yh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||mN)(n,e,t);if(!i)return E({},Yh);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function wR(e){return{matched:!0,parameters:e.length>0?UC(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function LC(e,t,n,r){return n.length>0&&bR(e,n,r)?{segmentGroup:new re(t,DR(r,new re(n,e.children))),slicedSegments:[]}:n.length===0&&IR(e,n,r)?{segmentGroup:new re(e.segments,ER(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new re(e.segments,e.children),slicedSegments:n}}function ER(e,t,n,r){let i={};for(let o of n)if(mc(e,t,o)&&!r[Nt(o)]){let s=new re([],{});i[Nt(o)]=s}return E(E({},r),i)}function DR(e,t){let n={};n[$]=t;for(let r of e)if(r.path===""&&Nt(r)!==$){let i=new re([],{});n[Nt(r)]=i}return n}function bR(e,t,n){return n.some(r=>mc(e,t,r)&&Nt(r)!==$)}function IR(e,t,n){return n.some(r=>mc(e,t,r))}function mc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function SR(e,t,n){return t.length===0&&!e.children[n]}var Zh=class{};function MR(e,t,n,r,i,o,s="emptyOnly"){return new Kh(e,t,n,r,i,s,o).recognize()}var TR=31,Kh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Qh(this.urlSerializer,this.urlTree)}noMatchError(t){return new T(4002,`'${t.segmentGroup}'`)}recognize(){let t=LC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(k(({children:n,rootSnapshot:r})=>{let i=new it(r,n),o=new fc("",i),s=PN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new wi([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),$,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,$,n).pipe(k(r=>({children:r,rootSnapshot:n})),Mn(r=>{if(r instanceof as)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ss?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(k(s=>s instanceof it?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(Tn(s=>{let a=r.children[s],l=HN(n,s);return this.processSegmentGroup(t,l,a,s,i)}),qr((s,a)=>(s.push(...a),s)),xn(null),ud(),be(s=>{if(s===null)return yi(r);let a=cw(s);return xR(a),O(a)}))}processSegment(t,n,r,i,o,s,a){return ie(n).pipe(Tn(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(Mn(c=>{if(c instanceof ss)return O(null);throw c}))),bt(l=>!!l),Mn(l=>{if(sw(l))return SR(r,i,o)?O(new Zh):yi(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return Nt(r)!==s&&(s===$||!mc(i,o,r))?yi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):yi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=lw(n,i,o);if(!l)return yi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TR&&(this.allowRedirects=!1));let h=new wi(o,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,VC(i),Nt(i),i.component??i._loadedComponent??null,i,jC(i)),p=dc(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,g).pipe(be(y=>this.processSegment(t,r,n,y.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=CR(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(de(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(de(({routes:c})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new wi(f,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,VC(r),Nt(r),r.component??r._loadedComponent??null,r,jC(r)),g=dc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:y,slicedSegments:b}=LC(n,f,h,c);if(b.length===0&&y.hasChildren())return this.processChildren(u,c,y,p).pipe(k(_=>new it(p,_)));if(c.length===0&&b.length===0)return O(new it(p,[]));let H=Nt(r)===o;return this.processSegment(u,c,y,b,H?$:o,!0,p).pipe(k(_=>new it(p,_ instanceof it?[_]:[])))}))):yi(n)))}getChildConfig(t,n,r){return n.children?O({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):mR(t,n,r,this.urlSerializer).pipe(be(i=>i?this.configLoader.loadChildren(t,n).pipe(xe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):_R(n))):O({routes:[],injector:t})}};function xR(e){e.sort((t,n)=>t.value.outlet===$?-1:n.value.outlet===$?1:t.value.outlet.localeCompare(n.value.outlet))}function AR(e){let t=e.value.routeConfig;return t&&t.path===""}function cw(e){let t=[],n=new Set;for(let r of e){if(!AR(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=cw(r.children);t.push(new it(r.value,i))}return t.filter(r=>!n.has(r))}function VC(e){return e.data||{}}function jC(e){return e.resolve||{}}function NR(e,t,n,r,i,o){return be(s=>MR(e,t,n,r,s.extractedUrl,i,o).pipe(k(({state:a,tree:l})=>z(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function RR(e,t){return be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of uw(l))s.add(c);let a=0;return ie(s).pipe(Tn(l=>o.has(l)?OR(l,r,e,t):(l.data=dc(l,l.parent,e).resolve,O(void 0))),xe(()=>a++),Gr(1),be(l=>a===s.size?O(n):Fe))})}function uw(e){let t=e.children.map(n=>uw(n)).flat();return[e,...t]}function OR(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!nw(i)&&(o[ls]=i.title),kR(o,e,t,r).pipe(k(s=>(e._resolvedData=s,e.data=dc(e,e.parent,n).resolve,null)))}function kR(e,t,n,r){let i=Mh(e);if(i.length===0)return O({});let o={};return ie(i).pipe(be(s=>PR(e[s],t,n,r).pipe(bt(),xe(a=>{if(a instanceof os)throw hc(new Xo,a);o[s]=a}))),Gr(1),k(()=>o),Mn(s=>sw(s)?Fe:Hr(s)))}function PR(e,t,n,r){let i=cs(t)??r,o=Mi(e,i),s=o.resolve?o.resolve(t,n):Ze(i,()=>o(t,n));return jn(s)}function Ih(e){return de(t=>{let n=e(t);return n?ie(n).pipe(k(()=>t)):O(t)})}var dw=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===$);return r}getResolvedTitleForRoute(n){return n.data[ls]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(FR),providedIn:"root"})}return e})(),FR=(()=>{class e extends dw{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(D(RC))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rp=new I("",{providedIn:"root",factory:()=>({})}),LR=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ve({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&A(0,"router-outlet")},dependencies:[tp],encapsulation:2})}return e})();function ip(e){let t=e.children&&e.children.map(ip),n=t?z(E({},e),{children:t}):E({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==$&&(n.component=LR),n}var op=new I(""),VR=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(ih);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return O(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=jn(n.loadComponent()).pipe(k(fw),xe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),tr(()=>{this.componentLoaders.delete(n)})),i=new Vr(r,()=>new ue).pipe(Lr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=jR(r,this.compiler,n,this.onLoadEndListener).pipe(tr(()=>{this.childrenLoaders.delete(r)})),s=new Vr(o,()=>new ue).pipe(Lr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jR(e,t,n,r){return jn(e.loadChildren()).pipe(k(fw),be(i=>i instanceof bo||Array.isArray(i)?O(i):ie(t.compileModuleAsync(i))),k(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(op,[],{optional:!0,self:!0}).flat()),{routes:s.map(ip),injector:o}}))}function BR(e){return e&&typeof e=="object"&&"default"in e}function fw(e){return BR(e)?e.default:e}var sp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(UR),providedIn:"root"})}return e})(),UR=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$R=new I("");var HR=new I(""),zR=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ue;transitionAbortSubject=new ue;configLoader=C(VR);environmentInjector=C(Ie);destroyRef=C(No);urlSerializer=C(Jh);rootContexts=C(gc);location=C(Vo);inputBindingEnabled=C(np,{optional:!0})!==null;titleStrategy=C(dw);options=C(rp,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(sp);createViewTransition=C($R,{optional:!0});navigationErrorHandler=C(HR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>O(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Fh(i)),r=i=>this.events.next(new Lh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(z(E(E({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Oe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Zo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ue(o=>o.id!==0),k(o=>z(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),de(o=>{let s=!1,a=!1;return O(o).pipe(de(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),Fe;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?z(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new _r(l.id,this.urlSerializer.serialize(l.rawUrl),d,Nh.IgnoredSameUrlNavigation)),l.resolve(!1),Fe}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return O(l).pipe(de(d=>{let f=this.transitions?.getValue();return this.events.next(new ts(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Fe:Promise.resolve(d)}),NR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=z(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new lc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:g}=l,y=new ts(d,this.urlSerializer.serialize(f),h,p);this.events.next(y);let b=ew(this.rootComponentType).snapshot;return this.currentTransition=o=z(E({},l),{targetSnapshot:b,urlAfterRedirects:f,extras:z(E({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let d="";return this.events.next(new _r(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Nh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Fe}}),xe(l=>{let c=new Rh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),k(l=>(this.currentTransition=o=z(E({},l),{guards:KN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),lR(this.environmentInjector,l=>this.events.next(l)),xe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw hc(this.urlSerializer,l.guardsResult);let c=new Oh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ue(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ot.GuardRejected),!1)),Ih(l=>{if(l.guards.canActivateChecks.length)return O(l).pipe(xe(c=>{let u=new kh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),de(c=>{let u=!1;return O(c).pipe(RR(this.paramsInheritanceStrategy,this.environmentInjector),xe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ot.NoDataFromResolver)}}))}),xe(c=>{let u=new Ph(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Ih(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(xe(f=>{u.component=f}),k(()=>{})));for(let f of u.children)d.push(...c(f));return d};return Fa(c(l.targetSnapshot.root)).pipe(xn(null),an(1))}),Ih(()=>this.afterPreactivation()),de(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ie(u).pipe(k(()=>o)):O(o)}),k(l=>{let c=GN(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=z(E({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),xe(()=>{this.events.next(new rs)}),ZN(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),an(1),xe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Cn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),pd(this.transitionAbortSubject.pipe(xe(l=>{throw l}))),tr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mn(l=>{if(this.destroyed)return o.resolve(!1),Fe;if(a=!0,ow(l))this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),YN(l)?this.events.next(new bi(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new ns(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=Ze(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof os){let{message:d,cancellationCode:f}=hc(this.urlSerializer,u);this.events.next(new yn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new bi(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Fe}))}))}cancelNavigationTransition(n,r,i){let o=new yn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function WR(e){return e!==Zo}var GR=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(qR),providedIn:"root"})}return e})(),Xh=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},qR=(()=>{class e extends Xh{static \u0275fac=(()=>{let n;return function(i){return(n||(n=di(e)))(i||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(QR),providedIn:"root"})}return e})(),QR=(()=>{class e extends hw{location=C(Vo);urlSerializer=C(Jh);options=C(rp,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=C(sp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new _n;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=ew(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ts)this.stateMemento=this.createStateMemento();else if(n instanceof _r)this.rawUrlTree=r.initialUrl;else if(n instanceof lc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof rs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof yn&&(n.code===ot.GuardRejected||n.code===ot.NoDataFromResolver)?this.restoreHistory(r):n instanceof ns?this.restoreHistory(r,!0):n instanceof Cn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof _n?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=di(e)))(i||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function YR(e,t){e.events.pipe(Ue(n=>n instanceof Cn||n instanceof yn||n instanceof ns||n instanceof _r),k(n=>n instanceof Cn||n instanceof _r?0:(n instanceof yn?n.code===ot.Redirect||n.code===ot.SupersededByNewNavigation:!1)?2:1),Ue(n=>n!==2),an(1)).subscribe(()=>{t()})}var ZR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(th);stateManager=C(hw);options=C(rp,{optional:!0})||{};pendingTasks=C(pn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(zR);urlSerializer=C(Jh);location=C(Vo);urlHandlingStrategy=C(sp);_events=new ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(GR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(op,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(np,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new me;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof yn&&r.code!==ot.Redirect&&r.code!==ot.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Cn)this.navigated=!0;else if(r instanceof bi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||WR(i.source)},s);this.scheduleNavigation(a,Zo,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}JR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ip),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=ZC(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return KC(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Jo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Zo,null,r)}navigate(n,r={skipLocationChange:!1}){return XR(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=E({},ZR):r===!1?i=E({},KR):i=r,Jo(n))return OC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return OC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return YR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function XR(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new T(4008,!1)}function JR(e){return!(e instanceof rs)&&!(e instanceof bi)}var eO=new I("");function pw(e,...t){return ci([{provide:op,multi:!0,useValue:e},[],{provide:Ii,useFactory:tO,deps:[yt]},{provide:Fl,multi:!0,useFactory:nO},t.map(n=>n.\u0275providers)])}function tO(e){return e.routerState.root}function nO(){let e=C(nt);return t=>{let n=e.get(dn);if(t!==n.components[0])return;let r=e.get(yt),i=e.get(rO);e.get(iO)===1&&r.initialNavigation(),e.get(oO,null,W.Optional)?.setUpPreloading(),e.get(eO,null,W.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var rO=new I("",{factory:()=>new ue}),iO=new I("",{providedIn:"root",factory:()=>1});var oO=new I("");var Cw={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},up={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},sO=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],vc={CSS:{},springs:{}};function qt(e,t,n){return Math.min(Math.max(e,t),n)}function fs(e,t){return e.indexOf(t)>-1}function ap(e,t){return e.apply(null,t)}var N={arr:function(e){return Array.isArray(e)},obj:function(e){return fs(Object.prototype.toString.call(e),"Object")},pth:function(e){return N.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||N.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return N.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return N.hex(e)||N.rgb(e)||N.hsl(e)},key:function(e){return!Cw.hasOwnProperty(e)&&!up.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function ww(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function Ew(e,t){var n=ww(e),r=qt(N.und(n[0])?1:n[0],.1,100),i=qt(N.und(n[1])?100:n[1],.1,100),o=qt(N.und(n[2])?10:n[2],.1,100),s=qt(N.und(n[3])?0:n[3],.1,100),a=Math.sqrt(i/r),l=o/(2*Math.sqrt(i*r)),c=l<1?a*Math.sqrt(1-l*l):0,u=1,d=l<1?(l*a+-s)/c:-s+a;function f(p){var g=t?t*p/1e3:p;return l<1?g=Math.exp(-g*l*a)*(u*Math.cos(c*g)+d*Math.sin(c*g)):g=(u+d*g)*Math.exp(-g*a),p===0||p===1?p:1-g}function h(){var p=vc.springs[e];if(p)return p;for(var g=1/6,y=0,b=0;;)if(y+=g,f(y)===1){if(b++,b>=16)break}else b=0;var H=y*g*1e3;return vc.springs[e]=H,H}return t?f:h}function aO(e){return e===void 0&&(e=10),function(t){return Math.ceil(qt(t,1e-6,1)*e)*(1/e)}}var lO=function(){var e=11,t=1/(e-1);function n(u,d){return 1-3*d+3*u}function r(u,d){return 3*d-6*u}function i(u){return 3*u}function o(u,d,f){return((n(d,f)*u+r(d,f))*u+i(d))*u}function s(u,d,f){return 3*n(d,f)*u*u+2*r(d,f)*u+i(d)}function a(u,d,f,h,p){var g,y,b=0;do y=d+(f-d)/2,g=o(y,h,p)-u,g>0?f=y:d=y;while(Math.abs(g)>1e-7&&++b<10);return y}function l(u,d,f,h){for(var p=0;p<4;++p){var g=s(d,f,h);if(g===0)return d;var y=o(d,f,h)-u;d-=y/g}return d}function c(u,d,f,h){if(!(0<=u&&u<=1&&0<=f&&f<=1))return;var p=new Float32Array(e);if(u!==d||f!==h)for(var g=0;g<e;++g)p[g]=o(g*t,u,f);function y(b){for(var H=0,_=1,M=e-1;_!==M&&p[_]<=b;++_)H+=t;--_;var le=(b-p[_])/(p[_+1]-p[_]),je=H+le*t,_e=s(je,u,f);return _e>=.001?l(b,je,u,f):_e===0?je:a(b,H,H+t,u,f)}return function(b){return u===d&&f===h||b===0||b===1?b:o(y(b),d,h)}}return c}(),Dw=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Expo:function(){return function(r){return r?Math.pow(2,10*r-10):0}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,o=4;r<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var o=qt(r,1,10),s=qt(i,.1,2);return function(a){return a===0||a===1?a:-o*Math.pow(2,10*(a-1))*Math.sin((a-1-s/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/s)}}},n=["Quad","Cubic","Quart","Quint"];return n.forEach(function(r,i){t[r]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(t).forEach(function(r){var i=t[r];e["easeIn"+r]=i,e["easeOut"+r]=function(o,s){return function(a){return 1-i(o,s)(1-a)}},e["easeInOut"+r]=function(o,s){return function(a){return a<.5?i(o,s)(a*2)/2:1-i(o,s)(a*-2+2)/2}},e["easeOutIn"+r]=function(o,s){return function(a){return a<.5?(1-i(o,s)(1-a*2))/2:(i(o,s)(a*2-1)+1)/2}}}),e}();function dp(e,t){if(N.fnc(e))return e;var n=e.split("(")[0],r=Dw[n],i=ww(e);switch(n){case"spring":return Ew(e,t);case"cubicBezier":return ap(lO,i);case"steps":return ap(aO,i);default:return ap(r,i)}}function bw(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function yc(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(r,s,o,e)&&i.push(s)}return i}function _c(e){return e.reduce(function(t,n){return t.concat(N.arr(n)?_c(n):n)},[])}function gw(e){return N.arr(e)?e:(N.str(e)&&(e=bw(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function fp(e,t){return e.some(function(n){return n===t})}function hp(e){var t={};for(var n in e)t[n]=e[n];return t}function lp(e,t){var n=hp(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function Cc(e,t){var n=hp(e);for(var r in t)n[r]=N.und(e[r])?t[r]:e[r];return n}function cO(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function uO(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(a,l,c,u){return l+l+c+c+u+u}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),o=parseInt(r[2],16),s=parseInt(r[3],16);return"rgba("+i+","+o+","+s+",1)"}function dO(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,o=t[4]||1;function s(f,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?f+(h-f)*6*p:p<1/2?h:p<2/3?f+(h-f)*(2/3-p)*6:f}var a,l,c;if(r==0)a=l=c=i;else{var u=i<.5?i*(1+r):i+r-i*r,d=2*i-u;a=s(d,u,n+1/3),l=s(d,u,n),c=s(d,u,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+o+")"}function fO(e){if(N.rgb(e))return cO(e);if(N.hex(e))return uO(e);if(N.hsl(e))return dO(e)}function wn(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function hO(e){if(fs(e,"translate")||e==="perspective")return"px";if(fs(e,"rotate")||fs(e,"skew"))return"deg"}function cp(e,t){return N.fnc(e)?e(t.target,t.id,t.total):e}function Qt(e,t){return e.getAttribute(t)}function pp(e,t,n){var r=wn(t);if(fp([n,"deg","rad","turn"],r))return t;var i=vc.CSS[t+n];if(!N.und(i))return i;var o=100,s=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(s),s.style.position="absolute",s.style.width=o+n;var l=o/s.offsetWidth;a.removeChild(s);var c=l*parseFloat(t);return vc.CSS[t+n]=c,c}function Iw(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?pp(e,i,n):i}}function gp(e,t){if(N.dom(e)&&!N.inp(e)&&(!N.nil(Qt(e,t))||N.svg(e)&&e[t]))return"attribute";if(N.dom(e)&&fp(sO,t))return"transform";if(N.dom(e)&&t!=="transform"&&Iw(e,t))return"css";if(e[t]!=null)return"object"}function Sw(e){if(N.dom(e)){for(var t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(t);)r.set(i[1],i[2]);return r}}function pO(e,t,n,r){var i=fs(t,"scale")?1:0+hO(t),o=Sw(e).get(t)||i;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),r?pp(e,o,r):o}function mp(e,t,n,r){switch(gp(e,t)){case"transform":return pO(e,t,r,n);case"css":return Iw(e,t,n);case"attribute":return Qt(e,t);default:return e[t]||0}}function vp(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=wn(e)||0,i=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function Mw(e,t){if(N.col(e))return fO(e);if(/\s/g.test(e))return e;var n=wn(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function yp(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function gO(e){return Math.PI*2*Qt(e,"r")}function mO(e){return Qt(e,"width")*2+Qt(e,"height")*2}function vO(e){return yp({x:Qt(e,"x1"),y:Qt(e,"y1")},{x:Qt(e,"x2"),y:Qt(e,"y2")})}function Tw(e){for(var t=e.points,n=0,r,i=0;i<t.numberOfItems;i++){var o=t.getItem(i);i>0&&(n+=yp(r,o)),r=o}return n}function yO(e){var t=e.points;return Tw(e)+yp(t.getItem(t.numberOfItems-1),t.getItem(0))}function xw(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return gO(e);case"rect":return mO(e);case"line":return vO(e);case"polyline":return Tw(e);case"polygon":return yO(e)}}function _O(e){var t=xw(e);return e.setAttribute("stroke-dasharray",t),t}function CO(e){for(var t=e.parentNode;N.svg(t)&&N.svg(t.parentNode);)t=t.parentNode;return t}function Aw(e,t){var n=t||{},r=n.el||CO(e),i=r.getBoundingClientRect(),o=Qt(r,"viewBox"),s=i.width,a=i.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function wO(e,t){var n=N.str(e)?bw(e)[0]:e,r=t||100;return function(i){return{property:i,el:n,svg:Aw(n),totalLength:xw(n)*(r/100)}}}function EO(e,t,n){function r(u){u===void 0&&(u=0);var d=t+u>=1?t+u:0;return e.el.getPointAtLength(d)}var i=Aw(e.el,e.svg),o=r(),s=r(-1),a=r(1),l=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(e.property){case"x":return(o.x-i.x)*l;case"y":return(o.y-i.y)*c;case"angle":return Math.atan2(a.y-s.y,a.x-s.x)*180/Math.PI}}function mw(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Mw(N.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:N.str(e)||t?r.split(n):[]}}function _p(e){var t=e?_c(N.arr(e)?e.map(gw):gw(e)):[];return yc(t,function(n,r,i){return i.indexOf(n)===r})}function Nw(e){var t=_p(e);return t.map(function(n,r){return{target:n,id:r,total:t.length,transforms:{list:Sw(n)}}})}function DO(e,t){var n=hp(t);if(/^spring/.test(n.easing)&&(n.duration=Ew(n.easing)),N.arr(e)){var r=e.length,i=r===2&&!N.obj(e[0]);i?e={value:e}:N.fnc(t.duration)||(n.duration=t.duration/r)}var o=N.arr(e)?e:[e];return o.map(function(s,a){var l=N.obj(s)&&!N.pth(s)?s:{value:s};return N.und(l.delay)&&(l.delay=a?0:t.delay),N.und(l.endDelay)&&(l.endDelay=a===o.length-1?t.endDelay:0),l}).map(function(s){return Cc(s,n)})}function bO(e){for(var t=yc(_c(e.map(function(o){return Object.keys(o)})),function(o){return N.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),n={},r=function(o){var s=t[o];n[s]=e.map(function(a){var l={};for(var c in a)N.key(c)?c==s&&(l.value=a[c]):l[c]=a[c];return l})},i=0;i<t.length;i++)r(i);return n}function IO(e,t){var n=[],r=t.keyframes;r&&(t=Cc(bO(r),t));for(var i in t)N.key(i)&&n.push({name:i,tweens:DO(t[i],e)});return n}function SO(e,t){var n={};for(var r in e){var i=cp(e[r],t);N.arr(i)&&(i=i.map(function(o){return cp(o,t)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function MO(e,t){var n;return e.tweens.map(function(r){var i=SO(r,t),o=i.value,s=N.arr(o)?o[1]:o,a=wn(s),l=mp(t.target,e.name,a,t),c=n?n.to.original:l,u=N.arr(o)?o[0]:c,d=wn(u)||wn(l),f=a||d;return N.und(s)&&(s=c),i.from=mw(u,f),i.to=mw(vp(s,u),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=dp(i.easing,i.duration),i.isPath=N.pth(o),i.isPathTargetInsideSVG=i.isPath&&N.svg(t.target),i.isColor=N.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var Rw={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var o="";r.list.forEach(function(s,a){o+=a+"("+s+") "}),e.style.transform=o}}};function Ow(e,t){var n=Nw(e);n.forEach(function(r){for(var i in t){var o=cp(t[i],r),s=r.target,a=wn(o),l=mp(s,i,a,r),c=a||wn(l),u=vp(Mw(o,c),l),d=gp(s,i);Rw[d](s,i,u,r.transforms,!0)}})}function TO(e,t){var n=gp(e.target,t.name);if(n){var r=MO(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function xO(e,t){return yc(_c(e.map(function(n){return t.map(function(r){return TO(n,r)})})),function(n){return!N.und(n)})}function kw(e,t){var n=e.length,r=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map(function(o){return r(o)+o.duration})):t.duration,i.delay=n?Math.min.apply(Math,e.map(function(o){return r(o)+o.delay})):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map(function(o){return r(o)+o.duration-o.endDelay})):t.endDelay,i}var vw=0;function AO(e){var t=lp(Cw,e),n=lp(up,e),r=IO(n,e),i=Nw(e.targets),o=xO(i,r),s=kw(o,n),a=vw;return vw++,Cc(t,{id:a,children:[],animatables:i,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}var Rt=[],Pw=function(){var e;function t(){!e&&(!yw()||!ye.suspendWhenDocumentHidden)&&Rt.length>0&&(e=requestAnimationFrame(n))}function n(i){for(var o=Rt.length,s=0;s<o;){var a=Rt[s];a.paused?(Rt.splice(s,1),o--):(a.tick(i),s++)}e=s>0?requestAnimationFrame(n):void 0}function r(){ye.suspendWhenDocumentHidden&&(yw()?e=cancelAnimationFrame(e):(Rt.forEach(function(i){return i._onDocumentVisibility()}),Pw()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function yw(){return!!document&&document.hidden}function ye(e){e===void 0&&(e={});var t=0,n=0,r=0,i,o=0,s=null;function a(_){var M=window.Promise&&new Promise(function(le){return s=le});return _.finished=M,M}var l=AO(e),c=a(l);function u(){var _=l.direction;_!=="alternate"&&(l.direction=_!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,i.forEach(function(M){return M.reversed=l.reversed})}function d(_){return l.reversed?l.duration-_:_}function f(){t=0,n=d(l.currentTime)*(1/ye.speed)}function h(_,M){M&&M.seek(_-M.timelineOffset)}function p(_){if(l.reversePlayback)for(var le=o;le--;)h(_,i[le]);else for(var M=0;M<o;M++)h(_,i[M])}function g(_){for(var M=0,le=l.animations,je=le.length;M<je;){var _e=le[M],ea=_e.animatable,Zn=_e.tweens,xr=Zn.length-1,Ce=Zn[xr];xr&&(Ce=yc(Zn,function(qb){return _<qb.end})[0]||Ce);for(var ta=qt(_-Ce.start-Ce.delay,0,Ce.duration)/Ce.duration,tn=isNaN(ta)?1:Ce.easing(ta),na=Ce.to.strings,Pu=Ce.round,Fu=[],Gb=Ce.to.numbers.length,Ar=void 0,Ji=0;Ji<Gb;Ji++){var eo=void 0,Lm=Ce.to.numbers[Ji],Vm=Ce.from.numbers[Ji]||0;Ce.isPath?eo=EO(Ce.value,tn*Lm,Ce.isPathTargetInsideSVG):eo=Vm+tn*(Lm-Vm),Pu&&(Ce.isColor&&Ji>2||(eo=Math.round(eo*Pu)/Pu)),Fu.push(eo)}var jm=na.length;if(!jm)Ar=Fu[0];else{Ar=na[0];for(var to=0;to<jm;to++){var tL=na[to],Bm=na[to+1],Lu=Fu[to];isNaN(Lu)||(Bm?Ar+=Lu+Bm:Ar+=Lu+" ")}}Rw[_e.type](ea.target,_e.property,Ar,ea.transforms),_e.currentValue=Ar,M++}}function y(_){l[_]&&!l.passThrough&&l[_](l)}function b(){l.remaining&&l.remaining!==!0&&l.remaining--}function H(_){var M=l.duration,le=l.delay,je=M-l.endDelay,_e=d(_);l.progress=qt(_e/M*100,0,100),l.reversePlayback=_e<l.currentTime,i&&p(_e),!l.began&&l.currentTime>0&&(l.began=!0,y("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,y("loopBegin")),_e<=le&&l.currentTime!==0&&g(0),(_e>=je&&l.currentTime!==M||!M)&&g(M),_e>le&&_e<je?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,y("changeBegin")),y("change"),g(_e)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,y("changeComplete")),l.currentTime=qt(_e,0,M),l.began&&y("update"),_>=M&&(n=0,b(),l.remaining?(t=r,y("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&u()):(l.paused=!0,l.completed||(l.completed=!0,y("loopComplete"),y("complete"),!l.passThrough&&"Promise"in window&&(s(),c=a(l)))))}return l.reset=function(){var _=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=_==="reverse",l.remaining=l.loop,i=l.children,o=i.length;for(var M=o;M--;)l.children[M].reset();(l.reversed&&l.loop!==!0||_==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=f,l.set=function(_,M){return Ow(_,M),l},l.tick=function(_){r=_,t||(t=r),H((r+(n-t))*ye.speed)},l.seek=function(_){H(d(_))},l.pause=function(){l.paused=!0,f()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Rt.push(l),f(),Pw())},l.reverse=function(){u(),l.completed=!l.reversed,f()},l.restart=function(){l.reset(),l.play()},l.remove=function(_){var M=_p(_);Fw(M,l)},l.reset(),l.autoplay&&l.play(),l}function _w(e,t){for(var n=t.length;n--;)fp(e,t[n].animatable.target)&&t.splice(n,1)}function Fw(e,t){var n=t.animations,r=t.children;_w(e,n);for(var i=r.length;i--;){var o=r[i],s=o.animations;_w(e,s),!s.length&&!o.children.length&&r.splice(i,1)}!n.length&&!r.length&&t.pause()}function NO(e){for(var t=_p(e),n=Rt.length;n--;){var r=Rt[n];Fw(t,r)}}function RO(e,t){t===void 0&&(t={});var n=t.direction||"normal",r=t.easing?dp(t.easing):null,i=t.grid,o=t.axis,s=t.from||0,a=s==="first",l=s==="center",c=s==="last",u=N.arr(e),d=parseFloat(u?e[0]:e),f=u?parseFloat(e[1]):0,h=wn(u?e[1]:e)||0,p=t.start||0+(u?d:0),g=[],y=0;return function(b,H,_){if(a&&(s=0),l&&(s=(_-1)/2),c&&(s=_-1),!g.length){for(var M=0;M<_;M++){if(!i)g.push(Math.abs(s-M));else{var le=l?(i[0]-1)/2:s%i[0],je=l?(i[1]-1)/2:Math.floor(s/i[0]),_e=M%i[0],ea=Math.floor(M/i[0]),Zn=le-_e,xr=je-ea,Ce=Math.sqrt(Zn*Zn+xr*xr);o==="x"&&(Ce=-Zn),o==="y"&&(Ce=-xr),g.push(Ce)}y=Math.max.apply(Math,g)}r&&(g=g.map(function(tn){return r(tn/y)*y})),n==="reverse"&&(g=g.map(function(tn){return o?tn<0?tn*-1:-tn:Math.abs(y-tn)}))}var ta=u?(f-d)/y:d;return p+ta*(Math.round(g[H]*100)/100)+h}}function OO(e){e===void 0&&(e={});var t=ye(e);return t.duration=0,t.add=function(n,r){var i=Rt.indexOf(t),o=t.children;i>-1&&Rt.splice(i,1);function s(f){f.passThrough=!0}for(var a=0;a<o.length;a++)s(o[a]);var l=Cc(n,lp(up,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=N.und(r)?c:vp(r,c),s(t),t.seek(l.timelineOffset);var u=ye(l);s(u),o.push(u);var d=kw(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}ye.version="3.2.1";ye.speed=1;ye.suspendWhenDocumentHidden=!0;ye.running=Rt;ye.remove=NO;ye.get=mp;ye.set=Ow;ye.convertPx=pp;ye.path=wO;ye.setDashoffset=_O;ye.stagger=RO;ye.timeline=OO;ye.easing=dp;ye.penner=Dw;ye.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var R=ye;var wc=class e{ngAfterViewInit(){R({targets:".container-clouds",top:"-100%",duration:0}),setTimeout(()=>{R({targets:".container-clouds",top:"10%",duration:2e3,easing:"easeInOutQuad"})},0);let t=()=>Math.random()*3e4+7e3,n=()=>Math.random()*500-250,r=()=>Math.random()*50-25;R({targets:".cloud_icon1",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),R({targets:".cloud_icon2",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),R({targets:".cloud_icon3",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),R({targets:".cloud_icon4",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),R({targets:".cloud_icon5",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["sky-clouds"]],decls:5,vars:0,consts:[[1,"container-clouds"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon1"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon3"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon4"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon5"]],template:function(n,r){n&1&&(m(0,"div",0),A(1,"img",1)(2,"img",2)(3,"img",3)(4,"img",4),v())},styles:[".container-clouds[_ngcontent-%COMP%]{top:0;position:absolute;left:0;width:100%;height:100%}.cloud_icon1[_ngcontent-%COMP%], .cloud_icon2[_ngcontent-%COMP%], .cloud_icon3[_ngcontent-%COMP%], .cloud_icon4[_ngcontent-%COMP%], .cloud_icon5[_ngcontent-%COMP%]{position:absolute}.cloud_icon1[_ngcontent-%COMP%]{top:10%;left:5%;width:100px;opacity:.3}.cloud_icon2[_ngcontent-%COMP%]{top:20%;left:10%;width:200px;opacity:.8}.cloud_icon3[_ngcontent-%COMP%]{top:-3%;right:30%;width:150px;opacity:.5}.cloud_icon4[_ngcontent-%COMP%]{top:5%;right:-5%;width:140px;opacity:.6}.cloud_icon5[_ngcontent-%COMP%]{top:20%;right:15%;width:100px;opacity:.7}@media (min-width: 768px){.cloud_icon1[_ngcontent-%COMP%]{top:1%;left:5%;width:150px}.cloud_icon2[_ngcontent-%COMP%]{top:10%;left:20%;width:220px}.cloud_icon3[_ngcontent-%COMP%]{top:-5%;right:35%;width:200px}.cloud_icon4[_ngcontent-%COMP%]{top:1%;right:-5%;width:180px}.cloud_icon5[_ngcontent-%COMP%]{top:13%;right:25%;width:100px;opacity:.6}}@media (min-width: 1024px){.cloud_icon1[_ngcontent-%COMP%]{top:-2%;left:5%;width:200px;opacity:.6}.cloud_icon2[_ngcontent-%COMP%]{top:10%;left:20%;width:270px}.cloud_icon3[_ngcontent-%COMP%]{top:-6%;right:35%;width:220px}.cloud_icon4[_ngcontent-%COMP%]{top:12%;right:15%;width:210px}.cloud_icon5[_ngcontent-%COMP%]{top:5%;right:5%;width:100px;opacity:.6}}"]})};var Ec=class e{constructor(t){this.router=t;this.currentOrientation=window.innerWidth>window.innerHeight?"landscape":"portrait"}currentOrientation;timeline;ngAfterViewInit(){return ge(this,null,function*(){this.timelineAnimations()})}timelineAnimations(){return ge(this,null,function*(){this.timeline=R.timeline({easing:"easeInOutElastic",duration:1500}),this.timeline.add({targets:".countryside",opacity:1,duration:3e3,easing:"easeInQuart"}).add({targets:".bush",opacity:1,easing:"easeInQuart"},"-=2000").add({targets:".msg1-1",bottom:["-200px","30px"],left:["190px","140px"],rotate:["90deg","-10deg"],opacity:[0,1],delay:500}).add({targets:".msg1-1",bottom:"-100px",left:"190px",rotate:"90deg",opacity:0,delay:2e3}).add({targets:".msg1-2",bottom:["-200px","40px"],left:["80px","30px"],rotate:["-90deg","10deg"],opacity:[0,1],delay:100}).add({targets:".msg1-3",bottom:["-200px","20px"],left:["230px","170px"],rotate:["90deg","-10deg"],opacity:[0,1],delay:500},"-=1000").add({delay:2500}).add({targets:".msg1-2, .msg1-3",bottom:"-200px",rotate:"-90deg",opacity:0,delay:R.stagger(200)}).add({targets:".msg1-4",bottom:["-200px","30px"],left:["190px","140px"],rotate:["90deg","-10deg"],opacity:[0,1]},"-=1000").add({targets:".msg1-4",bottom:"-100px",left:"190px",rotate:"90deg",opacity:0,delay:2e3}).add({targets:".bush",left:"-300px",easing:"easeInOutQuad",duration:2500}).add({targets:".countryside",left:"-550px",easing:"easeInOutQuad"},"-=1800").add({targets:".msg4",left:"130%",opacity:1,duration:8e3,easing:"linear"}).add({targets:".msg3",bottom:"140px",opacity:1,duration:500,easing:"easeInOutQuad"},"-=5000").add({targets:".msg3",bottom:"180px",scale:.1,opacity:0,duration:500,easing:"easeInOutQuad"}).add({targets:".countryside",left:"-950px",easing:"easeInOutQuad"}).add({targets:".msg5",bottom:"30%",opacity:1,duration:2e3,easing:"easeInOutQuad"}).add({targets:".msg6",right:"130%",duration:8e3,easing:"linear",delay:1e3},"-=2000").add({targets:".msg5",right:"100%",opacity:1,duration:1500,easing:"easeInOutQuad"}).add({targets:".countryside",left:"-1300px",easing:"easeInOutQuad",opacity:1},"-=1500").add({targets:".msg7",bottom:"80%",right:"100%",width:["40%","60%","30%"],duration:8e3,easing:"easeInOutSine"}).add({targets:".countryside",bottom:"-340px",easing:"easeInOutQuad",delay:7e3},"-=8000").add({targets:".party",top:"30%",scale:1,opacity:1,easing:"easeInOutQuad",duration:2e3},"-=1800").add({duration:2e3,complete:()=>{this.router.navigate(["/invitacion"])}}).finished})}onResize(){let t=window.innerWidth,n=window.innerHeight,r=t>n?"landscape":"portrait";r!==this.currentOrientation&&(this.currentOrientation=r,r==="portrait"&&window.location.reload())}static \u0275fac=function(n){return new(n||e)(Z(yt))};static \u0275cmp=ve({type:e,selectors:[["countryside"]],hostBindings:function(n,r){n&1&&Q("resize",function(o){return r.onResize(o)},!1,t0)},decls:17,vars:0,consts:[[1,"container-inv"],["src","assets/img/countryside/countryside_bkg.png",1,"countryside"],["src","assets/img/countryside/msg1_1.png",1,"msg1-1","msg-rabbit"],["src","assets/img/countryside/msg1_2.png",1,"msg1-2","msg-rabbit"],["src","assets/img/countryside/msg1_3.png",1,"msg1-3","msg-rabbit"],["src","assets/img/countryside/msg1_4.png",1,"msg1-4","msg-rabbit"],["src","assets/img/countryside/bush.png",1,"bush"],["src","assets/img/countryside/msg3.png",1,"msg3"],["src","assets/img/countryside/msg4.png",1,"msg4"],["src","assets/img/countryside/msg5.png",1,"msg5"],["src","assets/img/countryside/msg6.png",1,"msg6"],["src","assets/img/countryside/msg7.png",1,"msg7"],[1,"d-flex","justify-content-center"],["src","assets/img/countryside/bautizo.png",1,"party"],[1,"rotate-screen"]],template:function(n,r){n&1&&(m(0,"div",0),A(1,"img",1)(2,"img",2)(3,"img",3)(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9)(10,"img",10)(11,"img",11),m(12,"div",12),A(13,"img",13),v()(),m(14,"div",14)(15,"p"),S(16,"Por favor voltea el dispositivo para continuar con la invitaci\xF3n"),v()())},styles:['@charset "UTF-8";.countryside[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:1920px;height:1080px;opacity:0}@media (max-width: 767px){.bush[_ngcontent-%COMP%]{position:absolute;bottom:-10px;left:20px;width:70%;transform:scaleX(-1);opacity:0}.countryside[_ngcontent-%COMP%]{position:absolute;bottom:-120px;left:-160px;opacity:0}.msg-rabbit[_ngcontent-%COMP%]{position:absolute;width:35%}.msg3[_ngcontent-%COMP%]{position:absolute;width:30%;bottom:160px;left:160px;opacity:0}.msg4[_ngcontent-%COMP%]{position:absolute;width:70%;top:30%;left:-70%}.msg5[_ngcontent-%COMP%]{position:absolute;width:70%;bottom:40%;right:0%;opacity:0}.msg6[_ngcontent-%COMP%]{position:absolute;width:70%;top:15%;right:-100%;opacity:1}.msg7[_ngcontent-%COMP%]{position:absolute;width:20%;bottom:100px;right:-20%;transform:rotate(10deg)}.party[_ngcontent-%COMP%]{position:absolute;top:50%;width:70%;opacity:0;transform:translate(-50%,-50%) scale(0)}}@media (min-width: 768px) and (max-width: 1024px){.countryside[_ngcontent-%COMP%]{position:absolute;bottom:300px;left:700px;width:1920px;height:1080px;opacity:0;transform:scale(2)}.container-inv[_ngcontent-%COMP%]{display:none;overflow:hidden;width:100%;height:100%}}@media (min-width: 1025px){.countryside[_ngcontent-%COMP%]{width:100%;height:100%;opacity:1}.container-inv[_ngcontent-%COMP%]{display:none}}.rotate-screen[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#f6d8d6;color:#000;text-align:center;justify-content:center;align-items:center;z-index:1000;overflow:hidden}@media (orientation: landscape){.rotate-screen[_ngcontent-%COMP%]{display:flex}}']})};function kO(e,t){if(e&1&&(m(0,"div",15),A(1,"img",16),v()),e&2){let n=t.$implicit;Xe("ngClass",n.className),Le(),Xe("src",n.src,pi)("ngStyle",n.style)}}var Dc=class e{constructor(t){this.router=t}butterflies=[];maxButterflies=100;addButterfly(t){if(this.butterflies.length<this.maxButterflies){let r={name:".butterfly",className:`container_bfly${this.butterflies.length+1}`,src:"assets/svg/butterfly.svg",style:{top:`${t.clientY-100}px`,left:`${t.clientX}px`}};this.butterflies.push(r),setTimeout(()=>{this.animateButterfly(r)},100),setTimeout(()=>{R({targets:`.${r.className}`,opacity:0,duration:4e3,easing:"easeInBack",complete:()=>{let i=this.butterflies.indexOf(r);i>-1&&this.butterflies.splice(i,1)}})},5e3)}}animateButterfly(t){R({targets:`${t.name}`,scaleX:[{value:1.1,duration:200},{value:.9,duration:200},{value:1.1,duration:200},{value:1,duration:200}],scaleY:[{value:.9,duration:200},{value:1.1,duration:200},{value:.9,duration:200},{value:1,duration:200}],easing:"easeInOutSine",duration:800,loop:!0}),R({targets:`.${t.className}`,translateX:function(){return R.random(-200,200)},translateY:function(){return R.random(-200,200)},translateZ:function(){return R.random(-200,200)},easing:"easeInOutSine",duration:function(){return R.random(3e3,6e3)},direction:"alternate",loop:!0,delay:function(n,r,i){return R.random(0,1e3)},endDelay:function(n,r,i){return R.random(0,1e3)}})}clickCount=0;clickTimeout;onClick(t){this.clickCount++,clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout(()=>{this.clickCount=0},1e3),this.clickCount===15&&this.openModal()}openModal(){let t=document.getElementById("confirmModal");t.style.display="block",R({targets:"#confirmModal",scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}closeModal(){let t=document.getElementById("confirmModal");R({targets:"#confirmModal",scale:[1,0],opacity:[1,0],duration:300,easing:"easeOutQuad",oncomplete:()=>{t.style.display="none"}})}skipAnimation(){this.closeModal(),setTimeout(()=>{this.router.navigate(["/invitacion"])},1e3)}static \u0275fac=function(n){return new(n||e)(Z(yt))};static \u0275cmp=ve({type:e,selectors:[["butterflies"]],hostBindings:function(n,r){n&1&&Q("click",function(o){return r.onClick(o)},!1,n0)},decls:19,vars:1,consts:[[1,"butterfly-container",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],["id","confirmModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"margin","4rem"],[1,"modal-header"],["id","commentModalLabel",1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","text-center","mb-3"],["src","assets/svg/skip-forward.svg","alt","",2,"width","3.5rem"],[1,"col-12","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-modal",3,"click"],[3,"ngClass"],[1,"butterfly",3,"src","ngStyle"]],template:function(n,r){n&1&&(m(0,"div",0),Q("click",function(o){return r.addButterfly(o)}),Po(1,kO,2,3,"div",1),v(),m(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),S(7,"Omitir Animaci\xF3n"),v(),m(8,"button",7),Q("click",function(){return r.closeModal()}),v()(),m(9,"div",8)(10,"div",9)(11,"div",10),A(12,"img",11),v(),m(13,"div",12)(14,"h2"),S(15,"\xBFOmitir animaci\xF3n y continuar a la informaci\xF3n?"),v()()()(),m(16,"div",13)(17,"button",14),Q("click",function(){return r.skipAnimation()}),S(18,"Continuar"),v()()()()()),n&2&&(Le(),Xe("ngForOf",r.butterflies))},dependencies:[jo,oC,Gl,sC],styles:[".butterfly[_ngcontent-%COMP%]{position:absolute;width:5%;pointer-events:none}.butterfly-container[_ngcontent-%COMP%]{width:100%;height:85vh;position:absolute;bottom:0}.btn-modal[_ngcontent-%COMP%]{background-color:#999ae8;height:35px;font-size:1.5rem;color:#fff}"]})};var bc=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["app-bautizo"]],decls:4,vars:0,consts:[[1,"container-sky"]],template:function(n,r){n&1&&(m(0,"div",0),A(1,"countryside")(2,"sky-clouds")(3,"butterflies"),v())},dependencies:[wc,Ec,Dc],encapsulation:2})};var Ic=class e{constructor(t){this.router=t}ngAfterViewInit(){let t=R({targets:"#loading_icon",scaleX:[{value:1.1,duration:200},{value:.9,duration:200},{value:1.1,duration:200},{value:1,duration:200}],scaleY:[{value:.9,duration:200},{value:1.1,duration:200},{value:.9,duration:200},{value:1,duration:200}],easing:"easeInOutSine",duration:800,loop:!0}),n=R({targets:".loading__icon",keyframes:Array.from({length:16},()=>({translateX:Math.random()*100-50,translateY:Math.random()*100-50,translateZ:Math.random()*80-40,opacity:[1,.8]})),easing:"easeInOutQuad",duration:15e3,loop:!0,direction:"alternate"});setTimeout(()=>{R({targets:".container-sky",backgroundColor:"#f6d8d6",duration:2e3,easing:"easeInOutSine"})},1500),setTimeout(()=>{n.pause(),R({targets:".loading__icon",translateX:0,translateY:0,duration:1e3,easing:"easeInOutSine",complete:()=>{R({targets:"#loading_icon",scale:.1,opacity:0,duration:2e3,easing:"easeInOutSine",complete:()=>{try{document.getElementById("loading_icon").style.display="none",this.router.navigate(["/bautizo"])}catch{}}})}})},5e3)}ngOnInit(){localStorage.getItem("entro")==="1"?this.router.navigate(["/invitacion"]):localStorage.setItem("entro","1")}static \u0275fac=function(n){return new(n||e)(Z(yt))};static \u0275cmp=ve({type:e,selectors:[["app-loading"]],decls:4,vars:0,consts:[[1,"container-sky"],[1,"loading"],[1,"loading__icon"],["id","loading_icon","src","assets/svg/butterfly.svg","alt",""]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),A(3,"img",3),v()()())},styles:[".loading[_ngcontent-%COMP%]{height:100vh;width:100vw;flex-direction:column;display:flex;justify-content:center;align-items:center}.loading__icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem}.loading__text[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.5rem;font-weight:700;color:#000}"]})};var Sc=class e{flagHImage=0;imgHeader="assets/img/countryside/bautizo.png";isAnimating=!1;imgsHeader=["assets/img/countryside/bautizo.png","assets/img/countryside/party.png"];constructor(){}ngOnInit(){let t=document.querySelector(".container-info");t&&t.addEventListener("scroll",this.checkVisibility.bind(this))}isElementInViewport(t){let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}checkVisibility(){document.querySelectorAll(".view").forEach(n=>{if(this.isElementInViewport(n)){let i=n.getAttribute("data-id")==="ba"?this.imgsHeader[0]:this.imgsHeader[1];if(this.isAnimating||this.imgHeader===i)return;this.isAnimating=!0,R({targets:".header-img",top:"-50px",opacity:0,duration:300,easing:"easeInOutQuad",complete:()=>{this.imgHeader=i,R({targets:".header-img",top:"20px",opacity:1,duration:300,easing:"easeInOutQuad",complete:()=>{this.isAnimating=!1}})}})}})}ngAfterViewInit(){this.startAnimation()}startAnimation(){R.timeline({easing:"easeInOutQuad",duration:1e3}).add({targets:".header-img",top:"20px"}).add({targets:".card",translateX:[-1e3,0],duration:1e3,easing:"easeInOutQuad",delay:R.stagger(100)},"-=700")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["information"]],decls:93,vars:1,consts:[[1,"container-sky"],[1,"container-header"],[1,"header-img",3,"src"],[1,"container-info"],[1,"card","no-card"],[1,"card__content-h"],[1,"card__img"],[1,"img-content"],["src","assets/img/countryside/sofia.png","alt",""],[1,"card__text"],[1,"card__content-v"],[1,"card__title"],[1,"card__content"],["data-id","ba",1,"card","view"],[1,"card__img-aux-l"],[1,"card__footer"],[1,"card__btn-send"],[1,"card"],[1,"card__img-aux-r"],[1,"card","no-card","card__small"],["data-id","bi",1,"card","view"],[1,"footer-img"],["src","assets/img/countryside/footer.png",1,"party"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1),A(2,"img",2),v(),m(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),A(8,"img",8),v()(),m(9,"div",9),S(10," ANGELA SOFIA RAMIREZ MONTES "),v()()(),m(11,"div",4)(12,"div",10)(13,"div",11)(14,"h1"),S(15,"Mis Pap\xE1s"),v()(),m(16,"div",10)(17,"p"),S(18,"Minerva Victoria Montes Torres"),v(),m(19,"p"),S(20,"Jos\xE9 Manuel Ram\xEDrez Mej\xEDa"),v()()()(),m(21,"div",4)(22,"div",10)(23,"div",11)(24,"h1"),S(25,"Mi Madrina"),v()(),m(26,"div",12)(27,"p"),S(28,"Maria Jos\xE9 Ram\xEDrez Mej\xEDa"),v()()()(),m(29,"div",13)(30,"div",5),A(31,"div",14),m(32,"div",9)(33,"div",11)(34,"h1"),S(35,"Bautizo"),v()(),m(36,"p"),S(37,"Iglesia de la sagrada familia"),v(),A(38,"br"),m(39,"p"),S(40,"12 de Julio del 20205"),v(),A(41,"br"),m(42,"p"),S(43,"02:00 p.m."),v()()(),m(44,"div",15)(45,"button",16),S(46,"\xBFComo llegar?"),v()()(),m(47,"div",17)(48,"div",5)(49,"div",9)(50,"div",11)(51,"h1"),S(52,"Recepci\xF3n"),v()(),m(53,"p"),S(54,"Sal\xF3n de fiestas XYZ"),v(),A(55,"br"),m(56,"p"),S(57,"12 de Julio del 20205"),v(),A(58,"br"),m(59,"p"),S(60,"04:00 p.m."),v()(),A(61,"div",18),v(),m(62,"div",15)(63,"button",16),S(64,"\xBFComo llegar?"),v()()(),m(65,"div",19)(66,"div",12),S(67,' "En este d\xEDa especial, celebramos la llegada de un nuevo miembro a la familia de Dios. Que su bautizo marque el inicio de una vida llena de bendiciones, amor y sabidur\xEDa divina." '),v()(),m(68,"div",17)(69,"div",11),S(70," Falta para mi fiesta... "),v(),A(71,"div",12),v(),m(72,"div",20)(73,"div",11),S(74," Falta para mi cumplea\xF1os... "),v(),A(75,"div",12),v(),m(76,"div",19)(77,"div",12),S(78,' "En su primer a\xF1o de vida, una beb\xE9 es como una flor que comienza a abrirse al mundo, llena de pureza y asombro.Sus risas y logros nos muestran la belleza de la vida en cada peque\xF1o momento." '),v()(),m(79,"div",17)(80,"div",12)(81,"h1"),S(82,"Mesa de regalos"),v()()(),m(83,"div",17)(84,"div",12)(85,"h1"),S(86,"Anuncios"),v()()(),m(87,"div",17)(88,"div",12)(89,"h1"),S(90,"Deja un comentario"),v()()(),m(91,"div",21),A(92,"img",22),v()()()),n&2&&(Le(2),Xe("src",r.imgHeader,pi))},styles:["h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.header-img[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%);width:300px;height:150px;z-index:1}.container-info[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 240px);position:absolute;z-index:0;overflow:auto;display:flex;flex-direction:column;align-items:stretch;gap:10px;bottom:0}.card[_ngcontent-%COMP%]{width:90%;background-color:#ededfd;flex-shrink:0;border-radius:20px;margin:5%;display:flex;flex-direction:column;box-shadow:0 15px 10px #00000080}.card__content-h[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.card__content-v[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.card__title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;width:100%}.card__small[_ngcontent-%COMP%]{height:100px}.card__img[_ngcontent-%COMP%]{flex:0 0 50%;display:flex;justify-content:center}.card__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}.card__text[_ngcontent-%COMP%]{flex:0 0 50%;display:flex;flex-direction:column;justify-content:center;padding:10px}.card__img-aux-l[_ngcontent-%COMP%]{background-image:url(/assets/img/countryside/church.jpg);background-repeat:no-repeat;background-size:300%;background-position:center;width:100%;height:100%;border-top-left-radius:20px}.card__img-aux-r[_ngcontent-%COMP%]{background-image:url(/assets/img/countryside/church.jpg);background-repeat:no-repeat;background-size:200%;background-position:center;width:100%;height:100%;border-top-right-radius:20px}.card__footer[_ngcontent-%COMP%]{width:100%}.card__btn-send[_ngcontent-%COMP%]{border-bottom-right-radius:20px;border-bottom-left-radius:20px;background-color:#f4b0e5;border:0;color:#fff;height:40px;width:100%}.no-card[_ngcontent-%COMP%]{background-color:#f6d8d6;box-shadow:none}.img-content[_ngcontent-%COMP%]{background-color:#ededfd;padding:5px;border-radius:20px}.footer-img[_ngcontent-%COMP%]{position:relative;margin-top:auto;width:100%;height:auto}.footer-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}"]})};var Ti=class e{animate=!1;runAnimMosaic=!1;isZoomed=!1;srcImgView="";ngAfterViewInit(){this.animate&&this.runAnimation()}ngOnChanges(t){t.animate&&!t.animate.isFirstChange()&&this.animate&&this.runAnimation()}runAnimation(){let t=document.querySelectorAll(".photo");t.forEach(n=>{n.classList.remove("centered-image")}),this.runAnimMosaic=!0,R({targets:t,scale:[3,1],opacity:[0,1],filter:["blur(5px)","blur(0)"],delay:R.stagger(200),duration:500,easing:"easeOutQuad",complete:()=>{this.runAnimMosaic=!1}})}toggleZoom(t){if(this.runAnimMosaic)return;let n=t;if(this.srcImgView=n.getAttribute("src")||"",this.runAnimMosaic=!0,this.isZoomed){this.isZoomed=!1;let r=document.querySelectorAll(".photo"),i=document.querySelector(".view-photo");i&&(i.style.display="none"),R({targets:r,translateX:0,opacity:1,scale:1,delay:R.stagger(100),duration:500,easing:"easeOutExpo",complete:()=>{n.classList.remove("zoomed"),this.runAnimMosaic=!1,document.querySelector(".content").style.overflowY="auto"}})}else{let r=document.querySelectorAll(".photo");document.querySelector(".content").style.overflow="hidden",R({targets:r,translateX:"100%",opacity:0,delay:R.stagger(100),duration:500,easing:"easeOutExpo",complete:()=>{this.isZoomed=!0,this.runAnimMosaic=!1;let i=document.querySelector(".view-photo");i&&(i.style.display="flex")}})}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["mosaic-photos"]],inputs:{animate:"animate"},features:[Fn],decls:31,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2","d-flex","align-items-center"],["src","assets/img/countryside/photos/img1.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"col-2"],[1,"col-12"],["src","assets/img/countryside/photos/img2.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"col-12","mt-3"],["src","assets/img/countryside/photos/img3.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img4.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img5.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img6.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img7.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img8.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img9.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"view-photo"],[1,"row","text-center"],["id","view-img","alt","photo",3,"click","src"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),Q("click",function(o){return r.toggleZoom(o.target)}),v()(),m(4,"div",4)(5,"div",1)(6,"div",5)(7,"img",6),Q("click",function(o){return r.toggleZoom(o.target)}),v()(),m(8,"div",7)(9,"img",8),Q("click",function(o){return r.toggleZoom(o.target)}),v()()()(),m(10,"div",2)(11,"img",9),Q("click",function(o){return r.toggleZoom(o.target)}),v()(),m(12,"div",2)(13,"div",1)(14,"div",5)(15,"img",10),Q("click",function(o){return r.toggleZoom(o.target)}),v()(),m(16,"div",7)(17,"img",11),Q("click",function(o){return r.toggleZoom(o.target)}),v()()()(),m(18,"div",2)(19,"img",12),Q("click",function(o){return r.toggleZoom(o.target)}),v()(),m(20,"div",4)(21,"div",1)(22,"div",5)(23,"img",13),Q("click",function(o){return r.toggleZoom(o.target)}),v()(),m(24,"div",7)(25,"img",14),Q("click",function(o){return r.toggleZoom(o.target)}),v()()()()()(),m(26,"div",15)(27,"div",16)(28,"h1"),S(29,"1 mes"),v()(),m(30,"img",17),Q("click",function(o){return r.toggleZoom(o.target)}),v()()),n&2&&(Le(30),Xe("src",r.srcImgView,pi))},styles:[".centered-image[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:65%;transform:translate(-50%,-50%)!important;z-index:2;border-radius:50px}.view-photo[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:auto;max-height:90%;background-color:#fff;border-radius:20px;box-shadow:0 4px 8px #0003;z-index:3;padding:1rem;display:flex;flex-direction:column;justify-content:center;align-items:center;display:none}.view-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80%;object-fit:contain;border-radius:20px}@media (min-width: 600px) and (max-width: 1199px){.view-photo[_ngcontent-%COMP%]{max-width:60%}}@media (min-width: 1200px){.view-photo[_ngcontent-%COMP%]{max-width:30%}}"]})};var xi=class{id;autor;comentario;fecha;constructor(t,n,r,i){this.id=t,this.autor=n,this.comentario=r,this.fecha=i}};var Ww=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(Z(Ln),Z(gn))};static \u0275dir=Ke({type:e})}return e})(),PO=(()=>{class e extends Ww{static \u0275fac=(()=>{let n;return function(i){return(n||(n=di(e)))(i||e)}})();static \u0275dir=Ke({type:e,features:[fr]})}return e})(),Gw=new I("");var FO={provide:Gw,useExisting:li(()=>Nc),multi:!0};function LO(){let e=vn()?vn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var VO=new I(""),Nc=(()=>{class e extends Ww{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!LO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(Z(Ln),Z(gn),Z(VO,8))};static \u0275dir=Ke({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Q("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Ul([FO]),fr]})}return e})();function jO(e){return e!=null&&typeof e.length=="number"}var qw=new I(""),BO=new I("");function UO(e){return t=>jO(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Lw(e){return null}function Qw(e){return e!=null}function Yw(e){return hr(e)?ie(e):e}function Zw(e){let t={};return e.forEach(n=>{t=n!=null?E(E({},t),n):t}),Object.keys(t).length===0?null:t}function Kw(e,t){return t.map(n=>n(e))}function $O(e){return!e.validate}function Xw(e){return e.map(t=>$O(t)?t:n=>t.validate(n))}function HO(e){if(!e)return null;let t=e.filter(Qw);return t.length==0?null:function(n){return Zw(Kw(n,t))}}function Jw(e){return e!=null?HO(Xw(e)):null}function zO(e){if(!e)return null;let t=e.filter(Qw);return t.length==0?null:function(n){let r=Kw(n,t).map(Yw);return ld(r).pipe(k(Zw))}}function eE(e){return e!=null?zO(Xw(e)):null}function Vw(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function WO(e){return e._rawValidators}function GO(e){return e._rawAsyncValidators}function Cp(e){return e?Array.isArray(e)?e:[e]:[]}function Tc(e,t){return Array.isArray(e)?e.includes(t):e===t}function jw(e,t){let n=Cp(t);return Cp(e).forEach(i=>{Tc(n,i)||n.push(i)}),n}function Bw(e,t){return Cp(t).filter(n=>!Tc(e,n))}var xc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=eE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},wp=class extends xc{name;get formDirective(){return null}get path(){return null}},vs=class extends xc{_parent=null;name=null;valueAccessor=null},Ep=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Nz=z(E({},qO),{"[class.ng-submitted]":"isSubmitted"}),tE=(()=>{class e extends Ep{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(Z(vs,2))};static \u0275dir=Ke({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&nh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[fr]})}return e})();var hs="VALID",Mc="INVALID",Ai="PENDING",ps="DISABLED",Ri=class{},Ac=class extends Ri{value;source;constructor(t,n){super(),this.value=t,this.source=n}},gs=class extends Ri{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ms=class extends Ri{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Ni=class extends Ri{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function QO(e){return(Rc(e)?e.validators:e)||null}function YO(e){return Array.isArray(e)?Jw(e):e||null}function ZO(e,t){return(Rc(t)?t.asyncValidators:e)||null}function KO(e){return Array.isArray(e)?eE(e):e||null}function Rc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Dp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return mn(this.statusReactive)}set status(t){mn(()=>this.statusReactive.set(t))}_status=Lo(()=>this.statusReactive());statusReactive=Ro(void 0);get valid(){return this.status===hs}get invalid(){return this.status===Mc}get pending(){return this.status==Ai}get disabled(){return this.status===ps}get enabled(){return this.status!==ps}errors;get pristine(){return mn(this.pristineReactive)}set pristine(t){mn(()=>this.pristineReactive.set(t))}_pristine=Lo(()=>this.pristineReactive());pristineReactive=Ro(!0);get dirty(){return!this.pristine}get touched(){return mn(this.touchedReactive)}set touched(t){mn(()=>this.touchedReactive.set(t))}_touched=Lo(()=>this.touchedReactive());touchedReactive=Ro(!1);get untouched(){return!this.touched}_events=new ue;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(jw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Bw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Bw(t,this._rawAsyncValidators))}hasValidator(t){return Tc(this._rawValidators,t)}hasAsyncValidator(t){return Tc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(z(E({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ms(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new ms(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(z(E({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new gs(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new gs(!0,r))}markAsPending(t={}){this.status=Ai;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ni(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(z(E({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ps,this.errors=null,this._forEachChild(i=>{i.disable(z(E({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ac(this.value,r)),this._events.next(new Ni(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(z(E({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=hs,this._forEachChild(r=>{r.enable(z(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(z(E({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hs||this.status===Ai)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ac(this.value,n)),this._events.next(new Ni(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(z(E({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ps:hs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Ai,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Yw(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Ni(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new ke,this.statusChanges=new ke}_calculateStatus(){return this._allControlsDisabled()?ps:this.errors?Mc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ai)?Ai:this._anyControlsHaveStatus(Mc)?Mc:hs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new gs(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ms(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Rc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=YO(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=KO(this._rawAsyncValidators)}};var nE=new I("",{providedIn:"root",factory:()=>bp}),bp="always";function XO(e,t){return[...t.path,e]}function JO(e,t,n=bp){t1(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),n1(e,t),i1(e,t),r1(e,t),e1(e,t)}function Uw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function e1(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function t1(e,t){let n=WO(e);t.validator!==null?e.setValidators(Vw(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=GO(e);t.asyncValidator!==null?e.setAsyncValidators(Vw(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Uw(t._rawValidators,i),Uw(t._rawAsyncValidators,i)}function n1(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&rE(e,t)})}function r1(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&rE(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function rE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function i1(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function o1(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function s1(e){return Object.getPrototypeOf(e.constructor)===PO}function a1(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Nc?n=o:s1(o)?r=o:i=o}),i||r||n||null}function $w(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Hw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var l1=class extends Dp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(QO(n),ZO(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Rc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Hw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$w(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$w(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Hw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var c1={provide:vs,useExisting:li(()=>Ip)},zw=Promise.resolve(),Ip=(()=>{class e extends vs{_changeDetectorRef;callSetDisabledState;control=new l1;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new ke;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=a1(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),o1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){JO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){zw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&$l(r);zw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?XO(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(Z(wp,9),Z(qw,10),Z(BO,10),Z(Gw,10),Z(pr,8),Z(nE,8))};static \u0275dir=Ke({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ul([c1]),fr,Fn]})}return e})();function u1(e){return typeof e=="number"?e:parseInt(e,10)}var d1=(()=>{class e{_validator=Lw;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Lw,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ke({type:e,features:[Fn]})}return e})();var f1={provide:qw,useExisting:li(()=>Sp),multi:!0},Sp=(()=>{class e extends d1{maxlength;inputName="maxlength";normalizeInput=n=>u1(n);createValidator=n=>UO(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=di(e)))(i||e)}})();static \u0275dir=Ke({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ll("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Ul([f1]),fr]})}return e})();var h1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=At({type:e});static \u0275inj=Mt({})}return e})();var iE=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:nE,useValue:n.callSetDisabledState??bp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=At({type:e});static \u0275inj=Mt({imports:[h1]})}return e})();var g1="firebase",m1="11.5.0";Sn(g1,m1,"app");function Yt(e){e===void 0&&(e_(Yt),e=C(nt));let t=e.get(Of);return n=>new U(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Tp=new Pn("ANGULARFIRE2_VERSION");var oE=(e,t)=>{let n=t?[t]:av(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Mp=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Mp||{}),Zz=Fo()&&typeof Zone<"u"?Mp.WARN:Mp.SILENT;var Oc=class{zone;delegate;constructor(t,n=od){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},ys=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=C(ne);this.outsideAngular=n.runOutsideAngular(()=>new Oc(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Oc(typeof Zone>"u"?void 0:Zone.current,uo))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var v1=new Map,y1={activated:!1,tokenObservers:[]},_1={initialized:!1,enabled:!1};function Ot(e){return v1.get(e)||Object.assign({},y1)}function uE(){return _1}var C1="https://content-firebaseappcheck.googleapis.com/v1";var w1="exchangeDebugToken",aE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},i8=24*60*60*1e3;var Np=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return ge(this,null,function*(){this.stop();try{this.pending=new Te,this.pending.promise.catch(n=>{}),yield E1(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Te,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function E1(e){return new Promise(t=>{setTimeout(t,e)})}var D1={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Bn=new Zm("appCheck","AppCheck",D1);function dE(e){if(!Ot(e).activated)throw Bn.create("use-before-activation",{appName:e.name})}function fE(r,i){return ge(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(h){throw Bn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw Bn.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw Bn.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Bn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function hE(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${C1}/projects/${n}/apps/${r}:${w1}?key=${i}`,body:{debug_token:t}}}var b1="firebase-app-check-database",I1=1,Rp="firebase-app-check-store";var kc=null;function S1(){return kc||(kc=new Promise((e,t)=>{try{let n=indexedDB.open(b1,I1);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Bn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Rp,{keyPath:"compositeKey"})}}}catch(n){t(Bn.create("storage-open",{originalErrorMessage:n?.message}))}}),kc)}function M1(e,t){return T1(x1(e),t)}function T1(e,t){return ge(this,null,function*(){let r=(yield S1()).transaction(Rp,"readwrite"),o=r.objectStore(Rp).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(Bn.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function x1(e){return`${e.options.appId}-${e.name}`}var _s=new Rr("@firebase/app-check");function xp(e,t){return Ym()?M1(e,t).catch(n=>{_s.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function pE(){return uE().enabled}function gE(){return ge(this,null,function*(){let e=uE();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var A1={error:"UNKNOWN_ERROR"};function N1(e){return ia.encodeString(JSON.stringify(e),!1)}function Op(e,t=!1,n=!1){return ge(this,null,function*(){let r=e.app;dE(r);let i=Ot(r),o=i.token,s;if(o&&!Cs(o)&&(i.token=void 0,o=void 0),!o){let c=yield i.cachedTokenPromise;c&&(Cs(c)?o=c:yield xp(r,void 0))}if(!t&&o&&Cs(o))return{token:o.token};let a=!1;if(pE())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=fE(hE(r,yield gE()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield xp(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?_s.warn(c.message):n&&_s.error(c),Ap(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Ot(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?_s.warn(c.message):n&&_s.error(c),s=c}let l;return o?s?Cs(o)?l={token:o.token,internalError:s}:l=Ap(s):(l={token:o.token},i.token=o,yield xp(r,o)):l=Ap(s),a&&P1(r,l),l})}function R1(e){return ge(this,null,function*(){let t=e.app;dE(t);let{provider:n}=Ot(t);if(pE()){let r=yield gE(),{token:i}=yield fE(hE(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function O1(e,t,n,r){let{app:i}=e,o=Ot(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Cs(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),lE(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>lE(e))}function mE(e,t){let n=Ot(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function lE(e){let{app:t}=e,n=Ot(t),r=n.tokenRefresher;r||(r=k1(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function k1(e){let{app:t}=e;return new Np(()=>ge(this,null,function*(){let n=Ot(t),r;if(n.token?r=yield Op(e,!0):r=yield Op(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Ot(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},aE.RETRIAL_MIN_WAIT,aE.RETRIAL_MAX_WAIT)}function P1(e,t){let n=Ot(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Cs(e){return e.expireTimeMillis-Date.now()>0}function Ap(e){return{token:N1(A1),error:e}}var kp=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Ot(this.app);for(let n of t)mE(this.app,n.next);return Promise.resolve()}};function F1(e,t){return new kp(e,t)}function L1(e){return{getToken:t=>Op(e,t),getLimitedUseToken:()=>R1(e),addTokenListener:t=>O1(e,"INTERNAL",t),removeTokenListener:t=>mE(e.app,t)}}var V1="@firebase/app-check",j1="0.8.13";var B1="app-check",cE="app-check-internal";function U1(){io(new nn(B1,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return F1(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(cE).initialize()})),io(new nn(cE,e=>{let t=e.getProvider("app-check").getImmediate();return L1(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Sn(V1,j1)}U1();var $1="app-check";var Oi=class{constructor(){return oE($1)}};var H1=["localhost","0.0.0.0","127.0.0.1"],_8=typeof window<"u"&&H1.includes(window.location.hostname);var z1="firebase",W1="11.5.0";Et.registerVersion(z1,W1,"app-compat");var G1=["ngOnDestroy"],_E=(e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{if(e[o])return r?.spy?.get&&r.spy.get(o,e[o]),e[o];if(G1.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var Pp=class{constructor(t){return t}},Pc=new I("angularfire2.app.options"),Fc=new I("angularfire2.app.name");function Lc(e,t,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Et.apps.filter(a=>a&&a.name===i.name)[0]||t.runOutsideAngular(()=>Et.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;q1("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Pp(s)}var q1=(e,...t)=>{Fo()&&typeof console<"u"&&console[e](...t)};function Vc(e,t,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return Q1(i,s)||(yE("error",`${t} was already initialized on the ${n} Firebase App with different settings.${Y1?" You may need to reload as Firebase is not HMR aware.":""}`),yE("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([e,a,i]),a}}function Q1(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var Y1=typeof module<"u"&&!!module.hot,yE=(e,...t)=>{Fo()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var Fp=new I("angularfire2.auth.use-emulator"),Lp=new I("angularfire2.auth.settings"),Vp=new I("angularfire2.auth.tenant-id"),jp=new I("angularfire2.auth.langugage-code"),Bp=new I("angularfire2.auth.use-device-language"),Up=new I("angularfire.auth.persistence"),$p=(e,t,n,r,i,o,s,a)=>Vc(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),CE=(()=>{class e{injector=C(Ie);authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let p=new ue,g=O(void 0).pipe(Vt(s.outsideAngular),de(()=>o.runOutsideAngular(()=>import("./chunk-SEWQ5GPH.js"))),k(()=>Lc(n,o,r)),k(y=>$p(y,o,a,c,u,d,l,f)),ja({bufferSize:1,refCount:!1}));if(Bo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=O(null);else{g.pipe(bt()).subscribe();let y=g.pipe(de(_=>_.getRedirectResult().then(M=>M,()=>null)),Yt(this.injector),ja({bufferSize:1,refCount:!1})),b=g.pipe(de(_=>new U(M=>({unsubscribe:o.runOutsideAngular(()=>_.onAuthStateChanged(le=>M.next(le),le=>M.error(le),()=>M.complete()))})))),H=g.pipe(de(_=>new U(M=>({unsubscribe:o.runOutsideAngular(()=>_.onIdTokenChanged(le=>M.next(le),le=>M.error(le),()=>M.complete()))}))));this.authState=y.pipe(Ba(b),on(s.outsideAngular),Vt(s.insideAngular)),this.user=y.pipe(Ba(H),on(s.outsideAngular),Vt(s.insideAngular)),this.idToken=this.user.pipe(de(_=>_?ie(_.getIdToken()):O(null))),this.idTokenResult=this.user.pipe(de(_=>_?ie(_.getIdTokenResult()):O(null))),this.credential=Wr(y,p,this.authState.pipe(Ue(_=>!_))).pipe(k(_=>_?.user?_:null),on(s.outsideAngular),Vt(s.insideAngular))}return _E(this,g,o,{spy:{apply:(y,b,H)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&H.then(_=>p.next(_))}}})}static \u0275fac=function(r){return new(r||e)(D(Pc),D(Fc,8),D(mt),D(ne),D(ys),D(Fp,8),D(Lp,8),D(Vp,8),D(jp,8),D(Bp,8),D(Up,8),D(Oi,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var wE="@firebase/database",EE="1.0.14";var em="";function tm(e){em=e}var Zp=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),we(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:oa(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var Kp=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ut(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var JE=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Zp(t)}}catch{}return new Kp},wr=JE("localStorage"),Xp=JE("sessionStorage");var Li=new Rr("@firebase/database"),eD=function(){let e=1;return function(){return e++}}(),tD=function(e){let t=nv(e),n=new tv;n.update(t);let r=n.digest();return ia.encodeByteArray(r)},zs=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=zs.apply(null,r):typeof r=="object"?t+=we(r):t+=r,t+=" "}return t},Er=null,DE=!0,nD=function(e,t){w(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Li.logLevel=rv.VERBOSE,Er=Li.log.bind(Li),t&&Xp.set("logging_enabled",!0)):typeof e=="function"?Er=e:(Er=null,Xp.remove("logging_enabled"))},Ae=function(...e){if(DE===!0&&(DE=!1,Er===null&&Xp.get("logging_enabled")===!0&&nD(!0)),Er){let t=zs.apply(null,e);Er(t)}},Ws=function(e){return function(...t){Ae(e,...t)}},Jp=function(...e){let t="FIREBASE INTERNAL ERROR: "+zs(...e);Li.error(t)},Xt=function(...e){let t=`FIREBASE FATAL ERROR: ${zs(...e)}`;throw Li.error(t),new Error(t)},Ve=function(...e){let t="FIREBASE WARNING: "+zs(...e);Li.warn(t)},K1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ve("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fu=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},X1=function(e){if(Ft()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zn="[MIN_NAME]",Dn="[MAX_NAME]",br=function(e,t){if(e===t)return 0;if(e===zn||t===Dn)return-1;if(t===zn||e===Dn)return 1;{let n=bE(e),r=bE(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},J1=function(e,t){return e===t?0:e<t?-1:1},ws=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+we(t))},nm=function(e){if(typeof e!="object"||e===null)return we(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=we(t[r]),n+=":",n+=nm(e[t[r]]);return n+="}",n},rD=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Ne(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var iD=function(e){w(!fu(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},ek=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},tk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function nk(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var rk=new RegExp("^-?(0*)\\d{1,10}$"),ik=-2147483648,ok=2147483647,bE=function(e){if(rk.test(e)){let t=Number(e);if(t>=ik&&t<=ok)return t}return null},Gi=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw Ve("Exception was thrown by user callback.",n),t},Math.floor(0))}},sk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Is=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var eg=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,iv(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ve(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var tg=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ae("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ve(t)}},Ss=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Bc="5",oD="v",sD="s",aD="r",lD="f",cD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uD="ls",dD="p",ng="ac",fD="websocket",hD="long_polling";var Uc=class{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&wr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function ak(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function pD(e,t,n){w(typeof t=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let r;if(t===fD)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===hD)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);ak(e)&&(n.ns=e.namespace);let i=[];return Ne(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var rg=class{constructor(){this.counters_={}}incrementCounter(t,n=1){ut(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Wm(this.counters_)}};var Hp={},zp={};function rm(e){let t=e.toString();return Hp[t]||(Hp[t]=new rg),Hp[t]}function lk(e,t){let n=e.toString();return zp[n]||(zp[n]=t()),zp[n]}var ig=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Gi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var IE="start",ck="close",uk="pLPCommand",dk="pRTLPCB",gD="id",mD="pw",vD="ser",fk="cb",hk="seg",pk="ts",gk="d",mk="dframe",yD=1870,_D=30,vk=yD-_D,yk=25e3,_k=3e4,As=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ws(t),this.stats_=rm(n),this.urlFn=l=>(this.appCheckToken&&(l[ng]=this.appCheckToken),pD(n,hD,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ig(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_k)),X1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new og((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===IE)this.id=a,this.password=l;else if(s===ck)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[IE]="t",r[vD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[fk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[oD]=Bc,this.transportSessionId&&(r[sD]=this.transportSessionId),this.lastSessionId&&(r[uD]=this.lastSessionId),this.applicationId&&(r[dD]=this.applicationId),this.appCheckToken&&(r[ng]=this.appCheckToken),typeof location<"u"&&location.hostname&&cD.test(location.hostname)&&(r[aD]=lD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ft()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ek()&&!tk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=we(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=zm(n),i=rD(r,vk);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Ft())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[mk]="t",r[gD]=t,r[mD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=we(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},og=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ft())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=eD(),window[uk+this.uniqueCallbackIdentifier]=t,window[dk+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ae("frame writing exception"),a.stack&&Ae(a.stack),Ae(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ae("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[gD]=this.myID,t[mD]=this.myPW,t[vD]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_D+r.length<=yD;){let s=this.pendingSegs.shift();r=r+"&"+hk+i+"="+s.seg+"&"+pk+i+"="+s.ts+"&"+gk+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(yk)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Ft()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ae("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var Ck=16384,wk=45e3,$c=null;typeof MozWebSocket<"u"?$c=MozWebSocket:typeof WebSocket<"u"&&($c=WebSocket);var Pi=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ws(this.connId),this.stats_=rm(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[oD]=Bc,!Ft()&&typeof location<"u"&&location.hostname&&cD.test(location.hostname)&&(a[aD]=lD),r&&(a[sD]=r),i&&(a[uD]=i),o&&(a[ng]=o),s&&(a[dD]=s),pD(n,fD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wr.set("previous_websocket_failure",!0);try{let i;if(Ft()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Bc}/${em}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new $c(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&$c!==null&&!e.forceDisallow_}static previouslyFailed(){return wr.isInMemoryStorage||wr.get("previous_websocket_failure")===!0}markConnectionHealthy(){wr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=oa(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(w(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=we(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=rD(r,Ck);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(wk))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),CD=(()=>{class e{static get ALL_TRANSPORTS(){return[As,Pi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Pi&&Pi.isAvailable(),i=r&&!Pi.previouslyFailed();if(n.webSocketOnly&&(r||Ve("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Pi];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),Ek=6e4,Dk=5e3,bk=10*1024,Ik=100*1024,Wp="t",SE="d",Sk="s",ME="r",Mk="e",TE="o",xE="a",AE="n",NE="p",Tk="h",sg=class{constructor(t,n,r,i,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ws("c:"+this.id+":"),this.transportManager_=new CD(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Is(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Ik?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Wp in t){let n=t[Wp];n===xE?this.upgradeIfSecondaryHealthy_():n===ME?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===TE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=ws("t",t),r=ws("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:NE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:xE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:AE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=ws("t",t),r=ws("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=ws(Wp,t);if(SE in t){let r=t[SE];if(n===Tk){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===AE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Sk?this.onConnectionShutdown_(r):n===ME?this.onReset_(r):n===Mk?Jp("Server Error: "+r):n===TE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jp("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Bc!==r&&Ve("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Is(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Ek))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Is(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Dk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:NE,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Hc=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var zc=class{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Wc=class e extends zc{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Vu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return w(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var RE=32,OE=768,te=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function ee(){return new te("")}function G(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Wn(e){return e.pieces_.length-e.pieceNum_}function ae(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new te(e.pieces_,t)}function im(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function xk(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Ns(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function wD(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new te(t,0)}function fe(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof te)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new te(n,0)}function q(e){return e.pieceNum_>=e.pieces_.length}function ze(e,t){let n=G(e),r=G(t);if(n===null)return t;if(n===r)return ze(ae(e),ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ak(e,t){let n=Ns(e,0),r=Ns(t,0);for(let i=0;i<n.length&&i<r.length;i++){let o=br(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function om(e,t){if(Wn(e)!==Wn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function _t(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Wn(e)>Wn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ag=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Ns(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ro(this.parts_[r]);ED(this)}};function Nk(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ro(t),ED(e)}function Rk(e){let t=e.parts_.pop();e.byteLength_-=ro(t),e.parts_.length>0&&(e.byteLength_-=1)}function ED(e){if(e.byteLength_>OE)throw new Error(e.errorPrefix_+"has a key path longer than "+OE+" bytes ("+e.byteLength_+").");if(e.parts_.length>RE)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+RE+") or object contains a cycle "+Cr(e))}function Cr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var lg=class e extends zc{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return w(t==="visible","Unknown event type: "+t),[this.visible_]}};var Es=1e3,Ok=60*5*1e3,kE=30*1e3,kk=1.3,Pk=3e4,Fk="server_kill",PE=3,sm=(()=>{class e extends Hc{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=Ws("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Es,this.maxReconnectDelay_=Ok,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ft())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Wc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(we(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Te,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&ut(n,"w")){let i=In(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ve(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Xm(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=kE)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Km(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+we(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Jp("Unrecognized action received from server: "+we(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Es,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Es,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Pk&&(this.reconnectDelay_=Es),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kk)}this.onConnectStatus_(!1)}establishConnection_(){return ge(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){w(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ae("getToken() completed but was canceled"):(Ae("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new sg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Ve(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Fk)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ve(f),c())}}})}interrupt(n){Ae("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ae("Resuming connection for reason: "+n),delete this.interruptReasons_[n],sa(this.interruptReasons_)&&(this.reconnectDelay_=Es,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>nm(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new te(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ae("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=PE&&(this.reconnectDelay_=kE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ae("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=PE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Ft()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+em.replace(/\./g,"-")]=1,Vu()?n["framework.cordova"]=1:Qm()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Wc.getInstance().currentlyOnline();return sa(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),Y=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Vi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new Y(zn,t),i=new Y(zn,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}};var jc,Gc=class extends Vi{static get __EMPTY_NODE(){return jc}static set __EMPTY_NODE(t){jc=t}compare(t,n){return br(t.name,n.name)}isDefinedOn(t){throw Nr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(Dn,jc)}makePost(t,n){return w(typeof t=="string","KeyIndex indexValue must always be a string."),new Y(t,jc)}toString(){return".key"}},Kt=new Gc;var Fi=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},kt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Ct.EMPTY_NODE,this.right=s??Ct.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ct.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),cg=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new kt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ct=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Fi(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Fi(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Fi(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Fi(this.root_,null,this.comparator_,!0,t)}};Ct.EMPTY_NODE=new cg;function Lk(e,t){return br(e.name,t.name)}function am(e,t){return br(e,t)}var ug;function Vk(e){ug=e}var DD=function(e){return typeof e=="number"?"number:"+iD(e):"string:"+e},bD=function(e){if(e.isLeafNode()){let t=e.val();w(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ut(t,".sv"),"Priority must be a string or number.")}else w(e===ug||e.isEmpty(),"priority of unexpected type.");w(e===ug||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var FE,ji=(()=>{class e{static set __childrenNodeConstructor(n){FE=n}static get __childrenNodeConstructor(){return FE}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return q(n)?this:G(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=G(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(w(i!==".priority"||Wn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ae(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+DD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=iD(this.value_):n+=this.value_,this.lazyHash_=tD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(w(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return w(o>=0,"Unknown leaf type: "+r),w(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),ID,SD;function jk(e){ID=e}function Bk(e){SD=e}var dg=class extends Vi{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?br(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(Dn,new ji("[PRIORITY-POST]",SD))}makePost(t,n){let r=ID(t);return new Y(n,new ji("[PRIORITY-POST]",r))}toString(){return".priority"}},ce=new dg;var Uk=Math.log(2),fg=class{constructor(t){let n=o=>parseInt(Math.log(o)/Uk,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},qc=function(e,t,n,r){e.sort(t);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=e[l],f=n?n(d):d,new kt(f,d.node,kt.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=i(l,h),g=i(h+1,c);return d=e[h],f=n?n(d):d,new kt(f,d.node,kt.BLACK,p,g)}},o=function(l){let c=null,u=null,d=e.length,f=function(p,g){let y=d-p,b=d;d-=p;let H=i(y+1,b),_=e[y],M=n?n(_):_;h(new kt(M,_.node,g,null,H))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?f(y,kt.BLACK):(f(y,kt.BLACK),f(y,kt.RED))}return u},s=new fg(e.length),a=o(s);return new Ct(r||t,a)};var Gp,ki={},Bi=class e{static get Default(){return w(ki&&ce,"ChildrenNode.ts has not been loaded"),Gp=Gp||new e({".priority":ki},{".priority":ce}),Gp}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=In(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ct?n:null}hasIndex(t){return ut(this.indexSet_,t.toString())}addIndex(t,n){w(t!==Kt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Y.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=qc(r,t.getCompare()):a=ki;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let r=no(this.indexes_,(i,o)=>{let s=In(this.indexSet_,o);if(w(s,"Missing index implementation for "+o),i===ki)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(Y.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),qc(a,s.getCompare())}else return ki;else{let a=n.get(t.name),l=i;return a&&(l=l.remove(new Y(t.name,a))),l.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=no(this.indexes_,i=>{if(i===ki)return i;{let o=n.get(t.name);return o?i.remove(new Y(t.name,o)):i}});return new e(r,this.indexSet_)}};var Ds,j=(()=>{class e{static get EMPTY_NODE(){return Ds||(Ds=new e(new Ct(am),null,Bi.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&bD(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ds}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ds:r}}getChild(n){let r=G(n);return r===null?this:this.getImmediateChild(r).getChild(ae(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(w(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Y(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ds:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=G(n);if(i===null)return r;{w(G(n)!==".priority"||Wn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ae(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ce,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+DD(this.getPriority().val())+":"),this.forEachChild(ce,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":tD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Y(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Y(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Y(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Gs?-1:0}withIndex(n){if(n===Kt||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Kt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ce),o=r.getIterator(ce),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Kt?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),hg=class extends j{constructor(){super(new Ct(am),j.EMPTY_NODE,Bi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return j.EMPTY_NODE}isEmpty(){return!1}},Gs=new hg;Object.defineProperties(Y,{MIN:{value:new Y(zn,j.EMPTY_NODE)},MAX:{value:new Y(Dn,Gs)}});Gc.__EMPTY_NODE=j.EMPTY_NODE;ji.__childrenNodeConstructor=j;Vk(Gs);Bk(Gs);var $k=!0;function pe(e,t=null){if(e===null)return j.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),w(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new ji(n,pe(t))}if(!(e instanceof Array)&&$k){let n=[],r=!1;if(Ne(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=pe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(s,l)))}}),n.length===0)return j.EMPTY_NODE;let o=qc(n,Lk,s=>s.name,am);if(r){let s=qc(n,ce.getCompare());return new j(o,pe(t),new Bi({".priority":s},{".priority":ce}))}else return new j(o,pe(t),Bi.Default)}else{let n=j.EMPTY_NODE;return Ne(e,(r,i)=>{if(ut(e,r)&&r.substring(0,1)!=="."){let o=pe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(pe(t))}}jk(pe);var Rs=class extends Vi{constructor(t){super(),this.indexPath_=t,w(!q(t)&&G(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?br(t.name,n.name):o}makePost(t,n){let r=pe(t),i=j.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){let t=j.EMPTY_NODE.updateChild(this.indexPath_,Gs);return new Y(Dn,t)}toString(){return Ns(this.indexPath_,0).join("/")}};var pg=class extends Vi{compare(t,n){let r=t.node.compareTo(n.node);return r===0?br(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(t,n){let r=pe(t);return new Y(n,r)}toString(){return".value"}},lm=new pg;function MD(e){return{type:"value",snapshotNode:e}}function Ui(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Os(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ks(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Hk(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Ps=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){w(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Os(n,a)):w(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ui(n,r)):s.trackChildChange(ks(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ce,(i,o)=>{n.hasChild(i)||r.trackChildChange(Os(i,o))}),n.isLeafNode()||n.forEachChild(ce,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(ks(i,o,s))}else r.trackChildChange(Ui(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?j.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Qc=class e{constructor(t){this.indexedFilter_=new Ps(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new Y(n,r))||(r=j.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=j.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(j.EMPTY_NODE);let o=this;return n.forEachChild(ce,(s,a)=>{o.matches(new Y(s,a))||(i=i.updateImmediateChild(s,j.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var gg=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Qc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new Y(n,r))||(r=j.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=j.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=j.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(j.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,j.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;w(a.numChildren()===this.limit_,"");let l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(ks(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Os(n,d));let g=a.updateImmediateChild(n,j.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Ui(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Os(c.name,c.node)),o.trackChildChange(Ui(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,j.EMPTY_NODE)):t}};var Fs=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ce}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zn}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Dn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ce}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function zk(e){return e.loadsAllData()?new Ps(e.getIndex()):e.hasLimit()?new gg(e):new Qc(e)}function Wk(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function Gk(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function mg(e,t,n){let r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function qk(e,t,n){let r;return e.index_===Kt||n?r=mg(e,t,n):r=mg(e,t,Dn),r.startAfterSet_=!0,r}function vg(e,t,n){let r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Qk(e,t,n){let r;return e.index_===Kt||n?r=vg(e,t,n):r=vg(e,t,zn),r.endBeforeSet_=!0,r}function hu(e,t){let n=e.copy();return n.index_=t,n}function LE(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ce?n="$priority":e.index_===lm?n="$value":e.index_===Kt?n="$key":(w(e.index_ instanceof Rs,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=we(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=we(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+we(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=we(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+we(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function VE(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ce&&(t.i=e.index_.toString()),t}var yg=class e extends Hc{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ws("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let l=LE(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),In(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=LE(t._queryParams),r=t._path.toString(),i=new Te;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ev(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=oa(a.responseText)}catch{Ve("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ve("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var _g=class{constructor(){this.rootNode_=j.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Yc(){return{value:null,children:new Map}}function qi(e,t,n){if(q(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=G(t);e.children.has(r)||e.children.set(r,Yc());let i=e.children.get(r);t=ae(t),qi(i,t,n)}}function Cg(e,t){if(q(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(ce,(r,i)=>{qi(e,new te(r),i)}),Cg(e,t)}}else if(e.children.size>0){let n=G(t);return t=ae(t),e.children.has(n)&&Cg(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function wg(e,t,n){e.value!==null?n(t,e.value):Yk(e,(r,i)=>{let o=new te(t.toString()+"/"+r);wg(i,o,n)})}function Yk(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Eg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Ne(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var jE=10*1e3,Zk=30*1e3,Kk=5*60*1e3,Dg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Eg(t);let r=jE+(Zk-jE)*Math.random();Is(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;Ne(t,(i,o)=>{o>0&&ut(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Is(this.reportStats_.bind(this),Math.floor(Math.random()*2*Kk))}};var Zt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Zt||{});function cm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function um(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function dm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var bg=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Zt.ACK_USER_WRITE,this.source=cm()}operationForChild(t){if(q(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new te(t));return new e(ee(),n,this.revert)}}else return w(G(this.path)===t,"operationForChild called for unrelated child."),new e(ae(this.path),this.affectedTree,this.revert)}};var Zc=class e{constructor(t,n){this.source=t,this.path=n,this.type=Zt.LISTEN_COMPLETE}operationForChild(t){return q(this.path)?new e(this.source,ee()):new e(this.source,ae(this.path))}};var $i=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Zt.OVERWRITE}operationForChild(t){return q(this.path)?new e(this.source,ee(),this.snap.getImmediateChild(t)):new e(this.source,ae(this.path),this.snap)}};var Ls=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Zt.MERGE}operationForChild(t){if(q(this.path)){let n=this.children.subtree(new te(t));return n.isEmpty()?null:n.value?new $i(this.source,ee(),n.value):new e(this.source,ee(),n)}else return w(G(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ae(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Jt=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(q(t))return this.isFullyInitialized()&&!this.filtered_;let n=G(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Ig=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function Xk(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Hk(s.childName,s.snapshotNode))}),bs(e,i,"child_removed",t,r,n),bs(e,i,"child_added",t,r,n),bs(e,i,"child_moved",o,r,n),bs(e,i,"child_changed",t,r,n),bs(e,i,"value",t,r,n),i}function bs(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>eP(e,a,l)),s.forEach(a=>{let l=Jk(e,a,o);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function Jk(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function eP(e,t,n){if(t.childName==null||n.childName==null)throw Nr("Should only compare child_ events.");let r=new Y(t.childName,t.snapshotNode),i=new Y(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function pu(e,t){return{eventCache:e,serverCache:t}}function Ms(e,t,n,r){return pu(new Jt(t,n,r),e.serverCache)}function TD(e,t,n,r){return pu(e.eventCache,new Jt(t,n,r))}function Kc(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Dr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var qp,tP=()=>(qp||(qp=new Ct(J1)),qp),We=class e{static fromObject(t){let n=new e(null);return Ne(t,(r,i)=>{n=n.set(new te(r),i)}),n}constructor(t,n=tP()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:ee(),value:this.value};if(q(t))return null;{let r=G(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ae(t),n);return o!=null?{path:fe(new te(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(q(t))return this;{let n=G(t),r=this.children.get(n);return r!==null?r.subtree(ae(t)):new e(null)}}set(t,n){if(q(t))return new e(n,this.children);{let r=G(t),o=(this.children.get(r)||new e(null)).set(ae(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(q(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=G(t),r=this.children.get(n);if(r){let i=r.remove(ae(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(q(t))return this.value;{let n=G(t),r=this.children.get(n);return r?r.get(ae(t)):null}}setTree(t,n){if(q(t))return n;{let r=G(t),o=(this.children.get(r)||new e(null)).setTree(ae(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(ee(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(fe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ee(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(q(t))return null;{let o=G(t),s=this.children.get(o);return s?s.findOnPath_(ae(t),fe(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ee(),n)}foreachOnPath_(t,n,r){if(q(t))return this;{this.value&&r(n,this.value);let i=G(t),o=this.children.get(i);return o?o.foreachOnPath_(ae(t),fe(n,i),r):new e(null)}}foreach(t){this.foreach_(ee(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(fe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Pt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new We(null))}};function Ts(e,t,n){if(q(t))return new Pt(new We(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=ze(i,t);return o=o.updateChild(s,n),new Pt(e.writeTree_.set(i,o))}else{let i=new We(n),o=e.writeTree_.setTree(t,i);return new Pt(o)}}}function Sg(e,t,n){let r=e;return Ne(n,(i,o)=>{r=Ts(r,fe(t,i),o)}),r}function BE(e,t){if(q(t))return Pt.empty();{let n=e.writeTree_.setTree(t,new We(null));return new Pt(n)}}function Mg(e,t){return Ir(e,t)!=null}function Ir(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ze(n.path,t)):null}function UE(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ce,(r,i)=>{t.push(new Y(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Y(r,i.value))}),t}function $n(e,t){if(q(t))return e;{let n=Ir(e,t);return n!=null?new Pt(new We(n)):new Pt(e.writeTree_.subtree(t))}}function Tg(e){return e.writeTree_.isEmpty()}function Hi(e,t){return xD(ee(),e.writeTree_,t)}function xD(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(w(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=xD(fe(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(fe(e,".priority"),r)),n}}function gu(e,t){return OD(t,e)}function nP(e,t,n,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ts(e.visibleWrites,t,n)),e.lastWriteId=r}function rP(e,t,n,r){w(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Sg(e.visibleWrites,t,n),e.lastWriteId=r}function iP(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function oP(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&sP(a,r.path)?i=!1:_t(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return aP(e),!0;if(r.snap)e.visibleWrites=BE(e.visibleWrites,r.path);else{let a=r.children;Ne(a,l=>{e.visibleWrites=BE(e.visibleWrites,fe(r.path,l))})}return!0}else return!1}function sP(e,t){if(e.snap)return _t(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&_t(fe(e.path,n),t))return!0;return!1}function aP(e){e.visibleWrites=AD(e.allWrites,lP,ee()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function lP(e){return e.visible}function AD(e,t,n){let r=Pt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)_t(n,s)?(a=ze(n,s),r=Ts(r,a,o.snap)):_t(s,n)&&(a=ze(s,n),r=Ts(r,ee(),o.snap.getChild(a)));else if(o.children){if(_t(n,s))a=ze(n,s),r=Sg(r,a,o.children);else if(_t(s,n))if(a=ze(s,n),q(a))r=Sg(r,ee(),o.children);else{let l=In(o.children,G(a));if(l){let c=l.getChild(ae(a));r=Ts(r,ee(),c)}}}else throw Nr("WriteRecord should have .snap or .children")}}return r}function ND(e,t,n,r,i){if(!r&&!i){let o=Ir(e.visibleWrites,t);if(o!=null)return o;{let s=$n(e.visibleWrites,t);if(Tg(s))return n;if(n==null&&!Mg(s,ee()))return null;{let a=n||j.EMPTY_NODE;return Hi(s,a)}}}else{let o=$n(e.visibleWrites,t);if(!i&&Tg(o))return n;if(!i&&n==null&&!Mg(o,ee()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(_t(c.path,t)||_t(t,c.path))},a=AD(e.allWrites,s,t),l=n||j.EMPTY_NODE;return Hi(a,l)}}}function cP(e,t,n){let r=j.EMPTY_NODE,i=Ir(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ce,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=$n(e.visibleWrites,t);return n.forEachChild(ce,(s,a)=>{let l=Hi($n(o,new te(s)),a);r=r.updateImmediateChild(s,l)}),UE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=$n(e.visibleWrites,t);return UE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function uP(e,t,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=fe(t,n);if(Mg(e.visibleWrites,o))return null;{let s=$n(e.visibleWrites,o);return Tg(s)?i.getChild(n):Hi(s,i.getChild(n))}}function dP(e,t,n,r){let i=fe(t,n),o=Ir(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=$n(e.visibleWrites,i);return Hi(s,r.getNode().getImmediateChild(n))}else return null}function fP(e,t){return Ir(e.visibleWrites,t)}function hP(e,t,n,r,i,o,s){let a,l=$n(e.visibleWrites,t),c=Ir(l,ee());if(c!=null)a=c;else if(n!=null)a=Hi(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function pP(){return{visibleWrites:Pt.empty(),allWrites:[],lastWriteId:-1}}function Xc(e,t,n,r){return ND(e.writeTree,e.treePath,t,n,r)}function fm(e,t){return cP(e.writeTree,e.treePath,t)}function $E(e,t,n,r){return uP(e.writeTree,e.treePath,t,n,r)}function Jc(e,t){return fP(e.writeTree,fe(e.treePath,t))}function gP(e,t,n,r,i,o){return hP(e.writeTree,e.treePath,t,n,r,i,o)}function hm(e,t,n){return dP(e.writeTree,e.treePath,t,n)}function RD(e,t){return OD(fe(e.treePath,t),e.writeTree)}function OD(e,t){return{treePath:e,writeTree:t}}var xg=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ks(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Os(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Ui(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ks(r,t.snapshotNode,i.oldSnap));else throw Nr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Ag=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},kD=new Ag,Vs=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new Jt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hm(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Dr(this.viewCache_),o=gP(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function mP(e){return{filter:e}}function vP(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function yP(e,t,n,r,i){let o=new xg,s,a;if(n.type===Zt.OVERWRITE){let c=n;c.source.fromUser?s=Ng(e,t,c.path,c.snap,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!q(c.path),s=eu(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===Zt.MERGE){let c=n;c.source.fromUser?s=CP(e,t,c.path,c.children,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Rg(e,t,c.path,c.children,r,i,a,o))}else if(n.type===Zt.ACK_USER_WRITE){let c=n;c.revert?s=DP(e,t,c.path,r,i,o):s=wP(e,t,c.path,c.affectedTree,r,i,o)}else if(n.type===Zt.LISTEN_COMPLETE)s=EP(e,t,n.path,r,o);else throw Nr("Unknown operation type: "+n.type);let l=o.getChanges();return _P(t,s,l),{viewCache:s,changes:l}}function _P(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Kc(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(MD(Kc(t)))}}function PD(e,t,n,r,i,o){let s=t.eventCache;if(Jc(r,n)!=null)return t;{let a,l;if(q(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=Dr(t),u=c instanceof j?c:j.EMPTY_NODE,d=fm(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=Xc(r,Dr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=G(n);if(c===".priority"){w(Wn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=$E(r,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ae(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let f=$E(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=hm(r,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return Ms(t,a,s.isFullyInitialized()||q(n),e.filter.filtersNodes())}}function eu(e,t,n,r,i,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(q(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=G(n);if(!l.isCompleteForPath(n)&&Wn(n)>1)return t;let p=ae(n),y=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,p,kD,null)}let d=TD(t,c,l.isFullyInitialized()||q(n),u.filtersNodes()),f=new Vs(i,d,o);return PD(e,d,n,i,f,a)}function Ng(e,t,n,r,i,o,s){let a=t.eventCache,l,c,u=new Vs(i,t,o);if(q(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Ms(t,c,!0,e.filter.filtersNodes());else{let d=G(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ms(t,c,a.isFullyInitialized(),a.isFiltered());else{let f=ae(n),h=a.getNode().getImmediateChild(d),p;if(q(f))p=r;else{let g=u.getCompleteChild(d);g!=null?im(f)===".priority"&&g.getChild(wD(f)).isEmpty()?p=g:p=g.updateChild(f,r):p=j.EMPTY_NODE}if(h.equals(p))l=t;else{let g=e.filter.updateChild(a.getNode(),d,p,f,u,s);l=Ms(t,g,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function HE(e,t){return e.eventCache.isCompleteForChild(t)}function CP(e,t,n,r,i,o,s){let a=t;return r.foreach((l,c)=>{let u=fe(n,l);HE(t,G(u))&&(a=Ng(e,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=fe(n,l);HE(t,G(u))||(a=Ng(e,a,u,c,i,o,s))}),a}function zE(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Rg(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;q(n)?c=r:c=new We(null).setTree(n,r);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=zE(e,h,f);l=eu(e,l,new te(d),p,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),g=zE(e,p,f);l=eu(e,l,new te(d),g,i,o,s,a)}}),l}function wP(e,t,n,r,i,o,s){if(Jc(i,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(q(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return eu(e,t,n,l.getNode().getChild(n),i,o,a,s);if(q(n)){let c=new We(null);return l.getNode().forEachChild(Kt,(u,d)=>{c=c.set(new te(u),d)}),Rg(e,t,n,c,i,o,a,s)}else return t}else{let c=new We(null);return r.foreach((u,d)=>{let f=fe(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Rg(e,t,n,c,i,o,a,s)}}function EP(e,t,n,r,i){let o=t.serverCache,s=TD(t,o.getNode(),o.isFullyInitialized()||q(n),o.isFiltered());return PD(e,s,n,r,kD,i)}function DP(e,t,n,r,i,o){let s;if(Jc(r,n)!=null)return t;{let a=new Vs(r,t,i),l=t.eventCache.getNode(),c;if(q(n)||G(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Xc(r,Dr(t));else{let d=t.serverCache.getNode();w(d instanceof j,"serverChildren would be complete if leaf node"),u=fm(r,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=G(n),d=hm(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,ae(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,j.EMPTY_NODE,ae(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Xc(r,Dr(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||Jc(r,ee())!=null,Ms(t,c,s,e.filter.filtersNodes())}}var Og=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Ps(r.getIndex()),o=zk(r);this.processor_=mP(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(j.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(j.EMPTY_NODE,a.getNode(),null),u=new Jt(l,s.isFullyInitialized(),i.filtersNodes()),d=new Jt(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=pu(d,u),this.eventGenerator_=new Ig(this.query_)}get query(){return this.query_}};function bP(e){return e.viewCache_.serverCache.getNode()}function IP(e){return Kc(e.viewCache_)}function SP(e,t){let n=Dr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!q(t)&&!n.getImmediateChild(G(t)).isEmpty())?n.getChild(t):null}function WE(e){return e.eventRegistrations_.length===0}function MP(e,t){e.eventRegistrations_.push(t)}function GE(e,t,n){let r=[];if(n){w(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function qE(e,t,n,r){t.type===Zt.MERGE&&t.source.queryId!==null&&(w(Dr(e.viewCache_),"We should always have a full cache before handling merges"),w(Kc(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=yP(e.processor_,i,t,n,r);return vP(e.processor_,o.viewCache),w(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,FD(e,o.changes,o.viewCache.eventCache.getNode(),null)}function TP(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ce,(o,s)=>{r.push(Ui(o,s))}),n.isFullyInitialized()&&r.push(MD(n.getNode())),FD(e,r,n.getNode(),t)}function FD(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return Xk(e.eventGenerator_,t,n,i)}var tu,nu=class{constructor(){this.views=new Map}};function xP(e){w(!tu,"__referenceConstructor has already been defined"),tu=e}function AP(){return w(tu,"Reference.ts has not been loaded"),tu}function NP(e){return e.views.size===0}function pm(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return w(o!=null,"SyncTree gave us an op for an invalid query."),qE(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(qE(s,t,n,r));return o}}function LD(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=Xc(n,i?r:null),l=!1;a?l=!0:r instanceof j?(a=fm(n,r),l=!1):(a=j.EMPTY_NODE,l=!1);let c=pu(new Jt(a,l,!1),new Jt(r,i,!1));return new Og(t,c)}return s}function RP(e,t,n,r,i,o){let s=LD(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),MP(s,n),TP(s,n)}function OP(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Gn(e);if(i==="default")for(let[l,c]of e.views.entries())s=s.concat(GE(c,n,r)),WE(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(i);l&&(s=s.concat(GE(l,n,r)),WE(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Gn(e)&&o.push(new(AP())(t._repo,t._path)),{removed:o,events:s}}function VD(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Hn(e,t){let n=null;for(let r of e.views.values())n=n||SP(r,t);return n}function jD(e,t){if(t._queryParams.loadsAllData())return mu(e);{let r=t._queryIdentifier;return e.views.get(r)}}function BD(e,t){return jD(e,t)!=null}function Gn(e){return mu(e)!=null}function mu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var ru;function kP(e){w(!ru,"__referenceConstructor has already been defined"),ru=e}function PP(){return w(ru,"Reference.ts has not been loaded"),ru}var FP=1,iu=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new We(null),this.pendingWriteTree_=pP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function gm(e,t,n,r,i){return nP(e.pendingWriteTree_,t,n,r,i),i?Qi(e,new $i(cm(),t,n)):[]}function LP(e,t,n,r){rP(e.pendingWriteTree_,t,n,r);let i=We.fromObject(n);return Qi(e,new Ls(cm(),t,i))}function Un(e,t,n=!1){let r=iP(e.pendingWriteTree_,t);if(oP(e.pendingWriteTree_,t)){let o=new We(null);return r.snap!=null?o=o.set(ee(),!0):Ne(r.children,s=>{o=o.set(new te(s),!0)}),Qi(e,new bg(r.path,o,n))}else return[]}function qs(e,t,n){return Qi(e,new $i(um(),t,n))}function VP(e,t,n){let r=We.fromObject(n);return Qi(e,new Ls(um(),t,r))}function jP(e,t){return Qi(e,new Zc(um(),t))}function BP(e,t,n){let r=mm(e,n);if(r){let i=vm(r),o=i.path,s=i.queryId,a=ze(o,t),l=new Zc(dm(s),a);return ym(e,o,l)}else return[]}function ou(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||BD(s,t))){let l=OP(s,t,n,r);NP(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Gn(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=HP(f);for(let p=0;p<h.length;++p){let g=h[p],y=g.query,b=zD(e,g);e.listenProvider_.startListening(xs(y),js(e,y),b.hashFn,b.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(xs(t),null):c.forEach(f=>{let h=e.queryToTagMap.get(yu(f));e.listenProvider_.stopListening(xs(f),h)}))}zP(e,c)}return a}function UD(e,t,n,r){let i=mm(e,r);if(i!=null){let o=vm(i),s=o.path,a=o.queryId,l=ze(s,t),c=new $i(dm(a),l,n);return ym(e,s,c)}else return[]}function UP(e,t,n,r){let i=mm(e,r);if(i){let o=vm(i),s=o.path,a=o.queryId,l=ze(s,t),c=We.fromObject(n),u=new Ls(dm(a),l,c);return ym(e,s,u)}else return[]}function kg(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=ze(f,i);o=o||Hn(h,p),s=s||Gn(h)});let a=e.syncPointTree_.get(i);a?(s=s||Gn(a),o=o||Hn(a,ee())):(a=new nu,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=j.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let g=Hn(p,ee());g&&(o=o.updateImmediateChild(h,g))}));let c=BD(a,t);if(!c&&!t._queryParams.loadsAllData()){let f=yu(t);w(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=WP();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=gu(e.pendingWriteTree_,i),d=RP(a,t,n,u,o,l);if(!c&&!s&&!r){let f=jD(a,t);d=d.concat(GP(e,t,f))}return d}function vu(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=ze(s,t),c=Hn(a,l);if(c)return c});return ND(i,t,o,n,!0)}function $P(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=ze(c,n);r=r||Hn(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Hn(i,ee()):(i=new nu,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new Jt(r,!0,!1):null,a=gu(e.pendingWriteTree_,t._path),l=LD(i,t,a,o?s.getNode():j.EMPTY_NODE,o);return IP(l)}function Qi(e,t){return $D(t,e.syncPointTree_,null,gu(e.pendingWriteTree_,ee()))}function $D(e,t,n,r){if(q(e.path))return HD(e,t,n,r);{let i=t.get(ee());n==null&&i!=null&&(n=Hn(i,ee()));let o=[],s=G(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=RD(r,s);o=o.concat($D(a,l,c,u))}return i&&(o=o.concat(pm(i,e,r,n))),o}}function HD(e,t,n,r){let i=t.get(ee());n==null&&i!=null&&(n=Hn(i,ee()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=RD(r,s),u=e.operationForChild(s);u&&(o=o.concat(HD(u,a,l,c)))}),i&&(o=o.concat(pm(i,e,r,n))),o}function zD(e,t){let n=t.query,r=js(e,n);return{hashFn:()=>(bP(t)||j.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?BP(e,n._path,r):jP(e,n._path);{let o=nk(i,n);return ou(e,n,null,o)}}}}function js(e,t){let n=yu(t);return e.queryToTagMap.get(n)}function yu(e){return e._path.toString()+"$"+e._queryIdentifier}function mm(e,t){return e.tagToQueryMap.get(t)}function vm(e){let t=e.indexOf("$");return w(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new te(e.substr(0,t))}}function ym(e,t,n){let r=e.syncPointTree_.get(t);w(r,"Missing sync point for query tag that we're tracking");let i=gu(e.pendingWriteTree_,t);return pm(r,n,i,null)}function HP(e){return e.fold((t,n,r)=>{if(n&&Gn(n))return[mu(n)];{let i=[];return n&&(i=VD(n)),Ne(r,(o,s)=>{i=i.concat(s)}),i}})}function xs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(PP())(e._repo,e._path):e}function zP(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=yu(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function WP(){return FP++}function GP(e,t,n){let r=t._path,i=js(e,t),o=zD(e,n),s=e.listenProvider_.startListening(xs(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)w(!Gn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!q(c)&&u&&Gn(u))return[mu(u).query];{let f=[];return u&&(f=f.concat(VD(u).map(h=>h.query))),Ne(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(xs(u),js(e,u))}}return s}var Pg=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},Fg=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=fe(this.path_,t);return new e(this.syncTree_,n)}node(){return vu(this.syncTree_,this.path_)}},qP=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},QE=function(e,t,n){if(!e||typeof e!="object")return e;if(w(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return QP(e[".sv"],t,n);if(typeof e[".sv"]=="object")return YP(e[".sv"],t);w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},QP=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+e)}},YP=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&w(!1,"Unexpected increment value: "+r);let i=t.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},WD=function(e,t,n,r){return Cm(t,new Fg(n,e),r)},_m=function(e,t,n){return Cm(e,new Pg(t),n)};function Cm(e,t,n){let r=e.getPriority().val(),i=QE(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=QE(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new ji(a,pe(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ji(i))),s.forEachChild(ce,(a,l)=>{let c=Cm(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Bs=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function _u(e,t){let n=t instanceof te?t:new te(t),r=e,i=G(n);for(;i!==null;){let o=In(r.node.children,i)||{children:{},childCount:0};r=new Bs(i,r,o),n=ae(n),i=G(n)}return r}function Sr(e){return e.node.value}function wm(e,t){e.node.value=t,Lg(e)}function GD(e){return e.node.childCount>0}function ZP(e){return Sr(e)===void 0&&!GD(e)}function Cu(e,t){Ne(e.node.children,(n,r)=>{t(new Bs(n,e,r))})}function qD(e,t,n,r){n&&!r&&t(e),Cu(e,i=>{qD(i,t,!0,r)}),n&&r&&t(e)}function KP(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Qs(e){return new te(e.parent===null?e.name:Qs(e.parent)+"/"+e.name)}function Lg(e){e.parent!==null&&XP(e.parent,e.name,e)}function XP(e,t,n){let r=ZP(n),i=ut(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Lg(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Lg(e))}var JP=/[\[\].#$\/\u0000-\u001F\u007F]/,eF=/[\[\].#$\u0000-\u001F\u007F]/,Qp=10*1024*1024,wu=function(e){return typeof e=="string"&&e.length!==0&&!JP.test(e)},QD=function(e){return typeof e=="string"&&e.length!==0&&!eF.test(e)},tF=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),QD(e)},Us=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!fu(e)||e&&typeof e=="object"&&ut(e,".sv")},en=function(e,t,n,r){r&&t===void 0||Ys(qe(e,"value"),t,n)},Ys=function(e,t,n){let r=n instanceof te?new ag(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Cr(r));if(typeof t=="function")throw new Error(e+"contains a function "+Cr(r)+" with contents = "+t.toString());if(fu(t))throw new Error(e+"contains "+t.toString()+" "+Cr(r));if(typeof t=="string"&&t.length>Qp/3&&ro(t)>Qp)throw new Error(e+"contains a string greater than "+Qp+" utf8 bytes "+Cr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Ne(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!wu(s)))throw new Error(e+" contains an invalid key ("+s+") "+Cr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Nk(r,s),Ys(e,a,r),Rk(r)}),i&&o)throw new Error(e+' contains ".value" child '+Cr(r)+" in addition to actual children.")}},nF=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];let o=Ns(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!wu(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(Ak);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&_t(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},YD=function(e,t,n,r){if(r&&t===void 0)return;let i=qe(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");let o=[];Ne(t,(s,a)=>{let l=new te(s);if(Ys(i,a,fe(n,l)),im(l)===".priority"&&!Us(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),nF(i,o)},Em=function(e,t,n){if(!(n&&t===void 0)){if(fu(t))throw new Error(qe(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Us(t))throw new Error(qe(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Zs=function(e,t,n,r){if(!(r&&n===void 0)&&!wu(n))throw new Error(qe(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Yi=function(e,t,n,r){if(!(r&&n===void 0)&&!QD(n))throw new Error(qe(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},rF=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Yi(e,t,n,r)},st=function(e,t){if(G(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},ZD=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!wu(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!tF(n))throw new Error(qe(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Vg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Eu(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!om(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function KD(e,t,n){Eu(e,n),XD(e,r=>om(r,t))}function at(e,t,n){Eu(e,n),XD(e,r=>_t(r,t)||_t(t,r))}function XD(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(iF(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function iF(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();Er&&Ae("event: "+n.toString()),Gi(r)}}}var JD="repo_interrupt",oF=25,jg=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Vg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yc(),this.transactionQueueTree_=new Bs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function sF(e,t,n){if(e.stats_=rm(e.repoInfo_),e.forceRestClient_||sk())e.server_=new yg(e.repoInfo_,(r,i,o,s)=>{YE(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>ZE(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{we(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new sm(e.repoInfo_,t,(r,i,o,s)=>{YE(e,r,i,o,s)},r=>{ZE(e,r)},r=>{aF(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=lk(e.repoInfo_,()=>new Dg(e.stats_,e.server_)),e.infoData_=new _g,e.infoSyncTree_=new iu({startListening:(r,i,o,s)=>{let a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=qs(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Dm(e,"connected",!1),e.serverSyncTree_=new iu({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);at(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function eb(e){let n=e.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ks(e){return qP({timestamp:eb(e)})}function YE(e,t,n,r,i){e.dataUpdateCount++;let o=new te(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let l=no(n,c=>pe(c));s=UP(e.serverSyncTree_,o,l,i)}else{let l=pe(n);s=UD(e.serverSyncTree_,o,l,i)}else if(r){let l=no(n,c=>pe(c));s=VP(e.serverSyncTree_,o,l)}else{let l=pe(n);s=qs(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=zi(e,o)),at(e.eventQueue_,a,s)}function ZE(e,t){Dm(e,"connected",t),t===!1&&uF(e)}function aF(e,t){Ne(t,(n,r)=>{Dm(e,n,r)})}function Dm(e,t,n){let r=new te("/.info/"+t),i=pe(n);e.infoData_.updateSnapshot(r,i);let o=qs(e.infoSyncTree_,r,i);at(e.eventQueue_,r,o)}function Du(e){return e.nextWriteId_++}function lF(e,t,n){let r=$P(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=pe(i).withIndex(t._queryParams.getIndex());kg(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=qs(e.serverSyncTree_,t._path,o);else{let a=js(e.serverSyncTree_,t);s=UD(e.serverSyncTree_,t._path,o,a)}return at(e.eventQueue_,t._path,s),ou(e.serverSyncTree_,t,n,null,!0),o},i=>(Zi(e,"get for query "+we(t)+" failed: "+i),Promise.reject(new Error(i))))}function bm(e,t,n,r,i){Zi(e,"set",{path:t.toString(),value:n,priority:r});let o=Ks(e),s=pe(n,r),a=vu(e.serverSyncTree_,t),l=_m(s,a,o),c=Du(e),u=gm(e.serverSyncTree_,t,l,c,!0);Eu(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||Ve("set at "+t+" failed: "+f);let g=Un(e.serverSyncTree_,c,!p);at(e.eventQueue_,t,g),qn(e,i,f,h)});let d=Sm(e,t);zi(e,d),at(e.eventQueue_,d,[])}function cF(e,t,n,r){Zi(e,"update",{path:t.toString(),value:n});let i=!0,o=Ks(e),s={};if(Ne(n,(a,l)=>{i=!1,s[a]=WD(fe(t,a),pe(l),e.serverSyncTree_,o)}),i)Ae("update() called with empty data.  Don't do anything."),qn(e,r,"ok",void 0);else{let a=Du(e),l=LP(e.serverSyncTree_,t,s,a);Eu(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||Ve("update at "+t+" failed: "+c);let f=Un(e.serverSyncTree_,a,!d),h=f.length>0?zi(e,t):t;at(e.eventQueue_,h,f),qn(e,r,c,u)}),Ne(n,c=>{let u=Sm(e,fe(t,c));zi(e,u)}),at(e.eventQueue_,t,[])}}function uF(e){Zi(e,"onDisconnectEvents");let t=Ks(e),n=Yc();wg(e.onDisconnect_,ee(),(i,o)=>{let s=WD(i,o,e.serverSyncTree_,t);qi(n,i,s)});let r=[];wg(n,ee(),(i,o)=>{r=r.concat(qs(e.serverSyncTree_,i,o));let s=Sm(e,i);zi(e,s)}),e.onDisconnect_=Yc(),at(e.eventQueue_,ee(),r)}function dF(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{r==="ok"&&Cg(e.onDisconnect_,t),qn(e,n,r,i)})}function KE(e,t,n,r){let i=pe(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(o,s)=>{o==="ok"&&qi(e.onDisconnect_,t,i),qn(e,r,o,s)})}function fF(e,t,n,r,i){let o=pe(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&qi(e.onDisconnect_,t,o),qn(e,i,s,a)})}function hF(e,t,n,r){if(sa(n)){Ae("onDisconnect().update() called with empty data.  Don't do anything."),qn(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{i==="ok"&&Ne(n,(s,a)=>{let l=pe(a);qi(e.onDisconnect_,fe(t,s),l)}),qn(e,r,i,o)})}function pF(e,t,n){let r;G(t._path)===".info"?r=kg(e.infoSyncTree_,t,n):r=kg(e.serverSyncTree_,t,n),KD(e.eventQueue_,t._path,r)}function Bg(e,t,n){let r;G(t._path)===".info"?r=ou(e.infoSyncTree_,t,n):r=ou(e.serverSyncTree_,t,n),KD(e.eventQueue_,t._path,r)}function tb(e){e.persistentConnection_&&e.persistentConnection_.interrupt(JD)}function gF(e){e.persistentConnection_&&e.persistentConnection_.resume(JD)}function Zi(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ae(n,...t)}function qn(e,t,n,r){t&&Gi(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function mF(e,t,n,r,i,o){Zi(e,"transaction on "+t);let s={path:t,update:n,onComplete:r,status:null,order:eD(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Im(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Ys("transaction failed: Data returned ",l,s.path),s.status=0;let c=_u(e.transactionQueueTree_,t),u=Sr(c)||[];u.push(s),wm(c,u);let d;typeof l=="object"&&l!==null&&ut(l,".priority")?(d=In(l,".priority"),w(Us(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(vu(e.serverSyncTree_,t)||j.EMPTY_NODE).getPriority().val();let f=Ks(e),h=pe(l,d),p=_m(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=Du(e);let g=gm(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);at(e.eventQueue_,t,g),bu(e,e.transactionQueueTree_)}}function Im(e,t,n){return vu(e.serverSyncTree_,t,n)||j.EMPTY_NODE}function bu(e,t=e.transactionQueueTree_){if(t||Iu(e,t),Sr(t)){let n=rb(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&vF(e,Qs(t),n)}else GD(t)&&Cu(t,n=>{bu(e,n)})}function vF(e,t,n){let r=n.map(c=>c.currentWriteId),i=Im(e,t,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];w(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=ze(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Zi(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Un(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Iu(e,_u(e.transactionQueueTree_,t)),bu(e,e.transactionQueueTree_),at(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Gi(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ve("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}zi(e,t)}},s)}function zi(e,t){let n=nb(e,t),r=Qs(n),i=rb(e,n);return yF(e,i,r),r}function yF(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=ze(n,l.path),u=!1,d;if(w(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(Un(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=oF)u=!0,d="maxretry",i=i.concat(Un(e.serverSyncTree_,l.currentWriteId,!0));else{let f=Im(e,l.path,s);l.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){Ys("transaction failed: Data returned ",h,l.path);let p=pe(h);typeof h=="object"&&h!=null&&ut(h,".priority")||(p=p.updatePriority(f.getPriority()));let y=l.currentWriteId,b=Ks(e),H=_m(p,f,b);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=H,l.currentWriteId=Du(e),s.splice(s.indexOf(y),1),i=i.concat(gm(e.serverSyncTree_,l.path,H,l.currentWriteId,l.applyLocally)),i=i.concat(Un(e.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(Un(e.serverSyncTree_,l.currentWriteId,!0))}at(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Iu(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Gi(r[a]);bu(e,e.transactionQueueTree_)}function nb(e,t){let n,r=e.transactionQueueTree_;for(n=G(t);n!==null&&Sr(r)===void 0;)r=_u(r,n),t=ae(t),n=G(t);return r}function rb(e,t){let n=[];return ib(e,t,n),n.sort((r,i)=>r.order-i.order),n}function ib(e,t,n){let r=Sr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Cu(t,i=>{ib(e,i,n)})}function Iu(e,t){let n=Sr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,wm(t,n.length>0?n:void 0)}Cu(t,r=>{Iu(e,r)})}function Sm(e,t){let n=Qs(nb(e,t)),r=_u(e.transactionQueueTree_,t);return KP(r,i=>{Yp(e,i)}),Yp(e,r),qD(r,i=>{Yp(e,i)}),n}function Yp(e,t){let n=Sr(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(w(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(w(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Un(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?wm(t,void 0):n.length=o+1,at(e.eventQueue_,Qs(t),i);for(let s=0;s<r.length;s++)Gi(r[s])}}function _F(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function CF(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ve(`Invalid query segment '${n}' in query '${e}'`)}return t}var Ug=function(e,t){let n=wF(e),r=n.namespace;n.domain==="firebase.com"&&Xt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Xt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||K1();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Uc(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new te(n.pathString)}},wF=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=_F(e.substring(u,d)));let f=CF(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var XE="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",EF=function(){let e=0,t=[];return function(n){let r=n===e;e=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=XE.charAt(n%64),n=Math.floor(n/64);w(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=XE.charAt(t[i]);return w(s.length===20,"nextPushId: Length should be 20."),s}}();var su=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+we(this.snapshot.exportVal())}},au=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var $s=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var lu=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Te;return dF(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){st("OnDisconnect.remove",this._path);let t=new Te;return KE(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){st("OnDisconnect.set",this._path),en("OnDisconnect.set",t,this._path,!1);let n=new Te;return KE(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){st("OnDisconnect.setWithPriority",this._path),en("OnDisconnect.setWithPriority",t,this._path,!1),Em("OnDisconnect.setWithPriority",n,!1);let r=new Te;return fF(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){st("OnDisconnect.update",this._path),YD("OnDisconnect.update",t,this._path,!1);let n=new Te;return hF(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var Ge=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return q(this._path)?null:im(this._path)}get ref(){return new lt(this._repo,this._path)}get _queryIdentifier(){let t=VE(this._queryParams),n=nm(t);return n==="{}"?"default":n}get _queryObject(){return VE(this._queryParams)}isEqual(t){if(t=Be(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=om(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+xk(this._path)}};function Su(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Yn(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Kt){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==zn)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Dn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===ce){if(t!=null&&!Us(t)||n!=null&&!Us(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(w(e.getIndex()instanceof Rs||e.getIndex()===lm,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Mu(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var lt=class e extends Ge{constructor(t,n){super(t,n,new Fs,!1)}get parent(){let t=wD(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Wi=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new te(t),r=Qn(this.ref,t);return new e(this._node.getChild(n),r,ce)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,Qn(this.ref,r),ce)))}hasChild(t){let n=new te(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Ki(e,t){return e=Be(e),e._checkNotDeleted("ref"),t!==void 0?Qn(e._root,t):e._root}function Mm(e,t){e=Be(e),e._checkNotDeleted("refFromURL");let n=Ug(t,e._repo.repoInfo_.nodeAdmin);ZD("refFromURL",n);let r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Xt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Ki(e,n.path.toString())}function Qn(e,t){return e=Be(e),G(e._path)===null?rF("child","path",t,!1):Yi("child","path",t,!1),new lt(e._repo,fe(e._path,t))}function Tu(e,t){e=Be(e),st("push",e._path),en("push",t,e._path,!0);let n=eb(e._repo),r=EF(n),i=Qn(e,r),o=Qn(e,r),s;return t!=null?s=xu(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function ob(e){return st("remove",e._path),xu(e,null)}function xu(e,t){e=Be(e),st("set",e._path),en("set",t,e._path,!1);let n=new Te;return bm(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function sb(e,t){e=Be(e),st("setPriority",e._path),Em("setPriority",t,!1);let n=new Te;return bm(e._repo,fe(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function ab(e,t,n){if(st("setWithPriority",e._path),en("setWithPriority",t,e._path,!1),Em("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let r=new Te;return bm(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}function lb(e,t){YD("update",t,e._path,!1);let n=new Te;return cF(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function cb(e){e=Be(e);let t=new $s(()=>{}),n=new Hs(t);return lF(e._repo,e,n).then(r=>new Wi(r,new lt(e._repo,e._path),e._queryParams.getIndex()))}var Hs=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new su("value",this,new Wi(t.snapshotNode,new lt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new au(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},cu=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new au(this,t,n):null}createEvent(t,n){w(t.childName!=null,"Child events should have a childName.");let r=Qn(new lt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new su(t.type,this,new Wi(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Xs(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{Bg(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new $s(n,o||void 0),a=t==="value"?new Hs(s):new cu(t,s);return pF(e._repo,e,a),()=>Bg(e._repo,e,a)}function Xi(e,t,n,r){return Xs(e,"value",t,n,r)}function Tm(e,t,n,r){return Xs(e,"child_added",t,n,r)}function xm(e,t,n,r){return Xs(e,"child_changed",t,n,r)}function Am(e,t,n,r){return Xs(e,"child_moved",t,n,r)}function Nm(e,t,n,r){return Xs(e,"child_removed",t,n,r)}function Rm(e,t,n){let r=null,i=n?new $s(n):null;t==="value"?r=new Hs(i):t&&(r=new cu(t,i)),Bg(e._repo,e,r)}var ct=class{},uu=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){en("endAt",this._value,t._path,!0);let n=vg(t._queryParams,this._value,this._key);if(Mu(n),Yn(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ge(t._repo,t._path,n,t._orderByCalled)}};function ub(e,t){return Zs("endAt","key",t,!0),new uu(e,t)}var $g=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){en("endBefore",this._value,t._path,!1);let n=Qk(t._queryParams,this._value,this._key);if(Mu(n),Yn(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ge(t._repo,t._path,n,t._orderByCalled)}};function db(e,t){return Zs("endBefore","key",t,!0),new $g(e,t)}var du=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){en("startAt",this._value,t._path,!0);let n=mg(t._queryParams,this._value,this._key);if(Mu(n),Yn(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ge(t._repo,t._path,n,t._orderByCalled)}};function fb(e=null,t){return Zs("startAt","key",t,!0),new du(e,t)}var Hg=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){en("startAfter",this._value,t._path,!1);let n=qk(t._queryParams,this._value,this._key);if(Mu(n),Yn(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ge(t._repo,t._path,n,t._orderByCalled)}};function hb(e,t){return Zs("startAfter","key",t,!0),new Hg(e,t)}var zg=class extends ct{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ge(t._repo,t._path,Wk(t._queryParams,this._limit),t._orderByCalled)}};function pb(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new zg(e)}var Wg=class extends ct{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ge(t._repo,t._path,Gk(t._queryParams,this._limit),t._orderByCalled)}};function gb(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Wg(e)}var Gg=class extends ct{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Su(t,"orderByChild");let n=new te(this._path);if(q(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Rs(n),i=hu(t._queryParams,r);return Yn(i),new Ge(t._repo,t._path,i,!0)}};function mb(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yi("orderByChild","path",e,!1),new Gg(e)}var qg=class extends ct{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Su(t,"orderByKey");let n=hu(t._queryParams,Kt);return Yn(n),new Ge(t._repo,t._path,n,!0)}};function vb(){return new qg}var Qg=class extends ct{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Su(t,"orderByPriority");let n=hu(t._queryParams,ce);return Yn(n),new Ge(t._repo,t._path,n,!0)}};function yb(){return new Qg}var Yg=class extends ct{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Su(t,"orderByValue");let n=hu(t._queryParams,lm);return Yn(n),new Ge(t._repo,t._path,n,!0)}};function _b(){return new Yg}var Zg=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(en("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new uu(this._value,this._key)._apply(new du(this._value,this._key)._apply(t))}};function Cb(e,t){return Zs("equalTo","key",t,!0),new Zg(e,t)}function wt(e,...t){let n=Be(e);for(let r of t)n=r._apply(n);return n}xP(lt);kP(lt);var DF="FIREBASE_DATABASE_EMULATOR_HOST",Kg={},bF=!1;function IF(e,t,n,r){e.repoInfo_=new Uc(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function Om(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Xt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ae("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=Ug(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[DF]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Ug(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new Ss(Ss.OWNER):new tg(e.name,e.options,t);ZD("Invalid Firebase Database URL",s),q(s.path)||Xt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=MF(a,e,u,new eg(e,n));return new Xg(d,e)}function SF(e,t){let n=Kg[t];(!n||n[e.key]!==e)&&Xt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),tb(e),delete n[e.key]}function MF(e,t,n,r){let i=Kg[t.name];i||(i={},Kg[t.name]=i);let o=i[e.toURLString()];return o&&Xt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new jg(e,bF,n,r),i[e.toURLString()]=o,o}var Xg=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(sF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lt(this._repo,ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(SF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xt("Cannot call "+t+" on a deleted database.")}};function wb(){CD.IS_TRANSPORT_INITIALIZED&&Ve("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Eb(){wb(),As.forceDisallow()}function Db(){wb(),Pi.forceDisallow(),As.forceAllow()}function bb(e=$u(),t){let n=Uu(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=Gm("database");r&&km(n,...r)}return n}function km(e,t,n,r={}){e=Be(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Jm(r,o.repoInfo_.emulatorOptions))return;Xt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Xt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ss(Ss.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:qm(r.mockUserToken,e.app.options.projectId);s=new Ss(a)}IF(o,i,r,s)}function Ib(e){e=Be(e),e._checkNotDeleted("goOffline"),tb(e._repo)}function Sb(e){e=Be(e),e._checkNotDeleted("goOnline"),gF(e._repo)}function Mb(e,t){nD(e,t)}function TF(e){tm(ov),io(new nn("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Om(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Sn(wE,EE,e),Sn(wE,EE,"esm2017")}var xF={".sv":"timestamp"};function Tb(){return xF}function xb(e){return{".sv":{increment:e}}}var Jg=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function Ab(e,t,n){var r;if(e=Be(e),st("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Te,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Wi(u,new lt(e._repo,e._path),ce),o.resolve(new Jg(c,d)))},a=Xi(e,()=>{});return mF(e._repo,e._path,t,s,a,i),o.promise}sm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};sm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};TF();var AF="@firebase/database-compat",NF="2.0.5";var RF=new Rr("@firebase/database-compat"),Nb=function(e){let t="FIREBASE WARNING: "+e;RF.warn(t)};var OF=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(qe(e,t)+"must be a boolean.")},kF=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(qe(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var Pm=class{constructor(t){this._delegate=t}cancel(t){P("OnDisconnect.cancel",0,1,arguments.length),Ee("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),r=>t(r)),n}remove(t){P("OnDisconnect.remove",0,1,arguments.length),Ee("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),r=>t(r)),n}set(t,n){P("OnDisconnect.set",1,2,arguments.length),Ee("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){P("OnDisconnect.setWithPriority",2,3,arguments.length),Ee("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(t,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(t,n){if(P("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,Nb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ee("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(t);return n&&r.then(()=>n(null),i=>n(i)),r}};var Fm=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return P("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Mr=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return P("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return P("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return P("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return P("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return P("DataSnapshot.child",0,1,arguments.length),t=String(t),Yi("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return P("DataSnapshot.hasChild",1,1,arguments.length),Yi("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return P("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return P("DataSnapshot.forEach",1,1,arguments.length),Ee("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return P("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return P("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return P("DataSnapshot.ref",0,0,arguments.length),new bn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Au=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,r,i){var o;P("Query.on",2,4,arguments.length),Ee("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Mr(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return Xi(this._delegate,a,l),n;case"child_added":return Tm(this._delegate,a,l),n;case"child_removed":return Nm(this._delegate,a,l),n;case"child_changed":return xm(this._delegate,a,l),n;case"child_moved":return Am(this._delegate,a,l),n;default:throw new Error(qe("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,r){if(P("Query.off",0,3,arguments.length),kF("Query.off",t,!0),Ee("Query.off","callback",n,!0),ju("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,Rm(this._delegate,t,i)}else Rm(this._delegate,t)}get(){return cb(this._delegate).then(t=>new Mr(this.database,t))}once(t,n,r,i){P("Query.once",1,4,arguments.length),Ee("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Te,a=(c,u)=>{let d=new Mr(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":Xi(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Tm(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Nm(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":xm(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Am(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(qe("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return P("Query.limitToFirst",1,1,arguments.length),new e(this.database,wt(this._delegate,pb(t)))}limitToLast(t){return P("Query.limitToLast",1,1,arguments.length),new e(this.database,wt(this._delegate,gb(t)))}orderByChild(t){return P("Query.orderByChild",1,1,arguments.length),new e(this.database,wt(this._delegate,mb(t)))}orderByKey(){return P("Query.orderByKey",0,0,arguments.length),new e(this.database,wt(this._delegate,vb()))}orderByPriority(){return P("Query.orderByPriority",0,0,arguments.length),new e(this.database,wt(this._delegate,yb()))}orderByValue(){return P("Query.orderByValue",0,0,arguments.length),new e(this.database,wt(this._delegate,_b()))}startAt(t=null,n){return P("Query.startAt",0,2,arguments.length),new e(this.database,wt(this._delegate,fb(t,n)))}startAfter(t=null,n){return P("Query.startAfter",0,2,arguments.length),new e(this.database,wt(this._delegate,hb(t,n)))}endAt(t=null,n){return P("Query.endAt",0,2,arguments.length),new e(this.database,wt(this._delegate,ub(t,n)))}endBefore(t=null,n){return P("Query.endBefore",0,2,arguments.length),new e(this.database,wt(this._delegate,db(t,n)))}equalTo(t,n){return P("Query.equalTo",1,2,arguments.length),new e(this.database,wt(this._delegate,Cb(t,n)))}toString(){return P("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return P("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(P("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ee(t,"cancel",i.cancel,!0),i.context=r,ju(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(qe(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new bn(this.database,new lt(this._delegate._repo,this._delegate._path))}},bn=class e extends Au{constructor(t,n){super(t,new Ge(n._repo,n._path,new Fs,!1)),this.database=t,this._delegate=n}getKey(){return P("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return P("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,Qn(this._delegate,t))}getParent(){P("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return P("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){P("Reference.set",1,2,arguments.length),Ee("Reference.set","onComplete",n,!0);let r=xu(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}update(t,n){if(P("Reference.update",1,2,arguments.length),Array.isArray(t)){let i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,Nb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("Reference.update",this._delegate._path),Ee("Reference.update","onComplete",n,!0);let r=lb(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){P("Reference.setWithPriority",2,3,arguments.length),Ee("Reference.setWithPriority","onComplete",r,!0);let i=ab(this._delegate,t,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(t){P("Reference.remove",0,1,arguments.length),Ee("Reference.remove","onComplete",t,!0);let n=ob(this._delegate);return t&&n.then(()=>t(null),r=>t(r)),n}transaction(t,n,r){P("Reference.transaction",1,3,arguments.length),Ee("Reference.transaction","transactionUpdate",t,!1),Ee("Reference.transaction","onComplete",n,!0),OF("Reference.transaction","applyLocally",r,!0);let i=Ab(this._delegate,t,{applyLocally:r}).then(o=>new Fm(o.committed,new Mr(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(t,n){P("Reference.setPriority",1,2,arguments.length),Ee("Reference.setPriority","onComplete",n,!0);let r=sb(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}push(t,n){P("Reference.push",0,2,arguments.length),Ee("Reference.push","onComplete",n,!0);let r=Tu(this._delegate,t),i=r.then(s=>new e(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new e(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return st("Reference.onDisconnect",this._delegate._path),new Pm(new lu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Tr=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Eb,forceLongPolling:Db}}useEmulator(t,n,r={}){km(this._delegate,t,n,r)}ref(t){if(P("database.ref",0,1,arguments.length),t instanceof bn){let n=Mm(this._delegate,t.toString());return new bn(this,n)}else{let n=Ki(this._delegate,t);return new bn(this,n)}}refFromURL(t){P("database.refFromURL",1,1,arguments.length);let r=Mm(this._delegate,t);return new bn(this,r)}goOffline(){return P("database.goOffline",0,0,arguments.length),Ib(this._delegate)}goOnline(){return P("database.goOnline",0,0,arguments.length),Sb(this._delegate)}};Tr.ServerValue={TIMESTAMP:Tb(),increment:e=>xb(e)};function PF({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){tm(n);let a=new Bu("database-standalone"),l=new aa("auth-internal",a);l.setComponent(new nn("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new aa("app-check-internal",a),c.setComponent(new nn("app-check-internal",()=>i,"PRIVATE"))),{instance:new Tr(Om(e,l,c,t,s),e),namespace:o}}var FF=Object.freeze({__proto__:null,initStandalone:PF});var LF=Tr.ServerValue;function VF(e){e.INTERNAL.registerComponent(new nn("database-compat",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:n});return new Tr(i,r)},"PUBLIC").setServiceProps({Reference:bn,Query:Au,Database:Tr,DataSnapshot:Mr,enableLogging:Mb,INTERNAL:FF,ServerValue:LF}).setMultipleInstances(!0)),e.registerVersion(AF,NF)}VF(Et);function Js(e,t,n="on",r=uo){return new U(i=>{let o=null;return o=e[n](t,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(k(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),ho())}function jF(e){return typeof e=="string"}function BF(e){return typeof e.exportVal=="function"}function Fb(e){return e==null}function Lb(e){return typeof e.set=="function"}function Rb(e,t){return Lb(t)?t:e.ref(t)}function Vb(e,t){if(jF(e))return t.stringCase();if(Lb(e))return t.firebaseCase();if(BF(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function jb(e){return(Fb(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function Bb(e,t,n){t=jb(t);let r=t.map(i=>Js(e,i,"on",n));return Wr(...r)}function UF(e,t,n){let r=Bb(e,t).pipe(qr((i,o)=>[...i,o],[]));return HF(e,r,n)}function $F(e,t){return Js(e,"value","on",t).pipe(k(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function HF(e,t,n){return $F(e,n).pipe(gd(t),k(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),fd(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),k(i=>i.actions))}function Ob(e,t){return function(r,i){return Vb(r,{stringCase:()=>e.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function zF(e){return function(n){return n?Vb(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function WF(e,t,n){return Js(e,"value","once",n).pipe(de(r=>{let i=[O(r)];return t.forEach(o=>i.push(Js(e,o,"on",n))),Wr(...i).pipe(qr(qF,[]))}),cd())}function Ub(e,t){let n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function GF(e,t){if(Fb(t))return 0;{let n=Ub(e,t);return n===-1?e.length:n+1}}function qF(e,t){let{payload:n,prevKey:r,key:i}=t,o=Ub(e,i),s=GF(e,r);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==r&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(r==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===i?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function kb(e,t,n){return t=jb(t),WF(e,t,n)}function QF(e,t,n){let r=t.schedulers.outsideAngular,i=C(ne).run(()=>e.ref);return{query:e,update:Ob(i,"update"),set:Ob(i,"set"),push:o=>i.push(o),remove:zF(i),snapshotChanges(o){return kb(e,o,r).pipe(Yt(n))},stateChanges(o){return Bb(e,o,r).pipe(Yt(n))},auditTrail(o){return UF(e,o,r).pipe(Yt(n))},valueChanges(o,s){return kb(e,o,r).pipe(k(l=>l.map(c=>s&&s.idField?z(E({},c.payload.val()),{[s.idField]:c.key}):c.payload.val())),Yt(n))}}}function Pb(e,t){return function(){return Js(e,"value","on",t)}}function YF(e,t,n){return{query:e,snapshotChanges(){return Pb(e,t.schedulers.outsideAngular)().pipe(Yt(n))},update(r){return e.ref.update(r)},set(r){return e.ref.set(r)},remove(){return e.ref.remove()},valueChanges(){return Pb(e,t.schedulers.outsideAngular)().pipe(Yt(n),k(i=>i.payload.exists()?i.payload.val():null))}}}var ZF=new I("angularfire2.realtimeDatabaseURL"),KF=new I("angularfire2.database.use-emulator"),XF=(()=>{class e{schedulers;database;injector=C(Ie);constructor(n,r,i,o,s,a,l,c,u,d,f,h,p,g,y){this.schedulers=a;let b=l,H=Lc(n,s,r);c&&$p(H,s,u,f,h,p,d,g),this.database=Vc(`${H.name}.database.${i}`,"AngularFireDatabase",H.name,()=>{let _=s.runOutsideAngular(()=>H.database(i||void 0));return b&&_.useEmulator(...b),_},[b])}list(n,r){let i=C(ne).runOutsideAngular(()=>Rb(this.database,n)),o=i;return r&&(o=r(i)),QF(o,this,this.injector)}object(n){let r=C(ne).runOutsideAngular(()=>Rb(this.database,n));return YF(r,this,this.injector)}createPushId(){return C(ne).runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||e)(D(Pc),D(Fc,8),D(ZF,8),D(mt),D(ne),D(ys),D(KF,8),D(CE,8),D(Fp,8),D(Lp,8),D(Vp,8),D(jp,8),D(Bp,8),D(Up,8),D(Oi,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),$b=(()=>{class e{constructor(){Et.registerVersion("angularfire",Tp.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=At({type:e});static \u0275inj=Mt({providers:[XF]})}return e})();var Hb={production:!1,firebaseConfig:{apiKey:"AIzaSyC6Xrc9EqMyXKH_gNFaOGuAX-ItudzZAVs",authDomain:"bautizo-sofia.firebaseapp.com",databaseURL:"https://bautizo-sofia-default-rtdb.firebaseio.com",projectId:"bautizo-sofia",storageBucket:"bautizo-sofia.firebasestorage.app",messagingSenderId:"981839514602",appId:"1:981839514602:web:981d3b9a4dcde418c84093"}};var Nu=class e{app=sv(Hb.firebaseConfig);database=bb(this.app);basePath="comentarios";addComment(t){return ge(this,null,function*(){let n=Ki(this.database,this.basePath);return(yield Tu(n,t)).key??void 0})}getComments(){return ge(this,null,function*(){let t=Ki(this.database,this.basePath);return new Promise((n,r)=>{Xi(t,i=>{let o=i.val(),s=o?Object.entries(o).map(([a,l])=>z(E({},l),{id:a})):[];n(s)},i=>{r(i)})})})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function eL(e,t){if(e&1&&(m(0,"div",78)(1,"div",79)(2,"div",80),S(3),v(),m(4,"div",81),A(5,"img",82)(6,"img",83),v()(),m(7,"div",84),S(8),v()()),e&2){let n=t.$implicit;Le(3),Vl(n.autor),Le(5),Vl(n.comentario)}}var Ru=class e{constructor(t,n){this.router=t;this.firebaseService=n;this.commentData=new xi("","","","")}listComments=[];commentData;countdownInterval;animatePhotos=!1;ngOnInit(){return ge(this,null,function*(){this.countdownInterval=setInterval(()=>this.updateCountdown(),1e3);let t=document.querySelector(".content");t&&t.addEventListener("scroll",this.checkVisibility.bind(this))})}ngAfterViewInit(){this.animation(),document.getElementById("commentInput").addEventListener("input",function(){let i=350-this.value.length,o=document.getElementById("wordCounter");o.textContent=`${i} palabras restantes`}),this.searchComments()}openModal(t){let n=document.getElementById(t);n.style.display="block",R({targets:"#"+t,scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}closeModal(t){let n=document.getElementById("modalId");R({targets:"#"+t,scale:[1,0],opacity:[1,0],duration:300,easing:"easeOutQuad",oncomplete:()=>{n.style.display="none"}})}confirmComment(){let t=new xi("",this.commentData.autor,this.commentData.comentario,new Date().toLocaleDateString());this.listComments.unshift(t),this.firebaseService.addComment(t),this.commentData=new xi("","","",""),setTimeout(()=>{R({targets:".container_commnets__card",translateY:[-100,0],opacity:[0,1],duration:500,easing:"easeOutQuad",delay:R.stagger(200,{start:200})})},100),this.closeModal("confirmModal"),setTimeout(()=>{this.closeModal("commentModal")},100)}addCommnet(){(this.commentData!=null&&this.commentData.autor==null||this.commentData.autor==="")&&(this.commentData.autor="Anonimo"),this.openConfirmModal()}openConfirmModal(){let t=document.getElementById("confirmModal");t.style.display="block",R({targets:"#confirmModal",scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}searchComments(){this.firebaseService.getComments().then(t=>{this.listComments=t})}openMapChurch(){window.open("https://maps.app.goo.gl/vzCdbQVbcEv2XY7e8","_blank")}openMapParty(){window.open("https://maps.app.goo.gl/fKnwHwdttYZpSdop9","_blank")}openMesaRegalos(t){let n;t==="am"?n="https://www.amazon.com.mx/registries/gl/guest-view/3E7RLOFQ55UDY":t=="liv",window.open(n,"_blank")}showInvitation(){this.router.navigate(["/bautizo"])}animation(){R.timeline().add({targets:".img-title",top:["70px","-30px"],duration:2e3,delay:1e3,easing:"easeOutExpo"}).add({targets:".img-header",translateY:["-100%","0%"],opacity:1,duration:1500,easing:"easeOutExpo"},"-=1500").add({targets:".img-photo",scale:[0,1],opacity:[0,1],duration:2e3,easing:"easeOutExpo"},"-=1000").add({targets:".text-center",translateX:["-100%","0%"],opacity:[0,1],duration:1500,easing:"easeOutExpo",delay:R.stagger(100)},"-=1500").add({targets:".separator",opacity:[0,1],duration:1e3,easing:"linear"},"-=2000").add({targets:".btn-see",opacity:[0,1],duration:1500,easing:"linear"},"-=2000")}updateCountdown(){let t=new Date("2025-07-14T00:00:00").getTime(),n=new Date().getTime(),r=t-n,i=Math.floor(r/(1e3*60*60*24)),o=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),s=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3),l=document.getElementById("days"),c=document.getElementById("hours"),u=document.getElementById("minutes"),d=document.getElementById("seconds");l&&(l.innerText=i.toString()),c&&(c.innerText=o.toString()),u&&(u.innerText=s.toString()),d&&(d.innerText=a.toString()),r<0&&clearInterval(this.countdownInterval)}isElementInViewport(t){let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}checkVisibility(){document.querySelectorAll(".photos").forEach(n=>{this.isElementInViewport(n)?this.animatePhotos=!0:this.animatePhotos=!1})}static \u0275fac=function(n){return new(n||e)(Z(yt),Z(Nu))};static \u0275cmp=ve({type:e,selectors:[["app-invitacion"]],decls:167,vars:6,consts:[[1,"content"],[1,"d-flex","justify-content-center"],["src","assets/img/countryside/roses.png","alt","header",1,"img-header"],["src","assets/img/countryside/bautizo.png","alt","title",1,"img-title"],["src","assets/img/countryside/img_photo.png","alt","photo",1,"img-photo"],[1,"btn-see","shadow-lg",3,"click"],[1,"text-center","mt-5"],[1,"text-1"],[1,"d-flex","flex-column","align-items-center"],[1,"text-2"],[1,"text-center","more-space"],["src","assets/img/countryside/separator.png","alt","photo",1,"separator",2,"transform","scaleY(-1)"],[1,"text-center","ms-5","me-5"],["src","assets/img/countryside/separator.png","alt","photo",1,"separator"],[1,"d-flex","justify-content-center","mt-5","mb-5"],["src","assets/img/countryside/dateBautizo.png","alt","photo",1,"img-date-ba"],["src","assets/img/countryside/locationImage.png","alt","photo",1,"img-photo",3,"click"],[1,"d-flex","justify-content-center","more-space"],["src","assets/img/countryside/stars-separator.png","alt","photo",1,"start-separator"],["src","assets/img/countryside/party.png","alt","photo",1,"img-photo"],[1,"text-center","m-5"],["src","assets/img/countryside/date_party.png","alt","photo",1,"img-date-party"],["src","assets/img/countryside/birthday.png","alt","photo",1,"img-photo"],[1,"more-space","photos"],[3,"animate"],[1,"text-center"],["id","countdown",1,"d-flex","justify-content-center"],[1,"mx-3","text-center","flex-fill"],["id","days",1,"countdown__number"],[1,"countdown__text"],["id","hours",1,"countdown__number"],["id","minutes",1,"countdown__number"],["id","seconds",1,"countdown__number"],["src","assets/img/countryside/mesaRegalos.png","alt","photo",1,"img-photo"],[1,"d-flex","justify-content-center","mb-5"],[1,"card","shadow-lg","card-gift"],["src","assets/img/countryside/amazon_logo.png","alt","image1",1,"card-img-top",3,"click"],["src","assets/img/countryside/liverpool_logo.jpg","alt","image2",1,"card-img-top"],[1,"d-flex","justify-content-center","more-space","mb-0"],["src","assets/img/countryside/notice.png","alt","photo",1,"img-photo"],[1,"row","p-5"],[1,"col-12"],[1,"text-2","text-center"],[1,"col-12","mt-3"],["src","assets/img/countryside/voces.png","alt","photo",1,"img-photo",2,"width","90%!important"],[1,"row","w-100"],[1,"col-12","text-center"],[1,"btn-add",3,"click"],["src","assets/svg/chat-square-heart.svg","alt","addCommnet",2,"width","2.5rem"],[1,"m-0",2,"font-size","1.3rem"],[1,"container_commnets"],["class","container_commnets__card",4,"ngFor","ngForOf"],[1,"footer-img"],["src","assets/img/countryside/footer.png",1,"gifts"],["src","assets/img/countryside/cloud.png",1,"cloud-0"],["src","assets/img/countryside/cloud.png",1,"cloud-1"],["src","assets/img/countryside/cloud.png",1,"cloud-2"],["src","assets/img/countryside/cloud.png",1,"cloud-3"],["src","assets/img/countryside/cloud.png",1,"cloud-4"],["id","commentModal","tabindex","-1","aria-labelledby","commentModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","commentModalLabel",1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off","type","text","placeholder","De parte de...",1,"form-control","modal__input-autor",3,"ngModelChange","ngModel"],["autocomplete","off","id","commentInput","rows","4","maxlength","350","placeholder","Escribe tu comentario aqu\xED...",1,"form-control","modal__input-comment",3,"ngModelChange","ngModel"],[1,"row","text-end"],["id","wordCounter",1,"text-muted"],[1,"modal-footer"],["type","button",1,"btn","modal__btnModal",3,"click"],["type","button",1,"btn","modal__btnModal",3,"click","disabled"],["id","confirmModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],[1,"modal-content",2,"margin","4rem"],[1,"row"],[1,"col-12","text-center","mt-4","mb-4"],["src","assets/svg/patch-exclamation.svg","alt","",2,"width","6rem"],[1,"container_commnets__card"],[1,"container_commnets__header"],[1,"container_commnets__name"],[1,"container_coments__icons","d-none"],["src","assets/svg/pencil.svg",1,"me-2"],["src","assets/svg/trash.svg"],[1,"container_commnets__comment"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1),A(2,"img",2),v(),m(3,"div",1),A(4,"img",3),v(),m(5,"div",1),A(6,"img",4),v(),m(7,"div",1)(8,"button",5),Q("click",function(){return r.showInvitation()}),S(9,"Ver invitaci\xF3n"),v()(),m(10,"div",6)(11,"p",7),S(12,"Mis Pap\xE1s"),v(),m(13,"div",8)(14,"p",9),S(15,"Minerva Victoria Montes Torres"),v(),m(16,"p",9),S(17,"Jos\xE9 Manuel Ram\xEDrez Mej\xEDa"),v()()(),m(18,"div",10)(19,"p",7),S(20,"Mi Madrina"),v(),m(21,"div",8)(22,"p",9),S(23,"Maria Jos\xE9 Ram\xEDrez Mej\xEDa"),v()()(),m(24,"div",1),A(25,"img",11),v(),m(26,"div",12)(27,"div",8)(28,"p",9),S(29,' "En este d\xEDa especial, celebramos la llegada de un nuevo miembro a la familia de Dios. Que su bautizo marque el inicio de una vida llena de bendiciones, amor y sabidur\xEDa divina." '),v()()(),m(30,"div",1),A(31,"img",13),v(),m(32,"div",10)(33,"p",7),S(34,"Lugar y Fecha"),v()(),m(35,"div",14),A(36,"img",15),v(),m(37,"div",14)(38,"img",16),Q("click",function(){return r.openMapChurch()}),v()(),m(39,"div",17),A(40,"img",18),v(),m(41,"div",1),A(42,"img",19),v(),m(43,"div",20)(44,"div",8)(45,"p",9),S(46," Celebramos juntos con alegr\xEDa y gratitud este bautizo. Que la fiesta refleje amor, felicidad y bendiciones compartidas. "),v()()(),m(47,"div",14),A(48,"img",21),v(),m(49,"div",14)(50,"img",16),Q("click",function(){return r.openMapParty()}),v()(),m(51,"div",17),A(52,"img",18),v(),m(53,"div",1),A(54,"img",22),v(),m(55,"div",23),A(56,"mosaic-photos",24),v(),m(57,"div",20)(58,"div",8)(59,"p",9),S(60,' "En su primer a\xF1o de vida, una beb\xE9 es como una flor que comienza a abrirse al mundo, llena de pureza y asombro.Sus risas y logros nos muestran la belleza de la vida en cada peque\xF1o momento." '),v()()(),m(61,"div",25)(62,"p",7),S(63,"Falta para mi cumple..."),v()(),m(64,"div",14)(65,"div",26)(66,"div",27),A(67,"div",28),m(68,"div",29),S(69,"D\xEDas"),v()(),m(70,"div",27),A(71,"div",30),m(72,"div",29),S(73,"Horas"),v()(),m(74,"div",27),A(75,"div",31),m(76,"div",29),S(77,"Minutos"),v()(),m(78,"div",27),A(79,"div",32),m(80,"div",29),S(81,"Segundos"),v()()()(),m(82,"div",17),A(83,"img",18),v(),m(84,"div",17),A(85,"img",33),v(),m(86,"div",34)(87,"div",35)(88,"img",36),Q("click",function(){return r.openMesaRegalos("am")}),v()()(),m(89,"div",34)(90,"div",35),A(91,"img",37),v()(),m(92,"div",17),A(93,"img",18),v(),m(94,"div",38),A(95,"img",39),v(),m(96,"div",40)(97,"div",41)(98,"p",42),S(99,"Nos vemos en la iglesia, s\xE9 puntual."),v()(),m(100,"div",43)(101,"p",42),S(102,"Llega temprano para disfrutar todas las actividades."),v()(),m(103,"div",43)(104,"p",42),S(105,"La fiesta sera completamente infantil, \xA1muchos juegos!"),v()(),m(106,"div",43)(107,"p",42),S(108,"Habr\xE1 buffet, la comida se sirve a una hora espec\xEDfica."),v()(),m(109,"div",43)(110,"p",42),S(111,"Lleva ropa c\xF3moda para los juegos."),v()()(),m(112,"div",17),A(113,"img",18),v(),m(114,"div",38),A(115,"img",44),v(),m(116,"div",45)(117,"div",46)(118,"button",47),Q("click",function(){return r.openModal("commentModal")}),A(119,"img",48),m(120,"p",49),S(121,"Agregar comentario"),v()()()(),m(122,"div",50),Po(123,eL,9,2,"div",51),v(),m(124,"div",52),A(125,"img",53),v(),A(126,"img",54)(127,"img",55)(128,"img",56)(129,"img",57)(130,"img",58),v(),m(131,"div",59)(132,"div",60)(133,"div",61)(134,"div",62)(135,"h2",63),S(136,"Agrega un comentario"),v(),m(137,"button",64),Q("click",function(){return r.closeModal("commentModal")}),v()(),m(138,"div",65)(139,"input",66),Bl("ngModelChange",function(o){return rh(r.commentData.autor,o)||(r.commentData.autor=o),o}),v(),m(140,"textarea",67),Bl("ngModelChange",function(o){return rh(r.commentData.comentario,o)||(r.commentData.comentario=o),o}),v(),m(141,"div",68)(142,"small",69),S(143,"350 letras restantes"),v()()(),m(144,"div",70)(145,"button",71),Q("click",function(){return r.closeModal("commentModal")}),S(146,"Cancelar"),v(),m(147,"button",72),Q("click",function(){return r.addCommnet()}),S(148,"Aceptar"),v()()()()(),m(149,"div",73)(150,"div",60)(151,"div",74)(152,"div",62)(153,"h2",63),S(154,"\xBFQuieres continuar?"),v(),m(155,"button",64),Q("click",function(){return r.closeModal("confirmModal")}),v()(),m(156,"div",65)(157,"div",75)(158,"div",76),A(159,"img",77),v()(),m(160,"h2"),S(161,"Una vez agregado tu comentario, todos los invitados con acceso a la invitaci\xF3n podr\xE1n verlo."),v()(),m(162,"div",70)(163,"button",71),Q("click",function(){return r.closeModal("confirmModal")}),S(164,"Cancelar"),v(),m(165,"button",72),Q("click",function(){return r.confirmComment()}),S(166,"Aceptar"),v()()()()()),n&2&&(Le(56),Xe("animate",r.animatePhotos),Le(67),Xe("ngForOf",r.listComments),Le(16),jl("ngModel",r.commentData.autor),Le(),jl("ngModel",r.commentData.comentario),Le(7),Xe("disabled",!(r.commentData.comentario!=null&&r.commentData.comentario.length>5)),Le(18),Xe("disabled",!(r.commentData.comentario!=null&&r.commentData.comentario.length>5)))},dependencies:[Ti,iE,Nc,tE,Sp,Ip,jo,Gl,$b],styles:['@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v19/o-0IIpQoyXQa2RxT7-5r8zRAW_0.woff2) format("woff2");unicode-range:U+0964-0965,U+0B82-0BFA,U+200C-200D,U+20B9,U+25CC}@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v19/o-0IIpQoyXQa2RxT7-5r6zRAW_0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v19/o-0IIpQoyXQa2RxT7-5r5TRA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.btn-see[_ngcontent-%COMP%]{border:0;border-radius:20px;background-color:#999ae8;color:#fff;width:150px;height:40px;font-family:Playwrite US Modern,cursive;text-align:center}.content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.img-header[_ngcontent-%COMP%]{width:100%;position:relative;right:0;top:-20px}.img-title[_ngcontent-%COMP%]{width:60%;position:relative;top:-30px}.img-photo[_ngcontent-%COMP%]{width:60%}.separator[_ngcontent-%COMP%]{width:80%;margin:0}.start-separator[_ngcontent-%COMP%]{width:100%;margin:0;opacity:.3}.text-1[_ngcontent-%COMP%]{font-weight:800;font-family:Playwrite US Modern,cursive;font-size:2.5rem;margin:0;margin-bottom:1rem}.text-2[_ngcontent-%COMP%]{font-weight:300;font-family:Playwrite US Modern,cursive;font-size:1.5rem;margin:0}.more-space[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:5rem}.img-date-ba[_ngcontent-%COMP%]{width:90%}.img-date-party[_ngcontent-%COMP%]{width:60%}.countdown__number[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem}.cloud-0[_ngcontent-%COMP%], .cloud-1[_ngcontent-%COMP%], .cloud-2[_ngcontent-%COMP%], .cloud-3[_ngcontent-%COMP%], .cloud-4[_ngcontent-%COMP%]{position:fixed;opacity:.5;z-index:-1}.cloud-0[_ngcontent-%COMP%]{top:15%;right:-5%;width:20%}.cloud-1[_ngcontent-%COMP%]{top:25%;left:-20%;width:40%}.cloud-2[_ngcontent-%COMP%]{top:45%;right:-20%;width:40%}.cloud-3[_ngcontent-%COMP%]{top:65%;left:-20%;width:40%}.cloud-4[_ngcontent-%COMP%]{bottom:15%;right:-5%;width:20%}.footer-img[_ngcontent-%COMP%]{position:relative;margin-top:auto;width:100%;height:auto}.footer-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.desk-gift[_ngcontent-%COMP%]{width:60%;height:250px}.card-gift[_ngcontent-%COMP%]{width:50%}.container_commnets[_ngcontent-%COMP%]{width:100%;overflow-x:auto;display:flex;flex-direction:row;align-items:center;gap:1rem;padding:2rem}.container_commnets__card[_ngcontent-%COMP%]{flex:0 0 270px;margin-bottom:1rem;padding:1rem;box-shadow:0 4px 8px #0000001a;border:1px solid pink;display:flex;flex-direction:column;align-items:center;position:relative}.container_commnets__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}.container_commnets__name[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.container_commnets__comment[_ngcontent-%COMP%]{font-size:1rem;color:#333;width:100%;text-align:left;margin-top:1rem}.btn-add[_ngcontent-%COMP%]{margin-top:2rem;box-shadow:0 4px 8px #0000001a;border:1px solid pink;background-color:transparent;flex-direction:column;align-items:center;justify-content:center;padding:1rem}.modal-content[_ngcontent-%COMP%]{border-color:pink}.modal__input-autor[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;border-color:#999ae8;outline:none!important}.modal__input-comment[_ngcontent-%COMP%]{font-size:2rem;border-color:#999ae8;outline:none!important}.modal__btnModal[_ngcontent-%COMP%]{background-color:#999ae8;height:35px;font-size:1.5rem;color:#fff}@media (min-width: 600px) and (max-width: 1199px){.text-1[_ngcontent-%COMP%]{font-size:5rem}.text-2[_ngcontent-%COMP%]{font-size:2.5rem}.separator[_ngcontent-%COMP%]{width:60%}.btn-see[_ngcontent-%COMP%]{width:300px;height:50px;font-size:2.3rem}.countdown__number[_ngcontent-%COMP%]{font-size:6rem}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:3rem}.btn-see[_ngcontent-%COMP%]{display:none}}@media (min-width: 1200px){.img-header[_ngcontent-%COMP%]{width:70%;position:relative;right:0;top:-60px}.img-title[_ngcontent-%COMP%]{width:30%;position:relative;top:70px}.img-photo[_ngcontent-%COMP%]{width:40%}.btn-see[_ngcontent-%COMP%]{width:350px;height:50px;font-size:2.8rem}.text-1[_ngcontent-%COMP%]{font-size:6.5rem}.text-2[_ngcontent-%COMP%]{font-size:3rem}.separator[_ngcontent-%COMP%]{width:40%}.img-date-ba[_ngcontent-%COMP%]{width:60%}.img-photo[_ngcontent-%COMP%]{width:30%}.img-date-party[_ngcontent-%COMP%]{width:40%}.card-gift[_ngcontent-%COMP%]{width:35%}.countdown__number[_ngcontent-%COMP%]{font-size:6rem}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:3rem}.cloud-0[_ngcontent-%COMP%]{top:5%;width:10%;right:-2%}.cloud-1[_ngcontent-%COMP%]{top:15%;left:-10%;width:20%}.cloud-2[_ngcontent-%COMP%]{top:40%;right:-5%;width:20%}.cloud-3[_ngcontent-%COMP%]{top:65%;left:-10%;width:20%}.cloud-4[_ngcontent-%COMP%]{bottom:0%;right:-2%;width:10%}.btn-see[_ngcontent-%COMP%]{display:none}}']})};var zb=[{path:"",redirectTo:"loading",pathMatch:"full"},{path:"bautizo",component:bc},{path:"loading",component:Ic},{path:"information",component:Sc},{path:"invitacion",component:Ru},{path:"mosaico",component:Ti},{path:"**",redirectTo:"loading"}];var Wb={providers:[wC(),q0({eventCoalescing:!0}),pw(zb)]};var Ou=class e{constructor(t){this.router=t}audio;animeIconMusic;playMusic=!1;open=!1;ngOnInit(){this.audio=new Audio("assets/img/countryside/music1.mp3"),this.audio.autoplay=!1,this.router.events.subscribe(t=>{t instanceof Cn&&this.onRouteChange()})}ngAfterViewInit(){setTimeout(()=>{this.getCurrentRoute().includes("/invitacion")||this.showQuestionMusic()},700)}animateMusic(){this.audio.play(),this.getCurrentRoute().includes("/loading")&&this.audio.pause(),this.animeIconMusic?this.animeIconMusic.play():this.animeIconMusic=this.animateIconMusic(1)}actionIconMusic(){this.open?this.hideQuestionMusic():this.showQuestionMusic()}showQuestionMusic(){this.open=!0,R({targets:".container-music",right:"0",background:"#EDEDFD",duration:1500,easing:"easeOutExpo"})}hideQuestionMusic(){this.open=!1,R({targets:".container-music",right:"-180px",background:"rgba(0, 0, 0, 0)",duration:1500,easing:"easeOutExpo"})}actionQuestionMusic(t){let n=document.querySelectorAll(".btn-music");n.forEach(r=>{r.style.opacity="0.7"}),n&&n.length>0&&(t==="yes"?(this.playMusic=!0,n[0].style.opacity="1",this.hideQuestionMusic(),this.animeIconMusic=this.animateIconMusic(0),this.animateMusic()):(this.playMusic=!1,this.audio.pause(),n[1].style.opacity="1",this.hideQuestionMusic(),this.animeIconMusic&&(this.animeIconMusic.pause(),this.animeIconMusic=this.animateIconMusic(1))))}animateIconMusic(t=0){return t===0?R({targets:".music",rotate:"1turn",easing:"linear",duration:6e3,loop:!0}):R({targets:".music",rotate:"0",easing:"linear",duration:1e3,loop:!1})}getCurrentRoute(){return this.router.url}onRouteChange(){console.log(this.getCurrentRoute()),this.getCurrentRoute().includes("/bautizo")&&this.playMusic&&this.audio.play()}static \u0275fac=function(n){return new(n||e)(Z(yt))};static \u0275cmp=ve({type:e,selectors:[["music"]],decls:9,vars:0,consts:[[1,"container-music"],["src","assets/img/countryside/music.png",1,"music",3,"click"],[1,"container-text"],[1,"text-music"],[1,"btn-music","btn-r",3,"click"],[1,"btn-music","btn-p",3,"click"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"img",1),Q("click",function(){return r.actionIconMusic()}),v(),m(2,"div",2)(3,"p",3),S(4,"\xBFReproducir audio?"),v(),m(5,"button",4),Q("click",function(){return r.actionQuestionMusic("yes")}),S(6,"Si"),v(),m(7,"button",5),Q("click",function(){return r.actionQuestionMusic("no")}),S(8,"No"),v()()())},styles:[".music[_ngcontent-%COMP%]{width:80px;padding:20px;opacity:1}.container-music[_ngcontent-%COMP%]{width:250px;height:70px;position:fixed;top:0;right:-180px;display:flex;justify-content:left;align-items:center;border-top-left-radius:30px;border-bottom-left-radius:30px;z-index:999}.btn-music[_ngcontent-%COMP%]{background:#ed1e79;width:80px;height:30px;opacity:.5;color:#fff;border:none}.text-music[_ngcontent-%COMP%]{height:30px;margin:0;display:flex;justify-content:center;align-items:center}.btn-r[_ngcontent-%COMP%]{border-top-left-radius:15px;border-bottom-left-radius:15px}.btn-p[_ngcontent-%COMP%]{border-top-right-radius:15px;border-bottom-right-radius:15px;opacity:1}"]})};var ku=class e{title="bautizo_sofia";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ve({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&A(0,"router-outlet")(1,"music")},dependencies:[tp,Ou],encapsulation:2})};NC(ku,Wb).catch(e=>console.error(e));
