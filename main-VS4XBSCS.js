import{A as da,B as co,C as av,D as lv,E as cv,F as P,G as Ke,H as Ie,I as qu,J as uv,K as uo,L as Ue,M as an,N as fa,O as Qu,P as dv,Q as Ur,R as fo,S as Zu,T as fv,U as hv,V as pv,W as Yu,X as gv,Y as Rn,Z as It,a as E,b as W,c as oe,d as Zm,e as la,f as Ym,g as Km,h as w,i as Br,j as ca,k as Xm,l as Jm,m as ev,n as Ae,o as tv,p as Gu,q as nv,r as Bt,s as rv,t as iv,u as ua,v as De,w as ov,x as sv,y as dt,z as Nn}from"./chunk-BYZX6JTN.js";function vv(e,t){return Object.is(e,t)}var Se=null,ha=!1,Ju=1,tt=Symbol("SIGNAL");function X(e){let t=Se;return Se=e,t}function yv(){return Se}var po={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ga(e){if(ha)throw new Error("");if(Se===null)return;Se.consumerOnSignalRead(e);let t=Se.nextProducerIndex++;if(ya(Se),t<Se.producerNode.length&&Se.producerNode[t]!==e&&ho(Se)){let n=Se.producerNode[t];va(n,Se.producerIndexOfThis[t])}Se.producerNode[t]!==e&&(Se.producerNode[t]=e,Se.producerIndexOfThis[t]=ho(Se)?Ev(e,Se,t):0),Se.producerLastReadVersion[t]=e.version}function rI(){Ju++}function _v(e){if(!(ho(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ju)){if(!e.producerMustRecompute(e)&&!td(e)){mv(e);return}e.producerRecomputeValue(e),mv(e)}}function Cv(e){if(e.liveConsumerNode===void 0)return;let t=ha;ha=!0;try{for(let n of e.liveConsumerNode)n.dirty||iI(n)}finally{ha=t}}function wv(){return Se?.consumerAllowSignalWrites!==!1}function iI(e){e.dirty=!0,Cv(e),e.consumerMarkedDirty?.(e)}function mv(e){e.dirty=!1,e.lastCleanEpoch=Ju}function ma(e){return e&&(e.nextProducerIndex=0),X(e)}function ed(e,t){if(X(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ho(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)va(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function td(e){ya(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(_v(n),r!==n.version))return!0}return!1}function nd(e){if(ya(e),ho(e))for(let t=0;t<e.producerNode.length;t++)va(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Ev(e,t,n){if(Dv(e),e.liveConsumerNode.length===0&&bv(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Ev(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function va(e,t){if(Dv(e),e.liveConsumerNode.length===1&&bv(e))for(let r=0;r<e.producerNode.length;r++)va(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ya(i),i.producerIndexOfThis[r]=t}}function ho(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ya(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Dv(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function bv(e){return e.producerNode!==void 0}function Iv(e){let t=Object.create(oI);t.computation=e;let n=()=>{if(_v(t),ga(t),t.value===pa)throw t.error;return t.value};return n[tt]=t,n}var Ku=Symbol("UNSET"),Xu=Symbol("COMPUTING"),pa=Symbol("ERRORED"),oI=W(E({},po),{value:Ku,dirty:!0,error:null,equal:vv,kind:"computed",producerMustRecompute(e){return e.value===Ku||e.value===Xu},producerRecomputeValue(e){if(e.value===Xu)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Xu;let n=ma(e),r,i=!1;try{r=e.computation(),X(null),i=t!==Ku&&t!==pa&&r!==pa&&e.equal(t,r)}catch(o){r=pa,e.error=o}finally{ed(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function sI(){throw new Error}var Sv=sI;function Mv(){Sv()}function Tv(e){Sv=e}var aI=null;function xv(e){let t=Object.create(rd);t.value=e;let n=()=>(ga(t),t.value);return n[tt]=t,n}function _a(e,t){wv()||Mv(),e.equal(e.value,t)||(e.value=t,lI(e))}function Av(e,t){wv()||Mv(),_a(e,t(e.value))}var rd=W(E({},po),{equal:vv,value:void 0,kind:"signal"});function lI(e){e.version++,rI(),Cv(e),aI?.()}function L(e){return typeof e=="function"}function $r(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ca=$r(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function rr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var _e=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(L(r))try{r()}catch(o){t=o instanceof Ca?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Nv(o)}catch(s){t=t??[],s instanceof Ca?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ca(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Nv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&rr(n,t)}remove(t){let{_finalizers:n}=this;n&&rr(n,t),t instanceof e&&t._removeParent(this)}};_e.EMPTY=(()=>{let e=new _e;return e.closed=!0,e})();var id=_e.EMPTY;function wa(e){return e instanceof _e||e&&"closed"in e&&L(e.remove)&&L(e.add)&&L(e.unsubscribe)}function Nv(e){L(e)?e():e.unsubscribe()}var St={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Hr={setTimeout(e,t,...n){let{delegate:r}=Hr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Hr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ea(e){Hr.setTimeout(()=>{let{onUnhandledError:t}=St;if(t)t(e);else throw e})}function ir(){}var Rv=od("C",void 0,void 0);function Ov(e){return od("E",void 0,e)}function kv(e){return od("N",e,void 0)}function od(e,t,n){return{kind:e,value:t,error:n}}var or=null;function zr(e){if(St.useDeprecatedSynchronousErrorHandling){let t=!or;if(t&&(or={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=or;if(or=null,n)throw r}}else e()}function Pv(e){St.useDeprecatedSynchronousErrorHandling&&or&&(or.errorThrown=!0,or.error=e)}var sr=class extends _e{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,wa(t)&&t.add(this)):this.destination=dI}static create(t,n,r){return new ln(t,n,r)}next(t){this.isStopped?ad(kv(t),this):this._next(t)}error(t){this.isStopped?ad(Ov(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ad(Rv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cI=Function.prototype.bind;function sd(e,t){return cI.call(e,t)}var ld=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Da(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Da(r)}else Da(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Da(n)}}},ln=class extends sr{constructor(t,n,r){super();let i;if(L(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&St.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&sd(t.next,o),error:t.error&&sd(t.error,o),complete:t.complete&&sd(t.complete,o)}):i=t}this.destination=new ld(i)}};function Da(e){St.useDeprecatedSynchronousErrorHandling?Pv(e):Ea(e)}function uI(e){throw e}function ad(e,t){let{onStoppedNotification:n}=St;n&&Hr.setTimeout(()=>n(e,t))}var dI={closed:!0,next:ir,error:uI,complete:ir};var Wr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ke(e){return e}function cd(...e){return ud(e)}function ud(e){return e.length===0?ke:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var $=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=hI(n)?n:new ln(n,r,i);return zr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Fv(r),new r((i,o)=>{let s=new ln({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Wr](){return this}pipe(...n){return ud(n)(this)}toPromise(n){return n=Fv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Fv(e){var t;return(t=e??St.Promise)!==null&&t!==void 0?t:Promise}function fI(e){return e&&L(e.next)&&L(e.error)&&L(e.complete)}function hI(e){return e&&e instanceof sr||fI(e)&&wa(e)}function dd(e){return L(e?.lift)}function U(e){return t=>{if(dd(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(e,t,n,r,i){return new fd(e,t,n,r,i)}var fd=class extends sr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Gr(){return U((e,t)=>{let n=null;e._refCount++;let r=V(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var qr=class extends ${constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,dd(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new _e;let n=this.getSubject();t.add(this.source.subscribe(V(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=_e.EMPTY)}return t}refCount(){return Gr()(this)}};var Lv=$r(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=(()=>{class e extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ba(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Lv}next(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?id:(this.currentObservers=null,o.push(n),new _e(()=>{this.currentObservers=null,rr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return e.create=(t,n)=>new ba(t,n),e})(),ba=class extends he{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:id}};var Pe=class extends he{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var go={now(){return(go.delegate||Date).now()},delegate:void 0};var mo=class extends he{constructor(t=1/0,n=1/0,r=go){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Ia=class extends _e{constructor(t,n){super()}schedule(t,n=0){return this}};var vo={setInterval(e,t,...n){let{delegate:r}=vo;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=vo;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Qr=class extends Ia{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return vo.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&vo.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,rr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Zr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Zr.now=go.now;var Yr=class extends Zr{constructor(t,n=Zr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var yo=new Yr(Qr);var Sa=class extends Qr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Ma=class extends Yr{};var hd=new Ma(Sa);var Ve=new $(e=>e.complete());function Vv(e){return e&&L(e.schedule)}function pd(e){return e[e.length-1]}function Kr(e){return L(pd(e))?e.pop():void 0}function Ut(e){return Vv(pd(e))?e.pop():void 0}function jv(e,t){return typeof pd(e)=="number"?e.pop():t}var Ta=e=>e&&typeof e.length=="number"&&typeof e!="function";function xa(e){return L(e?.then)}function Aa(e){return L(e[Wr])}function Na(e){return Symbol.asyncIterator&&L(e?.[Symbol.asyncIterator])}function Ra(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Oa=pI();function ka(e){return L(e?.[Oa])}function Pa(e){return Ym(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield la(n.read());if(i)return yield la(void 0);yield yield la(r)}}finally{n.releaseLock()}})}function Fa(e){return L(e?.getReader)}function le(e){if(e instanceof $)return e;if(e!=null){if(Aa(e))return gI(e);if(Ta(e))return mI(e);if(xa(e))return vI(e);if(Na(e))return Bv(e);if(ka(e))return yI(e);if(Fa(e))return _I(e)}throw Ra(e)}function gI(e){return new $(t=>{let n=e[Wr]();if(L(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mI(e){return new $(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function vI(e){return new $(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ea)})}function yI(e){return new $(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Bv(e){return new $(t=>{CI(e,t).catch(n=>t.error(n))})}function _I(e){return Bv(Pa(e))}function CI(e,t){var n,r,i,o;return Zm(this,void 0,void 0,function*(){try{for(n=Km(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Xe(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function $t(e,t=0){return U((n,r)=>{n.subscribe(V(r,i=>Xe(r,e,()=>r.next(i),t),()=>Xe(r,e,()=>r.complete(),t),i=>Xe(r,e,()=>r.error(i),t)))})}function cn(e,t=0){return U((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Uv(e,t){return le(e).pipe(cn(t),$t(t))}function $v(e,t){return le(e).pipe(cn(t),$t(t))}function Hv(e,t){return new $(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function zv(e,t){return new $(n=>{let r;return Xe(n,t,()=>{r=e[Oa](),Xe(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>L(r?.return)&&r.return()})}function La(e,t){if(!e)throw new Error("Iterable cannot be null");return new $(n=>{Xe(n,t,()=>{let r=e[Symbol.asyncIterator]();Xe(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Wv(e,t){return La(Pa(e),t)}function Gv(e,t){if(e!=null){if(Aa(e))return Uv(e,t);if(Ta(e))return Hv(e,t);if(xa(e))return $v(e,t);if(Na(e))return La(e,t);if(ka(e))return zv(e,t);if(Fa(e))return Wv(e,t)}throw Ra(e)}function se(e,t){return t?Gv(e,t):le(e)}function O(...e){let t=Ut(e);return se(e,t)}function Xr(e,t){let n=L(e)?e:()=>e,r=i=>i.error(n());return new $(t?i=>t.schedule(r,0,i):r)}function gd(e){return!!e&&(e instanceof $||L(e.lift)&&L(e.subscribe))}var un=$r(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function k(e,t){return U((n,r)=>{let i=0;n.subscribe(V(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:wI}=Array;function EI(e,t){return wI(t)?e(...t):e(t)}function Va(e){return k(t=>EI(e,t))}var{isArray:DI}=Array,{getPrototypeOf:bI,prototype:II,keys:SI}=Object;function ja(e){if(e.length===1){let t=e[0];if(DI(t))return{args:t,keys:null};if(MI(t)){let n=SI(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function MI(e){return e&&typeof e=="object"&&bI(e)===II}function Ba(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ua(...e){let t=Ut(e),n=Kr(e),{args:r,keys:i}=ja(e);if(r.length===0)return se([],t);let o=new $(TI(r,t,i?s=>Ba(i,s):ke));return n?o.pipe(Va(n)):o}function TI(e,t,n=ke){return r=>{qv(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)qv(t,()=>{let c=se(e[l],t),u=!1;c.subscribe(V(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function qv(e,t,n){e?Xe(n,e,t):t()}function Qv(e,t,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},h=v=>c<r?p(v):l.push(v),p=v=>{o&&t.next(v),c++;let y=!1;le(n(v,u++)).subscribe(V(t,I=>{i?.(I),o?h(I):t.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let I=l.shift();s?Xe(t,s,()=>p(I)):p(I)}f()}catch(I){t.error(I)}}))};return e.subscribe(V(t,h,()=>{d=!0,f()})),()=>{a?.()}}function Me(e,t,n=1/0){return L(t)?Me((r,i)=>k((o,s)=>t(r,o,i,s))(le(e(r,i))),n):(typeof t=="number"&&(n=t),U((r,i)=>Qv(r,i,e,n)))}function _o(e=1/0){return Me(ke,e)}function Zv(){return _o(1)}function Jr(...e){return Zv()(se(e,Ut(e)))}function $a(e){return new $(t=>{le(e()).subscribe(t)})}function md(...e){let t=Kr(e),{args:n,keys:r}=ja(e),i=new $(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;le(n[u]).subscribe(V(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Ba(r,a):a),o.complete())}))}});return t?i.pipe(Va(t)):i}function ei(...e){let t=Ut(e),n=jv(e,1/0),r=e;return r.length?r.length===1?le(r[0]):_o(n)(se(r,t)):Ve}function $e(e,t){return U((n,r)=>{let i=0;n.subscribe(V(r,o=>e.call(t,o,i++)&&r.next(o)))})}function On(e){return U((t,n)=>{let r=null,i=!1,o;r=t.subscribe(V(n,void 0,void 0,s=>{o=le(e(s,On(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Yv(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(V(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function kn(e,t){return L(t)?Me(e,t,1):Me(e,1)}function Pn(e){return U((t,n)=>{let r=!1;t.subscribe(V(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function dn(e){return e<=0?()=>Ve:U((t,n)=>{let r=0;t.subscribe(V(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function vd(e,t=ke){return e=e??xI,U((n,r)=>{let i,o=!0;n.subscribe(V(r,s=>{let a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function xI(e,t){return e===t}function Ha(e=AI){return U((t,n)=>{let r=!1;t.subscribe(V(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function AI(){return new un}function ar(e){return U((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Mt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?$e((i,o)=>e(i,o,r)):ke,dn(1),n?Pn(t):Ha(()=>new un))}function ti(e){return e<=0?()=>Ve:U((t,n)=>{let r=[];t.subscribe(V(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function yd(e,t){let n=arguments.length>=2;return r=>r.pipe(e?$e((i,o)=>e(i,o,r)):ke,ti(1),n?Pn(t):Ha(()=>new un))}function ni(e,t){return U(Yv(e,t,arguments.length>=2,!0))}function Co(e={}){let{connector:t=()=>new he,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{let v=s;h(),v?.unsubscribe()};return U((v,y)=>{c++,!d&&!u&&f();let I=l=l??t();y.add(()=>{c--,c===0&&!d&&!u&&(a=_d(p,i))}),I.subscribe(y),!s&&c>0&&(s=new ln({next:z=>I.next(z),error:z=>{d=!0,f(),a=_d(h,n,z),I.error(z)},complete:()=>{u=!0,f(),a=_d(h,r),I.complete()}}),le(v).subscribe(s))})(o)}}function _d(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new ln({next:()=>{r.unsubscribe(),e()}});return le(t(...n)).subscribe(r)}function za(e,t,n){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e:r=e??1/0,Co({connector:()=>new mo(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Cd(e){return U((t,n)=>{let r=!1,i=0;t.subscribe(V(n,o=>(r||(r=!e(o,i++)))&&n.next(o)))})}function wd(...e){let t=Ut(e);return U((n,r)=>{(t?Jr(e,n,t):Jr(e,n)).subscribe(r)})}function pe(e,t){return U((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(V(r,l=>{i?.unsubscribe();let c=0,u=o++;le(e(l,u)).subscribe(i=V(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wa(e,t){return L(t)?pe(()=>e,t):pe(()=>e)}function Ed(e){return U((t,n)=>{le(e).subscribe(V(n,()=>n.complete(),ir)),!n.closed&&t.subscribe(n)})}function Ne(e,t,n){let r=L(e)||t||n?{next:e,error:t,complete:n}:e;return r?U((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(V(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ke}function Dd(...e){let t=Kr(e);return U((n,r)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)le(e[l]).subscribe(V(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(ke))&&(s=null))},ir));n.subscribe(V(r,l=>{if(a){let c=[l,...o];r.next(t?t(...c):c)}}))})}var Ly="https://g.co/ng/security#xss",x=class extends Error{code;constructor(t,n){super(Il(t,n)),this.code=t}};function Il(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var Vy=Symbol("InputSignalNode#UNSET"),NI=W(E({},rd),{transformFn:void 0,applyValueToInputSignal(e,t){_a(e,t)}});function jy(e,t){let n=Object.create(NI);n.value=e,n.transformFn=t?.transform;function r(){if(ga(n),n.value===Vy)throw new x(-950,!1);return n.value}return r[tt]=n,r}function Oo(e){return{toString:e}.toString()}var Ga="__parameters__";function RI(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function By(e,t,n){return Oo(()=>{let r=RI(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ga)?l[Ga]:Object.defineProperty(l,Ga,{value:[]})[Ga];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("Could not find renamed property on target object.")}function OI(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ze(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(ze).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Kv(e,t){return e?t?`${e} ${t}`:e:t||""}var kI=ce({__forward_ref__:ce});function vi(e){return e.__forward_ref__=vi,e.toString=function(){return ze(this())},e}function He(e){return Uy(e)?e():e}function Uy(e){return typeof e=="function"&&e.hasOwnProperty(kI)&&e.__forward_ref__===vi}function A(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function At(e){return{providers:e.providers||[],imports:e.imports||[]}}function Sl(e){return Xv(e,Hy)||Xv(e,zy)}function $y(e){return Sl(e)!==null}function Xv(e,t){return e.hasOwnProperty(t)?e[t]:null}function PI(e){let t=e&&(e[Hy]||e[zy]);return t||null}function Jv(e){return e&&(e.hasOwnProperty(ey)||e.hasOwnProperty(FI))?e[ey]:null}var Hy=ce({\u0275prov:ce}),ey=ce({\u0275inj:ce}),zy=ce({ngInjectableDef:ce}),FI=ce({ngInjectorDef:ce}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=A({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Wy(e){return e&&!!e.\u0275providers}var LI=ce({\u0275cmp:ce}),VI=ce({\u0275dir:ce}),jI=ce({\u0275pipe:ce}),BI=ce({\u0275mod:ce}),Ja=ce({\u0275fac:ce}),bo=ce({__NG_ELEMENT_ID__:ce}),ty=ce({__NG_ENV_ID__:ce});function Ml(e){return typeof e=="string"?e:e==null?"":String(e)}function UI(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ml(e)}function $I(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new x(-200,e)}function Mf(e,t){throw new x(-201,!1)}var q=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(q||{}),Ld;function Gy(){return Ld}function ft(e){let t=Ld;return Ld=e,t}function qy(e,t,n){let r=Sl(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&q.Optional)return null;if(t!==void 0)return t;Mf(e,"Injector")}var HI={},Io=HI,Vd="__NG_DI_FLAG__",el="ngTempTokenPath",zI="ngTokenPath",WI=/\n/gm,GI="\u0275",ny="__source",si;function qI(){return si}function Fn(e){let t=si;return si=e,t}function QI(e,t=q.Default){if(si===void 0)throw new x(-203,!1);return si===null?qy(e,void 0,t):si.get(e,t&q.Optional?null:void 0,t)}function b(e,t=q.Default){return(Gy()||QI)(He(e),t)}function C(e,t=q.Default){return b(e,Tl(t))}function Tl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function jd(e){let t=[];for(let n=0;n<e.length;n++){let r=He(e[n]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=ZI(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(b(i,o))}else t.push(b(r))}return t}function Qy(e,t){return e[Vd]=t,e.prototype[Vd]=t,e}function ZI(e){return e[Vd]}function YI(e,t,n,r){let i=e[el];throw t[ny]&&i.unshift(t[ny]),e.message=KI(`
`+e.message,i,n,r),e[zI]=i,e[el]=null,e}function KI(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==GI?e.slice(2):e;let i=ze(t);if(Array.isArray(t))i=t.map(ze).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(WI,`
  `)}`}var xl=Qy(By("Optional"),8);var Zy=Qy(By("SkipSelf"),4);function li(e,t){let n=e.hasOwnProperty(Ja);return n?e[Ja]:null}function Tf(e,t){e.forEach(n=>Array.isArray(n)?Tf(n,t):t(n))}function Yy(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function tl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function XI(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function JI(e,t,n){let r=ko(e,t);return r>=0?e[r|1]=n:(r=~r,XI(e,r,t,n)),r}function bd(e,t){let n=ko(e,t);if(n>=0)return e[n|1]}function ko(e,t){return eS(e,t,1)}function eS(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var cr={},ht=[],ci=new S(""),Ky=new S("",-1),Xy=new S(""),nl=class{get(t,n=Io){if(n===Io){let r=new Error(`NullInjectorError: No provider for ${ze(t)}!`);throw r.name="NullInjectorError",r}return n}};function Jy(e,t){let n=e[BI]||null;if(!n&&t===!0)throw new Error(`Type ${ze(e)} does not have '\u0275mod' property.`);return n}function ur(e){return e[LI]||null}function e_(e){return e[VI]||null}function t_(e){return e[jI]||null}function n_(e){let t=ur(e)||e_(e)||t_(e);return t!==null&&t.standalone}function yi(e){return{\u0275providers:e}}function tS(...e){return{\u0275providers:r_(!0,e),\u0275fromNgModule:!0}}function r_(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Tf(t,s=>{let a=s;Bd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&i_(i,o),n}function i_(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];xf(i,o=>{t(o,r)})}}function Bd(e,t,n,r){if(e=He(e),!e)return!1;let i=null,o=Jv(e),s=!o&&ur(e);if(!o&&!s){let l=e.ngModule;if(o=Jv(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Bd(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Tf(o.imports,u=>{Bd(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&i_(c,t)}if(!a){let c=li(i)||(()=>new i);t({provide:i,useFactory:c,deps:ht},i),t({provide:Xy,useValue:i,multi:!0},i),t({provide:ci,useValue:()=>b(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;xf(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function xf(e,t){for(let n of e)Wy(n)&&(n=n.\u0275providers),Array.isArray(n)?xf(n,t):t(n)}var nS=ce({provide:String,useValue:ce});function o_(e){return e!==null&&typeof e=="object"&&nS in e}function rS(e){return!!(e&&e.useExisting)}function iS(e){return!!(e&&e.useFactory)}function ui(e){return typeof e=="function"}function oS(e){return!!e.useClass}var Al=new S(""),Qa={},sS={},Id;function Af(){return Id===void 0&&(Id=new nl),Id}var Te=class{},So=class extends Te{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,$d(t,s=>this.processProvider(s)),this.records.set(Ky,ri(void 0,this)),i.has("environment")&&this.records.set(Te,ri(void 0,this));let o=this.records.get(Al);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Xy,ht,q.Self))}destroy(){Eo(this),this._destroyed=!0;let t=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(t)}}onDestroy(t){return Eo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Eo(this);let n=Fn(this),r=ft(void 0),i;try{return t()}finally{Fn(n),ft(r)}}get(t,n=Io,r=q.Default){if(Eo(this),t.hasOwnProperty(ty))return t[ty](this);r=Tl(r);let i,o=Fn(this),s=ft(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=dS(t)&&Sl(t);c&&this.injectableDefInScope(c)?l=ri(Ud(t),Qa):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&q.Self?Af():this.parent;return n=r&q.Optional&&n===Io?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[el]=a[el]||[]).unshift(ze(t)),o)throw a;return YI(a,t,"R3InjectorError",this.source)}else throw a}finally{ft(s),Fn(o)}}resolveInjectorInitializers(){let t=X(null),n=Fn(this),r=ft(void 0),i;try{let o=this.get(ci,ht,q.Self);for(let s of o)s()}finally{Fn(n),ft(r),X(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(ze(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=He(t);let n=ui(t)?t:He(t&&t.provide),r=lS(t);if(!ui(t)&&t.multi===!0){let i=this.records.get(n);i||(i=ri(void 0,Qa,!0),i.factory=()=>jd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=X(null);try{return n.value===Qa&&(n.value=sS,n.value=n.factory()),typeof n.value=="object"&&n.value&&uS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{X(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=He(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ud(e){let t=Sl(e),n=t!==null?t.factory:li(e);if(n!==null)return n;if(e instanceof S)throw new x(204,!1);if(e instanceof Function)return aS(e);throw new x(204,!1)}function aS(e){if(e.length>0)throw new x(204,!1);let n=PI(e);return n!==null?()=>n.factory(e):()=>new e}function lS(e){if(o_(e))return ri(void 0,e.useValue);{let t=s_(e);return ri(t,Qa)}}function s_(e,t,n){let r;if(ui(e)){let i=He(e);return li(i)||Ud(i)}else if(o_(e))r=()=>He(e.useValue);else if(iS(e))r=()=>e.useFactory(...jd(e.deps||[]));else if(rS(e))r=()=>b(He(e.useExisting));else{let i=He(e&&(e.useClass||e.provide));if(cS(e))r=()=>new i(...jd(e.deps));else return li(i)||Ud(i)}return r}function Eo(e){if(e.destroyed)throw new x(205,!1)}function ri(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function cS(e){return!!e.deps}function uS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function dS(e){return typeof e=="function"||typeof e=="object"&&e instanceof S}function $d(e,t){for(let n of e)Array.isArray(n)?$d(n,t):n&&Wy(n)?$d(n.\u0275providers,t):t(n)}function Je(e,t){e instanceof So&&Eo(e);let n,r=Fn(e),i=ft(void 0);try{return t()}finally{Fn(r),ft(i)}}function a_(){return Gy()!==void 0||qI()!=null}function l_(e){if(!a_())throw new x(-203,!1)}function fS(e){return typeof e=="function"}var mn=0,J=1,j=2,We=3,xt=4,Nt=5,rl=6,il=7,mt=8,Mo=9,fn=10,xe=11,To=12,ry=13,_i=14,zt=15,di=16,ii=17,fi=18,Nl=19,c_=20,Ln=21,Sd=22,ol=23,nt=24,hn=25,u_=1;var dr=7,sl=8,al=9,gt=10;function Vn(e){return Array.isArray(e)&&typeof e[u_]=="object"}function vn(e){return Array.isArray(e)&&e[u_]===!0}function d_(e){return(e.flags&4)!==0}function vr(e){return e.componentOffset>-1}function Nf(e){return(e.flags&1)===1}function pn(e){return!!e.template}function ll(e){return(e[j]&512)!==0}function Po(e){return(e[j]&256)===256}var Hd=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function f_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var $n=(()=>{let e=()=>h_;return e.ngInherit=!0,e})();function h_(e){return e.type.prototype.ngOnChanges&&(e.setInput=pS),hS}function hS(){let e=g_(this),t=e?.current;if(t){let n=e.previous;if(n===cr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function pS(e,t,n,r,i){let o=this.declaredInputs[r],s=g_(e)||gS(e,{previous:cr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Hd(c&&c.currentValue,n,l===cr),f_(e,t,i,n)}var p_="__ngSimpleChanges__";function g_(e){return e[p_]||null}function gS(e,t){return e[p_]=t}var iy=null;var pt=function(e,t,n){iy?.(e,t,n)},mS="svg",vS="math";function Wt(e){for(;Array.isArray(e);)e=e[mn];return e}function m_(e,t){return Wt(t[e])}function Rt(e,t){return Wt(t[e.index])}function v_(e,t){return e.data[t]}function Gt(e,t){let n=t[e];return Vn(n)?n:n[mn]}function Rf(e){return(e[j]&128)===128}function yS(e){return vn(e[We])}function cl(e,t){return t==null?null:e[t]}function y_(e){e[ii]=0}function Of(e){e[j]&1024||(e[j]|=1024,Rf(e)&&Ol(e))}function _S(e,t){for(;e>0;)t=t[_i],e--;return t}function Rl(e){return!!(e[j]&9216||e[nt]?.dirty)}function zd(e){e[fn].changeDetectionScheduler?.notify(9),e[j]&64&&(e[j]|=1024),Rl(e)&&Ol(e)}function Ol(e){e[fn].changeDetectionScheduler?.notify(0);let t=fr(e);for(;t!==null&&!(t[j]&8192||(t[j]|=8192,!Rf(t)));)t=fr(t)}function __(e,t){if(Po(e))throw new x(911,!1);e[Ln]===null&&(e[Ln]=[]),e[Ln].push(t)}function CS(e,t){if(e[Ln]===null)return;let n=e[Ln].indexOf(t);n!==-1&&e[Ln].splice(n,1)}function fr(e){let t=e[We];return vn(t)?t[We]:t}function wS(e){return e[il]??=[]}function ES(e){return e.cleanup??=[]}var K={lFrame:S_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Wd=!1;function DS(){return K.lFrame.elementDepthCount}function bS(){K.lFrame.elementDepthCount++}function IS(){K.lFrame.elementDepthCount--}function kf(){return K.bindingsEnabled}function SS(){return K.skipHydrationRootTNode!==null}function MS(e){return K.skipHydrationRootTNode===e}function TS(){K.skipHydrationRootTNode=null}function ge(){return K.lFrame.lView}function it(){return K.lFrame.tView}function yn(e){return K.lFrame.contextLView=e,e[mt]}function _n(e){return K.lFrame.contextLView=null,e}function vt(){let e=C_();for(;e!==null&&e.type===64;)e=e.parent;return e}function C_(){return K.lFrame.currentTNode}function xS(){let e=K.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Fo(e,t){let n=K.lFrame;n.currentTNode=e,n.isParent=t}function w_(){return K.lFrame.isParent}function AS(){K.lFrame.isParent=!1}function E_(){return Wd}function oy(e){let t=Wd;return Wd=e,t}function NS(){let e=K.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function RS(e){return K.lFrame.bindingIndex=e}function kl(){return K.lFrame.bindingIndex++}function OS(e){let t=K.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function kS(){return K.lFrame.inI18n}function PS(e,t){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=e,Gd(t)}function FS(){return K.lFrame.currentDirectiveIndex}function Gd(e){K.lFrame.currentDirectiveIndex=e}function LS(e){let t=K.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function D_(e){K.lFrame.currentQueryIndex=e}function VS(e){let t=e[J];return t.type===2?t.declTNode:t.type===1?e[Nt]:null}function b_(e,t,n){if(n&q.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&q.Host);)if(i=VS(o),i===null||(o=o[_i],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=K.lFrame=I_();return r.currentTNode=t,r.lView=e,!0}function Pf(e){let t=I_(),n=e[J];K.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function I_(){let e=K.lFrame,t=e===null?null:e.child;return t===null?S_(e):t}function S_(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function M_(){let e=K.lFrame;return K.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var T_=M_;function Ff(){let e=M_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jS(e){return(K.lFrame.contextLView=_S(e,K.lFrame.contextLView))[mt]}function Ci(){return K.lFrame.selectedIndex}function hr(e){K.lFrame.selectedIndex=e}function Lf(){let e=K.lFrame;return v_(e.tView,e.selectedIndex)}function BS(){return K.lFrame.currentNamespace}var x_=!0;function Vf(){return x_}function jf(e){x_=e}function US(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=h_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function A_(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function Za(e,t,n){N_(e,t,3,n)}function Ya(e,t,n,r){(e[j]&3)===n&&N_(e,t,n,r)}function Md(e,t){let n=e[j];(n&3)===t&&(n&=16383,n+=1,e[j]=n)}function N_(e,t,n,r){let i=r!==void 0?e[ii]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[ii]+=65536),(a<o||o==-1)&&($S(e,n,t,l),e[ii]=(e[ii]&4294901760)+l+2),l++}function sy(e,t){pt(4,e,t);let n=X(null);try{t.call(e)}finally{X(n),pt(5,e,t)}}function $S(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[j]>>14<e[ii]>>16&&(e[j]&3)===t&&(e[j]+=16384,sy(a,o)):sy(a,o)}var ai=-1,pr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function HS(e){return e instanceof pr}function zS(e){return(e.flags&8)!==0}function WS(e){return(e.flags&16)!==0}function GS(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];QS(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function qS(e){return e===3||e===4||e===6}function QS(e){return e.charCodeAt(0)===64}function xo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ay(e,n,i,null,t[++r]):ay(e,n,i,null,null))}}return e}function ay(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Td={},qd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Tl(r);let i=this.injector.get(t,Td,r);return i!==Td||n===Td?i:this.parentInjector.get(t,n,r)}};function R_(e){return e!==ai}function ul(e){return e&32767}function ZS(e){return e>>16}function dl(e,t){let n=ZS(e),r=t;for(;n>0;)r=r[_i],n--;return r}var Qd=!0;function ly(e){let t=Qd;return Qd=e,t}var YS=256,O_=YS-1,k_=5,KS=0,Ht={};function XS(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(bo)&&(r=n[bo]),r==null&&(r=n[bo]=KS++);let i=r&O_,o=1<<i;t.data[e+(i>>k_)]|=o}function fl(e,t){let n=P_(e,t);if(n!==-1)return n;let r=t[J];r.firstCreatePass&&(e.injectorIndex=t.length,xd(r.data,e),xd(t,null),xd(r.blueprint,null));let i=Bf(e,t),o=e.injectorIndex;if(R_(i)){let s=ul(i),a=dl(i,t),l=a[J].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function xd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function P_(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Bf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=B_(i),r===null)return ai;if(n++,i=i[_i],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ai}function Zd(e,t,n){XS(e,t,n)}function F_(e,t,n){if(n&q.Optional||e!==void 0)return e;Mf(t,"NodeInjector")}function L_(e,t,n,r){if(n&q.Optional&&r===void 0&&(r=null),!(n&(q.Self|q.Host))){let i=e[Mo],o=ft(void 0);try{return i?i.get(t,r,n&q.Optional):qy(t,r,n&q.Optional)}finally{ft(o)}}return F_(r,t,n)}function V_(e,t,n,r=q.Default,i){if(e!==null){if(t[j]&2048&&!(r&q.Self)){let s=rM(e,t,n,r,Ht);if(s!==Ht)return s}let o=j_(e,t,n,r,Ht);if(o!==Ht)return o}return L_(t,n,r,i)}function j_(e,t,n,r,i){let o=tM(n);if(typeof o=="function"){if(!b_(t,e,r))return r&q.Host?F_(i,n,r):L_(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&q.Optional))Mf(n);else return s}finally{T_()}}else if(typeof o=="number"){let s=null,a=P_(e,t),l=ai,c=r&q.Host?t[zt][Nt]:null;for((a===-1||r&q.SkipSelf)&&(l=a===-1?Bf(e,t):t[a+8],l===ai||!uy(r,!1)?a=-1:(s=t[J],a=ul(l),t=dl(l,t)));a!==-1;){let u=t[J];if(cy(o,a,u.data)){let d=JS(a,t,n,s,r,c);if(d!==Ht)return d}l=t[a+8],l!==ai&&uy(r,t[J].data[a+8]===c)&&cy(o,a,t)?(s=u,a=ul(l),t=dl(l,t)):a=-1}}return i}function JS(e,t,n,r,i,o){let s=t[J],a=s.data[e+8],l=r==null?vr(a)&&Qd:r!=s&&(a.type&3)!==0,c=i&q.Host&&o===a,u=eM(a,s,n,l,c);return u!==null?hl(t,s,u,a):Ht}function eM(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=s[l];if(h&&pn(h)&&h.type===n)return l}return null}function hl(e,t,n,r){let i=e[n],o=t.data;if(HS(i)){let s=i;s.resolving&&$I(UI(o[n]));let a=ly(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?ft(s.injectImpl):null,u=b_(e,r,q.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&US(n,o[n],t)}finally{c!==null&&ft(c),ly(a),s.resolving=!1,T_()}}return i}function tM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(bo)?e[bo]:void 0;return typeof t=="number"?t>=0?t&O_:nM:t}function cy(e,t,n){let r=1<<e;return!!(n[t+(e>>k_)]&r)}function uy(e,t){return!(e&q.Self)&&!(e&q.Host&&t)}var lr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return V_(this._tNode,this._lView,t,Tl(r),n)}};function nM(){return new lr(vt(),ge())}function wi(e){return Oo(()=>{let t=e.prototype.constructor,n=t[Ja]||Yd(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ja]||Yd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Yd(e){return Uy(e)?()=>{let t=Yd(He(e));return t&&t()}:li(e)}function rM(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[j]&2048&&!ll(s);){let a=j_(o,s,n,r|q.Self,Ht);if(a!==Ht)return a;let l=o.parent;if(!l){let c=s[c_];if(c){let u=c.get(n,Ht,r);if(u!==Ht)return u}l=B_(s),s=s[_i]}o=l}return i}function B_(e){let t=e[J],n=t.type;return n===2?t.declTNode:n===1?e[Nt]:null}function dy(e,t=null,n=null,r){let i=U_(e,t,n,r);return i.resolveInjectorInitializers(),i}function U_(e,t=null,n=null,r,i=new Set){let o=[n||ht,tS(e)];return r=r||(typeof e=="object"?void 0:ze(e)),new So(o,t||Af(),r||null,i)}var rt=class e{static THROW_IF_NOT_FOUND=Io;static NULL=new nl;static create(t,n){if(Array.isArray(t))return dy({name:""},n,t,"");{let r=t.name??"";return dy({name:r},t.parent,t.providers,r)}}static \u0275prov=A({token:e,providedIn:"any",factory:()=>b(Ky)});static __NG_ELEMENT_ID__=-1};var iM=new S("");iM.__NG_ELEMENT_ID__=e=>{let t=vt();if(t===null)throw new x(204,!1);if(t.type&2)return t.value;if(e&q.Optional)return null;throw new x(204,!1)};var $_=!1,Lo=(()=>{class e{static __NG_ELEMENT_ID__=oM;static __NG_ENV_ID__=n=>n}return e})(),Kd=class extends Lo{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return __(this._lView,t),()=>CS(this._lView,t)}};function oM(){return new Kd(ge())}var hi=class{},Pl=new S("",{providedIn:"root",factory:()=>!1});var H_=new S(""),z_=new S(""),Cn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Pe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})(),Uf=(()=>{class e{internalPendingTasks=C(Cn);scheduler=C(hi);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(n))}}run(n){return oe(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})(),Xd=class extends he{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,a_()&&(this.destroyRef=C(Lo,{optional:!0})??void 0,this.pendingTasks=C(Cn,{optional:!0})??void 0)}emit(t){let n=X(null);try{super.next(t)}finally{X(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof _e&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Fe=Xd;function pl(...e){}function W_(e){let t,n;function r(){e=pl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function fy(e){return queueMicrotask(()=>e()),()=>{e=pl}}var $f="isAngularZone",gl=$f+"_ID",sM=0,ee=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Fe(!1);onMicrotaskEmpty=new Fe(!1);onStable=new Fe(!1);onError=new Fe(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=$_}=t;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,cM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($f)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new x(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,aM,pl,pl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},aM={};function Hf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function lM(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){W_(()=>{e.callbackScheduled=!1,Jd(e),e.isCheckStableRunning=!0,Hf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Jd(e)}function cM(e){let t=()=>{lM(e)},n=sM++;e._inner=e._inner.fork({name:"angular",properties:{[$f]:!0,[gl]:n,[gl+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(uM(l))return r.invokeTask(o,s,a,l);try{return hy(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),py(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return hy(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!dM(l)&&t(),py(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Jd(e),Hf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Jd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function hy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function py(e){e._nesting--,Hf(e)}var ef=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Fe;onMicrotaskEmpty=new Fe;onStable=new Fe;onError=new Fe;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function uM(e){return G_(e,"__ignore_ng_zone__")}function dM(e){return G_(e,"__scheduler_tick__")}function G_(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var jn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},fM=new S("",{providedIn:"root",factory:()=>{let e=C(ee),t=C(jn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function gy(e,t){return jy(e,t)}function hM(e){return jy(Vy,e)}var q_=(gy.required=hM,gy);function pM(){return Fl(vt(),ge())}function Fl(e,t){return new wn(Rt(e,t))}var wn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=pM}return e})();var my=new Set;function Ei(e){my.has(e)||(my.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function gM(e){return typeof e=="function"&&e[tt]!==void 0}function Vo(e,t){Ei("NgSignals");let n=xv(e),r=n[tt];return t?.equal&&(r.equal=t.equal),n.set=i=>_a(r,i),n.update=i=>Av(r,i),n.asReadonly=mM.bind(n),n}function mM(){let e=this[tt];if(e.readonlyFn===void 0){let t=()=>this();t[tt]=e,e.readonlyFn=t}return e.readonlyFn}function Q_(e){return gM(e)&&typeof e.set=="function"}function Z_(e){return(e.flags&128)===128}var Y_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Y_||{}),K_=new Map,vM=0;function yM(){return vM++}function _M(e){K_.set(e[Nl],e)}function tf(e){K_.delete(e[Nl])}var vy="__ngContext__";function Di(e,t){Vn(t)?(e[vy]=t[Nl],_M(t)):e[vy]=t}function X_(e){return e0(e[To])}function J_(e){return e0(e[xt])}function e0(e){for(;e!==null&&!vn(e);)e=e[xt];return e}var nf;function t0(e){nf=e}function CM(){if(nf!==void 0)return nf;if(typeof document<"u")return document;throw new x(210,!1)}var zf=new S("",{providedIn:"root",factory:()=>wM}),wM="ng",Wf=new S(""),yt=new S("",{providedIn:"platform",factory:()=>"unknown"});var Gf=new S("",{providedIn:"root",factory:()=>CM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var EM="h",DM="b";var n0=!1,bM=new S("",{providedIn:"root",factory:()=>n0});var r0=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(r0||{}),Ll=new S("");var IM=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})();var SM=()=>null;function i0(e,t,n=!1){return SM(e,t,n)}function o0(e,t){let n=e.contentQueries;if(n!==null){let r=X(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];D_(o),a.contentQueries(2,t[s],s)}}}finally{X(r)}}}function rf(e,t,n){D_(0);let r=X(null);try{t(e,n)}finally{X(r)}}function s0(e,t,n){if(d_(t)){let r=X(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{X(r)}}}var qt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(qt||{});var ml=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ly})`}};function Vl(e){return e instanceof ml?e.changingThisBreaksApplicationSecurity:e}function a0(e,t){let n=MM(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Ly})`)}return n===t}function MM(e){return e instanceof ml&&e.getTypeName()||null}var TM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function l0(e){return e=String(e),e.match(TM)?e:"unsafe:"+e}var qf=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(qf||{});function bi(e){let t=xM();return t?t.sanitize(qf.URL,e)||"":a0(e,"URL")?Vl(e):l0(Ml(e))}function xM(){let e=ge();return e&&e[fn].sanitizer}function c0(e){return e.ownerDocument.defaultView}function u0(e){return e.ownerDocument}function d0(e){return e instanceof Function?e():e}function AM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var f0="ng-template";function NM(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&AM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Qf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Qf(e){return e.type===4&&e.value!==f0}function RM(e,t,n){let r=e.type===4&&!n?f0:e.value;return t===r}function OM(e,t,n){let r=4,i=e.attrs,o=i!==null?FM(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Tt(r)&&!Tt(l))return!1;if(s&&Tt(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!RM(e,l,n)||l===""&&t.length===1){if(Tt(r))return!1;s=!0}}else if(r&8){if(i===null||!NM(e,i,l,n)){if(Tt(r))return!1;s=!0}}else{let c=t[++a],u=kM(l,i,Qf(e),n);if(u===-1){if(Tt(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Tt(r))return!1;s=!0}}}}return Tt(r)||s}function Tt(e){return(e&1)===0}function kM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return LM(t,e)}function PM(e,t,n=!1){for(let r=0;r<t.length;r++)if(OM(e,t[r],n))return!0;return!1}function FM(e){for(let t=0;t<e.length;t++){let n=e[t];if(qS(n))return t}return e.length}function LM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function yy(e,t){return e?":not("+t.trim()+")":t}function VM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tt(s)&&(t+=yy(o,i),i=""),r=s,o=o||!Tt(r);n++}return i!==""&&(t+=yy(o,i)),t}function jM(e){return e.map(VM).join(",")}function BM(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Tt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var yr={};function UM(e,t){return e.createText(t)}function $M(e,t,n){e.setValue(t,n)}function h0(e,t,n){return e.createElement(t,n)}function vl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function p0(e,t,n){e.appendChild(t,n)}function _y(e,t,n,r,i){r!==null?vl(e,t,n,r,i):p0(e,t,n)}function HM(e,t,n){e.removeChild(null,t,n)}function zM(e,t,n){e.setAttribute(t,"style",n)}function WM(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function g0(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&GS(e,t,r),i!==null&&WM(e,t,i),o!==null&&zM(e,t,o)}function Zf(e,t,n,r,i,o,s,a,l,c,u){let d=hn+r,f=d+i,h=GM(d,f),p=typeof c=="function"?c():c;return h[J]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function GM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:yr);return n}function qM(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Zf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Yf(e,t,n,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[mn]=i,d[j]=r|4|128|8|64|1024,(c!==null||e&&e[j]&2048)&&(d[j]|=2048),y_(d),d[We]=d[_i]=e,d[mt]=n,d[fn]=s||e&&e[fn],d[xe]=a||e&&e[xe],d[Mo]=l||e&&e[Mo]||null,d[Nt]=o,d[Nl]=yM(),d[rl]=u,d[c_]=c,d[zt]=t.type==2?e[zt]:d,d}function QM(e,t,n){let r=Rt(t,e),i=qM(n),o=e[fn].rendererFactory,s=Kf(e,Yf(e,i,null,m0(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function m0(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function v0(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Kf(e,t){return e[To]?e[ry][xt]=t:e[To]=t,e[ry]=t,t}function re(e=1){y0(it(),ge(),Ci()+e,!1)}function y0(e,t,n,r){if(!r)if((t[j]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Za(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Ya(t,o,0,n)}hr(n)}var jl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(jl||{});function _0(e,t,n,r){let i=X(null);try{let[o,s,a]=e.inputs[n],l=null;s&jl.SignalBased&&(l=t[o][tt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):f_(t,l,o,r)}finally{X(i)}}function C0(e,t,n,r,i){let o=Ci(),s=r&2;try{hr(-1),s&&t.length>hn&&y0(e,t,hn,!1),pt(s?2:0,i),n(r,i)}finally{hr(o),pt(s?3:1,i)}}function w0(e,t,n){kf()&&(Di(Rt(n,t),t),E0(e,t,n))}function E0(e,t,n){eT(e,t,n),(n.flags&64)===64&&tT(e,t,n)}function D0(e,t,n=Rt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function ZM(e,t,n,r){let o=r.get(bM,n0)||n===qt.ShadowDom,s=e.selectRootElement(t,o);return YM(s),s}function YM(e){KM(e)}var KM=()=>null;function XM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function b0(e,t,n,r,i,o,s,a){let l=t.inputs,c;if(!a&&l!=null&&(c=l[r]))Xf(e,n,c,r,i),vr(t)&&JM(n,t.index);else if(t.type&3){let u=Rt(t,n);r=XM(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(u,r,i)}else t.type&12}function JM(e,t){let n=Gt(t,e);n[j]&16||(n[j]|=64)}function eT(e,t,n){let r=n.directiveStart,i=n.directiveEnd;vr(n)&&QM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||fl(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=hl(t,e,s,n);if(Di(l,t),o!==null&&oT(t,s-r,l,a,n,o),pn(a)){let c=Gt(n.index,t);c[mt]=hl(t,e,s,n)}}}function tT(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=FS();try{hr(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];Gd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&nT(l,c)}}finally{hr(-1),Gd(s)}}function nT(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function I0(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];PM(t,o.selectors,!1)&&(r??=[],pn(o)?r.unshift(o):r.push(o))}return r}function rT(e,t,n,r,i,o){let s=Rt(e,t);iT(t[xe],s,o,e.value,n,r,i)}function iT(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?Ml(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function oT(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];_0(r,n,l,c)}}function S0(e,t){let n=e[Mo],r=n?n.get(jn,null):null;r&&r.handleError(t)}function Xf(e,t,n,r,i){for(let o=0;o<n.length;o+=2){let s=n[o],a=n[o+1],l=t[s],c=e.data[s];_0(c,l,a,i)}}function sT(e,t){let n=Gt(t,e),r=n[J];aT(r,n);let i=n[mn];i!==null&&n[rl]===null&&(n[rl]=i0(i,n[Mo])),Jf(r,n,n[mt])}function aT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Jf(e,t,n){Pf(t);try{let r=e.viewQuery;r!==null&&rf(1,r,n);let i=e.template;i!==null&&C0(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[fi]?.finishViewCreation(e),e.staticContentQueries&&o0(e,t),e.staticViewQueries&&rf(2,e.viewQuery,n);let o=e.components;o!==null&&lT(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[j]&=-5,Ff()}}function lT(e,t){for(let n=0;n<t.length;n++)sT(e,t[n])}function cT(e,t,n,r){let i=X(null);try{let o=t.tView,a=e[j]&4096?4096:16,l=Yf(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[di]=c;let u=e[fi];return u!==null&&(l[fi]=u.createEmbeddedView(o)),Jf(o,l,n),l}finally{X(i)}}function Cy(e,t){return!t||t.firstChild===null||Z_(e)}var uT;function eh(e,t){return uT(e,t)}var Qt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Qt||{});function M0(e){return(e.flags&32)===32}function oi(e,t,n,r,i){if(r!=null){let o,s=!1;vn(r)?o=r:Vn(r)&&(s=!0,r=r[mn]);let a=Wt(r);e===0&&n!==null?i==null?p0(t,n,a):vl(t,n,a,i||null,!0):e===1&&n!==null?vl(t,n,a,i||null,!0):e===2?HM(t,a,s):e===3&&t.destroyNode(a),o!=null&&ET(t,e,o,n,i)}}function dT(e,t){T0(e,t),t[mn]=null,t[Nt]=null}function fT(e,t,n,r,i,o){r[mn]=i,r[Nt]=t,Bl(e,r,n,1,i,o)}function T0(e,t){t[fn].changeDetectionScheduler?.notify(10),Bl(e,t,t[xe],2,null,null)}function hT(e){let t=e[To];if(!t)return Ad(e[J],e);for(;t;){let n=null;if(Vn(t))n=t[To];else{let r=t[gt];r&&(n=r)}if(!n){for(;t&&!t[xt]&&t!==e;)Vn(t)&&Ad(t[J],t),t=t[We];t===null&&(t=e),Vn(t)&&Ad(t[J],t),n=t&&t[xt]}t=n}}function th(e,t){let n=e[al],r=n.indexOf(t);n.splice(r,1)}function x0(e,t){if(Po(t))return;let n=t[xe];n.destroyNode&&Bl(e,t,n,3,null,null),hT(t)}function Ad(e,t){if(Po(t))return;let n=X(null);try{t[j]&=-129,t[j]|=256,t[nt]&&nd(t[nt]),gT(e,t),pT(e,t),t[J].type===1&&t[xe].destroy();let r=t[di];if(r!==null&&vn(t[We])){r!==t[We]&&th(r,t);let i=t[fi];i!==null&&i.detachView(e)}tf(t)}finally{X(n)}}function pT(e,t){let n=e.cleanup,r=t[il];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[il]=null);let i=t[Ln];if(i!==null){t[Ln]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[ol];if(o!==null){t[ol]=null;for(let s of o)s.destroy()}}function gT(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof pr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];pt(4,a,l);try{l.call(a)}finally{pt(5,a,l)}}else{pt(4,i,o);try{o.call(i)}finally{pt(5,i,o)}}}}}function mT(e,t,n){return vT(e,t.parent,n)}function vT(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[mn];if(vr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===qt.None||i===qt.Emulated)return null}return Rt(r,n)}function yT(e,t,n){return CT(e,t,n)}function _T(e,t,n){return e.type&40?Rt(e,n):null}var CT=_T,wy;function nh(e,t,n,r){let i=mT(e,r,t),o=t[xe],s=r.parent||t[Nt],a=yT(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)_y(o,i,n[l],a,!1);else _y(o,i,n,a,!1);wy!==void 0&&wy(o,r,t,n,i)}function Do(e,t){if(t!==null){let n=t.type;if(n&3)return Rt(t,e);if(n&4)return of(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Do(e,r);{let i=e[t.index];return vn(i)?of(-1,i):Wt(i)}}else{if(n&128)return Do(e,t.next);if(n&32)return eh(t,e)()||Wt(e[t.index]);{let r=A0(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=fr(e[zt]);return Do(i,r)}else return Do(e,t.next)}}}return null}function A0(e,t){if(t!==null){let r=e[zt][Nt],i=t.projection;return r.projection[i]}return null}function of(e,t){let n=gt+e+1;if(n<t.length){let r=t[n],i=r[J].firstChild;if(i!==null)return Do(r,i)}return t[dr]}function rh(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&Di(Wt(a),r),n.flags|=2),!M0(n))if(l&8)rh(e,t,n.child,r,i,o,!1),oi(t,e,i,a,o);else if(l&32){let c=eh(n,r),u;for(;u=c();)oi(t,e,i,u,o);oi(t,e,i,a,o)}else l&16?wT(e,t,r,n,i,o):oi(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Bl(e,t,n,r,i,o){rh(n,r,e.firstChild,t,i,o,!1)}function wT(e,t,n,r,i,o){let s=n[zt],l=s[Nt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];oi(t,e,i,u,o)}else{let c=l,u=s[We];Z_(r)&&(c.flags|=128),rh(e,t,c,u,i,o,!0)}}function ET(e,t,n,r,i){let o=n[dr],s=Wt(n);o!==s&&oi(t,e,r,o,i);for(let a=gt;a<n.length;a++){let l=n[a];Bl(l[J],l,e,t,r,o)}}function DT(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Qt.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Qt.Important),e.setStyle(n,r,i,o))}}function yl(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Wt(o)),vn(o)&&bT(o,r);let s=n.type;if(s&8)yl(e,t,n.child,r);else if(s&32){let a=eh(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=A0(t,n);if(Array.isArray(a))r.push(...a);else{let l=fr(t[zt]);yl(l[J],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function bT(e,t){for(let n=gt;n<e.length;n++){let r=e[n],i=r[J].firstChild;i!==null&&yl(r[J],r,i,t)}e[dr]!==e[mn]&&t.push(e[dr])}var N0=[];function IT(e){return e[nt]??ST(e)}function ST(e){let t=N0.pop()??Object.create(TT);return t.lView=e,t}function MT(e){e.lView[nt]!==e&&(e.lView=null,N0.push(e))}var TT=W(E({},po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Ol(e.lView)},consumerOnSignalRead(){this.lView[nt]=this}});function xT(e){let t=e[nt]??Object.create(AT);return t.lView=e,t}var AT=W(E({},po),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=fr(e.lView);for(;t&&!R0(t[J]);)t=fr(t);t&&Of(t)},consumerOnSignalRead(){this.lView[nt]=this}});function R0(e){return e.type!==2}function O0(e){if(e[ol]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[ol])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[j]&8192)}}var NT=100;function k0(e,t=!0,n=0){let i=e[fn].rendererFactory,o=!1;o||i.begin?.();try{RT(e,n)}catch(s){throw t&&S0(e,s),s}finally{o||i.end?.()}}function RT(e,t){let n=E_();try{oy(!0),sf(e,t);let r=0;for(;Rl(e);){if(r===NT)throw new x(103,!1);r++,sf(e,1)}}finally{oy(n)}}function OT(e,t,n,r){if(Po(t))return;let i=t[j],o=!1,s=!1;Pf(t);let a=!0,l=null,c=null;o||(R0(e)?(c=IT(t),l=ma(c)):yv()===null?(a=!1,c=xT(t),l=ma(c)):t[nt]&&(nd(t[nt]),t[nt]=null));try{y_(t),RS(e.bindingStartIndex),n!==null&&C0(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&Za(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Ya(t,h,0,null),Md(t,0)}if(s||kT(t),O0(t),P0(t,0),e.contentQueries!==null&&o0(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&Za(t,h)}else{let h=e.contentHooks;h!==null&&Ya(t,h,1),Md(t,1)}FT(e,t);let d=e.components;d!==null&&L0(t,d,0);let f=e.viewQuery;if(f!==null&&rf(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&Za(t,h)}else{let h=e.viewHooks;h!==null&&Ya(t,h,2),Md(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Sd]){for(let h of t[Sd])h();t[Sd]=null}o||(t[j]&=-73)}catch(u){throw o||Ol(t),u}finally{c!==null&&(ed(c,l),a&&MT(c)),Ff()}}function P0(e,t){for(let n=X_(e);n!==null;n=J_(n))for(let r=gt;r<n.length;r++){let i=n[r];F0(i,t)}}function kT(e){for(let t=X_(e);t!==null;t=J_(t)){if(!(t[j]&2))continue;let n=t[al];for(let r=0;r<n.length;r++){let i=n[r];Of(i)}}}function PT(e,t,n){let r=Gt(t,e);F0(r,n)}function F0(e,t){Rf(e)&&sf(e,t)}function sf(e,t){let r=e[J],i=e[j],o=e[nt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&td(o)),s||=!1,o&&(o.dirty=!1),e[j]&=-9217,s)OT(r,e,r.template,e[mt]);else if(i&8192){O0(e),P0(e,1);let a=r.components;a!==null&&L0(e,a,1)}}function L0(e,t,n){for(let r=0;r<t.length;r++)PT(e,t[r],n)}function FT(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)hr(~i);else{let o=i,s=n[++r],a=n[++r];PS(s,o);let l=t[o];pt(24,l),a(2,l),pt(25,l)}}}finally{hr(-1)}}function ih(e,t){let n=E_()?64:1088;for(e[fn].changeDetectionScheduler?.notify(t);e;){e[j]|=n;let r=fr(e);if(ll(e)&&!r)return e;e=r}return null}function V0(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function LT(e,t,n,r=!0){let i=t[J];if(VT(i,t,e,n),r){let s=of(n,e),a=t[xe],l=a.parentNode(e[dr]);l!==null&&fT(i,e[Nt],a,t,l,s)}let o=t[rl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function af(e,t){if(e.length<=gt)return;let n=gt+t,r=e[n];if(r){let i=r[di];i!==null&&i!==e&&th(i,r),t>0&&(e[n-1][xt]=r[xt]);let o=tl(e,gt+t);dT(r[J],r);let s=o[fi];s!==null&&s.detachView(o[J]),r[We]=null,r[xt]=null,r[j]&=-129}return r}function VT(e,t,n,r){let i=gt+r,o=n.length;r>0&&(n[i-1][xt]=t),r<o-gt?(t[xt]=n[i],Yy(n,gt+r,t)):(n.push(t),t[xt]=null),t[We]=n;let s=t[di];s!==null&&n!==s&&j0(s,t);let a=t[fi];a!==null&&a.insertView(e),zd(t),t[j]|=128}function j0(e,t){let n=e[al],r=t[We];if(Vn(r))e[j]|=2;else{let i=r[We][zt];t[zt]!==i&&(e[j]|=2)}n===null?e[al]=[t]:n.push(t)}var gr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[J];return yl(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[mt]}get dirty(){return!!(this._lView[j]&9280)||!!this._lView[nt]?.dirty}set context(t){this._lView[mt]=t}get destroyed(){return Po(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[We];if(vn(t)){let n=t[sl],r=n?n.indexOf(this):-1;r>-1&&(af(t,r),tl(n,r))}this._attachedToViewContainer=!1}x0(this._lView[J],this._lView)}onDestroy(t){__(this._lView,t)}markForCheck(){ih(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Of(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){zd(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,k0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ll(this._lView),n=this._lView[di];n!==null&&!t&&th(n,this._lView),T0(this._lView[J],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=t;let n=ll(this._lView),r=this._lView[di];r!==null&&!n&&j0(r,this._lView),zd(this._lView)}},Ul=(()=>{class e{static __NG_ELEMENT_ID__=UT}return e})(),jT=Ul,BT=class extends jT{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=cT(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new gr(i)}};function UT(){return $T(vt(),ge())}function $T(e,t){return e.type&4?new BT(t,e,Fl(e,t)):null}function oh(e,t,n,r,i){let o=e.data[t];if(o===null)o=HT(e,t,n,r,i),kS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=xS();o.injectorIndex=s===null?-1:s.injectorIndex}return Fo(o,!0),o}function HT(e,t,n,r,i){let o=C_(),s=w_(),a=s?o:o&&o.parent,l=e.data[t]=WT(e,a,n,t,r,i);return zT(e,l,o,s),l}function zT(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function WT(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return SS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var PH=new RegExp(`^(\\d+)*(${DM}|${EM})*(.*)`);var GT=()=>null;function Ey(e,t){return GT(e,t)}var lf=class{},_l=class{},cf=class{resolveComponentFactory(t){throw Error(`No component factory found for ${ze(t)}.`)}},pi=class{static NULL=new cf},gi=class{},Hn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>qT()}return e})();function qT(){let e=ge(),t=vt(),n=Gt(t.index,e);return(Vn(n)?n:e)[xe]}var QT=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:()=>null})}return e})();function Dy(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Kv(i,a);else if(o==2){let l=a,c=t[++s];r=Kv(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function G(e,t=q.Default){let n=ge();if(n===null)return b(e,t);let r=vt();return V_(r,n,He(e),t)}function B0(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let[a,l]=YT(e,n,s);XT(e,t,n,a,o,l)}o!==null&&r!==null&&ZT(n,r,o)}function ZT(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new x(-301,!1);r.push(t[i],o)}}function YT(e,t,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),pn(o)&&(r.push(o),KT(e,t,r.length-1));return vr(t)?r.push(...n.slice(1)):r.push(...n),[r,i]}function KT(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function XT(e,t,n,r,i,o){for(let c=0;c<r.length;c++)Zd(fl(n,t),e,r[c].type);ox(n,e.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=v0(e,t,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=xo(n.mergedAttrs,u.hostAttrs),tx(e,n,t,l,u),ix(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}JT(e,n,o)}function JT(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;l=by(0,d.inputs,u,l,h),c=by(1,d.outputs,u,c,p);let v=l!==null&&s!==null&&!Qf(t)?ex(l,u,s):null;a.push(v)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function by(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a=o;if(i!==null){if(!i.hasOwnProperty(o))continue;a=i[o]}e===0?Iy(r,n,a,o):Iy(r,n,a,s)}return r}function Iy(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function ex(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){let s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r??=[],r.push(s[a+1],n[i+1]);break}}i+=2}return r}function tx(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=li(i.type,!0)),s=new pr(o,pn(i),G);e.blueprint[r]=s,n[r]=s,nx(e,t,r,v0(e,n,i.hostVars,yr),i)}function nx(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;rx(s)!=a&&s.push(a),s.push(n,r,o)}}function rx(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function ix(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;pn(t)&&(n[""]=e)}}function ox(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function U0(e,t,n,r,i,o,s,a){let l=t.consts,c=cl(l,s),u=oh(t,e,2,r,c);return o&&B0(t,n,u,cl(l,a),i),u.mergedAttrs=xo(u.mergedAttrs,u.attrs),u.attrs!==null&&Dy(u,u.attrs,!1),u.mergedAttrs!==null&&Dy(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function $0(e,t){A_(e,t),d_(t)&&e.queries.elementEnd(t)}var Cl=class extends pi{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ur(t);return new Ao(n,this.ngModule)}};function sx(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&jl.SignalBased)!==0};return i&&(o.transform=i),o})}function ax(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function lx(e,t,n){let r=t instanceof Te?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new qd(n,r):n}function cx(e){let t=e.get(gi,null);if(t===null)throw new x(407,!1);let n=e.get(QT,null),r=e.get(hi,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function ux(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return h0(t,n,n==="svg"?mS:n==="math"?vS:null)}var Ao=class extends _l{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){return sx(this.componentDef.inputs)}get outputs(){return ax(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=jM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){let o=X(null);try{let s=this.componentDef,a=r?["ng-version","19.1.7"]:BM(this.componentDef.selectors[0]),l=Zf(0,null,null,1,0,null,null,null,null,[a],null),c=lx(s,i||this.ngModule,t),u=cx(c),d=u.rendererFactory.createRenderer(null,s),f=r?ZM(d,r,s.encapsulation,c):ux(s,d),h=Yf(null,l,null,512|m0(s),null,null,u,d,c,null,i0(f,c,!0));h[hn]=f,Pf(h);let p=null;try{let v=U0(hn,l,h,"#host",()=>[this.componentDef],!0,0);f&&(g0(d,f,v),Di(f,h)),E0(l,h,v),s0(l,v,h),$0(l,v),n!==void 0&&dx(v,this.ngContentSelectors,n),p=Gt(v.index,h),h[mt]=p[mt],Jf(l,h,null)}catch(v){throw p!==null&&tf(p),tf(h),v}finally{Ff()}return new uf(this.componentType,h)}finally{X(o)}}},uf=class extends lf{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=v_(n[J],hn),this.location=Fl(this._tNode,n),this.instance=Gt(this._tNode.index,n)[mt],this.hostView=this.changeDetectorRef=new gr(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;Xf(o[J],o,i,t,n),this.previousInputValues.set(t,n);let s=Gt(this._tNode.index,o);ih(s,1)}}get injector(){return new lr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function dx(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ii=(()=>{class e{static __NG_ELEMENT_ID__=fx}return e})();function fx(){let e=vt();return px(e,ge())}var hx=Ii,H0=class extends hx{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new lr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Bf(this._hostTNode,this._hostLView);if(R_(t)){let n=dl(t,this._hostLView),r=ul(t),i=n[J].data[r+8];return new lr(i,n)}else return new lr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Sy(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ey(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Cy(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!fS(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Ao(ur(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(Te,null);v&&(o=v)}let u=ur(l.componentType??{}),d=Ey(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,Cy(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(yS(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[We],c=new H0(l,l[Nt],l[We]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return LT(s,i,o,r),t.attachToViewContainerRef(),Yy(Nd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Sy(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=af(this._lContainer,n);r&&(tl(Nd(this._lContainer),n),x0(r[J],r))}detach(t){let n=this._adjustIndex(t,-1),r=af(this._lContainer,n);return r&&tl(Nd(this._lContainer),n)!=null?new gr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Sy(e){return e[sl]}function Nd(e){return e[sl]||(e[sl]=[])}function px(e,t){let n,r=t[e.index];return vn(r)?n=r:(n=V0(r,t,null,e),t[e.index]=n,Kf(t,n)),mx(n,t,e,r),new H0(n,e,t)}function gx(e,t){let n=e[xe],r=n.createComment(""),i=Rt(t,e),o=n.parentNode(i);return vl(n,o,r,n.nextSibling(i),!1),r}var mx=_x,vx=()=>!1;function yx(e,t,n){return vx(e,t,n)}function _x(e,t,n,r){if(e[dr])return;let i;n.type&8?i=Wt(r):i=gx(t,n),e[dr]=i}var Bn=class{},No=class{};var df=class extends Bn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Cl(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Jy(t);this._bootstrapComponents=d0(o.bootstrap),this._r3Injector=U_(t,n,[{provide:Bn,useValue:this},{provide:pi,useValue:this.componentFactoryResolver},...r],ze(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ff=class extends No{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new df(this.moduleType,t,[])}};var wl=class extends Bn{injector;componentFactoryResolver=new Cl(this);instance=null;constructor(t){super();let n=new So([...t.providers,{provide:Bn,useValue:this},{provide:pi,useValue:this.componentFactoryResolver}],t.parent||Af(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function sh(e,t,n=null){return new wl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Cx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=r_(!1,n.type),i=r.length>0?sh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(b(Te))})}return e})();function me(e){return Oo(()=>{let t=z0(e),n=W(E({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Y_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Cx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||qt.Emulated,styles:e.styles||ht,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Ei("NgStandalone"),W0(n);let r=e.dependencies;return n.directiveDefs=My(r,!1),n.pipeDefs=My(r,!0),n.id=Ix(n),n})}function wx(e){return ur(e)||e_(e)}function Ex(e){return e!==null}function Ot(e){return Oo(()=>({type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Dx(e,t){if(e==null)return cr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=jl.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function bx(e){if(e==null)return cr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ge(e){return Oo(()=>{let t=z0(e);return W0(t),t})}function z0(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||cr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dx(e.inputs,t),outputs:bx(e.outputs),debugInfo:null}}function W0(e){e.features?.forEach(t=>t(e))}function My(e,t){if(!e)return null;let n=t?t_:wx;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Ex)}function Ix(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Sx(e){return Object.getPrototypeOf(e.prototype).constructor}function _r(e){let t=Sx(e.type),n=!0,r=[e];for(;t;){let i;if(pn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new x(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=Rd(e.inputs),s.declaredInputs=Rd(e.declaredInputs),s.outputs=Rd(e.outputs);let a=i.hostBindings;a&&Nx(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&xx(e,l),c&&Ax(e,c),Mx(e,i),OI(e.outputs,i.outputs),pn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===_r&&(n=!1)}}t=Object.getPrototypeOf(t)}Tx(r)}function Mx(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function Tx(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=xo(i.hostAttrs,n=xo(n,i.hostAttrs))}}function Rd(e){return e===cr?{}:e===ht?[]:e}function xx(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function Ax(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function Nx(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function G0(e){return ah(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function Rx(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function ah(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Ox(e,t,n){return e[t]=n}function kx(e,t){return e[t]}function jo(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Px(e,t,n,r,i,o,s,a,l){let c=t.consts,u=oh(t,e,4,s||null,a||null);kf()&&B0(t,n,u,cl(c,l),I0),u.mergedAttrs=xo(u.mergedAttrs,u.attrs),A_(t,u);let d=u.tView=Zf(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Fx(e,t,n,r,i,o,s,a,l,c){let u=n+hn,d=t.firstCreatePass?Px(u,t,e,r,i,o,s,a,l):t.data[u];Fo(d,!1);let f=Lx(t,e,d,n);Vf()&&nh(t,e,f,d),Di(f,e);let h=V0(f,e,f,d);return e[u]=h,Kf(e,h),yx(h,d,e),Nf(d)&&w0(t,e,d),l!=null&&D0(e,d,c),d}function qe(e,t,n,r,i,o,s,a){let l=ge(),c=it(),u=cl(c.consts,o);return Fx(l,c,e,t,n,r,i,u,s,a),qe}var Lx=Vx;function Vx(e,t,n,r){return jf(!0),t[xe].createComment("")}var lh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var q0=new S("");function Cr(e){return!!e&&typeof e.then=="function"}function Q0(e){return!!e&&typeof e.subscribe=="function"}var Z0=new S("");var Y0=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(Z0,{optional:!0})??[];injector=C(rt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Je(this.injector,i);if(Cr(o))n.push(o);else if(Q0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jx=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:()=>new hf})}return e})(),hf=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}},$l=new S("");function Bx(){Tv(()=>{throw new x(600,!1)})}function Ux(e){return e.isBoundToModule}var $x=10;var gn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(fM);afterRenderManager=C(IM);zonelessEnabled=C(Pl);rootEffectScheduler=C(jx);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new he;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(Cn).hasPendingTasks.pipe(k(n=>!n));constructor(){C(Ll,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(Te);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof _l;if(!this._injector.get(Y0).done){let f=!i&&n_(n),h=!1;throw new x(405,h)}let s;i?s=n:s=this._injector.get(pi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Ux(s)?void 0:this._injector.get(Bn),l=r||s.selector,c=s.create(rt.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(q0,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ka(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(r0.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new x(101,!1);let n=X(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,X(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(gi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<$x;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Hx(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Rl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ka(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get($l,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ka(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ka(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Hx(e,t,n,r){if(!n&&!Rl(e))return;k0(e,t,n&&!r?0:1)}function Hl(e,t,n,r){let i=ge(),o=kl();if(jo(i,o,t)){let s=it(),a=Lf();rT(a,i,e,t,n,r)}return Hl}function zx(e,t,n,r){return jo(e,kl(),n)?t+Ml(n)+r:yr}function qa(e,t){return e<<17|t<<2}function mr(e){return e>>17&32767}function Wx(e){return(e&2)==2}function Gx(e,t){return e&131071|t<<17}function pf(e){return e|2}function mi(e){return(e&131068)>>2}function Od(e,t){return e&-131069|t<<2}function qx(e){return(e&1)===1}function gf(e){return e|1}function Qx(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=mr(s),l=mi(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||ko(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=mr(e[a+1]);e[r+1]=qa(f,a),f!==0&&(e[f+1]=Od(e[f+1],r)),e[a+1]=Gx(e[a+1],r)}else e[r+1]=qa(a,0),a!==0&&(e[a+1]=Od(e[a+1],r)),a=r;else e[r+1]=qa(l,0),a===0?a=r:e[l+1]=Od(e[l+1],r),l=r;c&&(e[r+1]=pf(e[r+1])),Ty(e,u,r,!0),Ty(e,u,r,!1),Zx(t,u,e,r,o),s=qa(a,l),o?t.classBindings=s:t.styleBindings=s}function Zx(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&ko(o,t)>=0&&(n[r+1]=gf(n[r+1]))}function Ty(e,t,n,r){let i=e[n+1],o=t===null,s=r?mr(i):mi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];Yx(l,t)&&(a=!0,e[s+1]=r?gf(c):pf(c)),s=r?mr(c):mi(c)}a&&(e[n+1]=r?pf(i):gf(i))}function Yx(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?ko(e,t)>=0:!1}function ae(e,t,n){let r=ge(),i=kl();if(jo(r,i,t)){let o=it(),s=Lf();b0(o,s,r,e,t,r[xe],n,!1)}return ae}function xy(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";Xf(e,n,o[s],s,r)}function ch(e,t){return Kx(e,t,null,!0),ch}function Kx(e,t,n,r){let i=ge(),o=it(),s=OS(2);if(o.firstUpdatePass&&Jx(o,e,s,r),t!==yr&&jo(i,s,t)){let a=o.data[Ci()];iA(o,a,i,i[xe],e,i[s+1]=oA(t,n),r,s)}}function Xx(e,t){return t>=e.expandoStartIndex}function Jx(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Ci()],s=Xx(e,n);sA(o,r)&&t===null&&!s&&(t=!1),t=eA(i,o,t,r),Qx(i,o,t,n,s,r)}}function eA(e,t,n,r){let i=LS(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=kd(null,e,t,n,r),n=Ro(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=kd(i,e,t,n,r),o===null){let l=tA(e,t,r);l!==void 0&&Array.isArray(l)&&(l=kd(null,e,t,l[1],r),l=Ro(l,t.attrs,r),nA(e,t,r,l))}else o=rA(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function tA(e,t,n){let r=n?t.classBindings:t.styleBindings;if(mi(r)!==0)return e[mr(r)]}function nA(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[mr(i)]=r}function rA(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ro(r,s,n)}return Ro(r,t.attrs,n)}function kd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ro(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Ro(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),JI(e,s,n?!0:t[++o]))}return e===void 0?null:e}function iA(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=qx(c)?Ay(l,t,n,i,mi(c),s):void 0;if(!El(u)){El(o)||Wx(c)&&(o=Ay(l,null,n,i,a,s));let d=m_(Ci(),n);DT(r,s,d,i,o)}}function Ay(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===yr&&(f=d?ht:void 0);let h=d?bd(f,r):u===r?f:void 0;if(c&&!El(h)&&(h=bd(l,r)),El(h)&&(a=h,s))return a;let p=e[i+1];i=s?mr(p):mi(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=bd(l,r))}return a}function El(e){return e!==void 0}function oA(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=ze(Vl(e)))),e}function sA(e,t){return(e.flags&(t?8:16))!==0}function g(e,t,n,r){let i=ge(),o=it(),s=hn+e,a=i[xe],l=o.firstCreatePass?U0(s,o,i,t,I0,kf(),n,r):o.data[s],c=aA(o,i,l,a,t,e);i[s]=c;let u=Nf(l);return Fo(l,!0),g0(a,c,l),!M0(l)&&Vf()&&nh(o,i,c,l),DS()===0&&Di(c,i),bS(),u&&(w0(o,i,l),s0(o,l,i)),r!==null&&D0(i,l),g}function m(){let e=vt();w_()?AS():(e=e.parent,Fo(e,!1));let t=e;MS(t)&&TS(),IS();let n=it();return n.firstCreatePass&&$0(n,t),t.classesWithoutHost!=null&&zS(t)&&xy(n,t,ge(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&WS(t)&&xy(n,t,ge(),t.stylesWithoutHost,!1),m}function M(e,t,n,r){return g(e,t,n,r),m(),M}var aA=(e,t,n,r,i,o)=>(jf(!0),h0(r,i,BS()));function Si(){return ge()}var Dl="en-US";var lA=Dl;function cA(e){typeof e=="string"&&(lA=e.toLowerCase().replace(/_/g,"-"))}var uA=(e,t,n)=>{};function F(e,t,n,r){let i=ge(),o=it(),s=vt();return K0(o,i,i[xe],s,e,t,r),F}function dA(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[il],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function K0(e,t,n,r,i,o,s){let a=Nf(r),c=e.firstCreatePass&&ES(e),u=t[mt],d=wS(t),f=!0;if(r.type&3||s){let v=Rt(r,t),y=s?s(v):v,I=d.length,z=s?T=>s(Wt(T[r.index])):r.index,_=null;if(!s&&a&&(_=dA(e,t,i,r.index)),_!==null){let T=_.__ngLastListenerFn__||_;T.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1}else{o=Ry(r,t,u,o),uA(v,i,o);let T=n.listen(y,i,o);d.push(o,T),c&&c.push(i,z,I,I+1)}}else o=Ry(r,t,u,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let v=p.length;if(v)for(let y=0;y<v;y+=2){let I=p[y],z=p[y+1],de=t[I][z].subscribe(o),Be=d.length;d.push(o,de),c&&c.push(i,r.index,Be,-(Be+1))}}}function Ny(e,t,n,r){let i=X(null);try{return pt(6,t,n),n(r)!==!1}catch(o){return S0(e,o),!1}finally{pt(7,t,n),X(i)}}function Ry(e,t,n,r){return function i(o){if(o===Function)return r;let s=vr(e)?Gt(e.index,t):t;ih(s,5);let a=Ny(t,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Ny(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function _t(e=1){return jS(e)}function D(e,t=""){let n=ge(),r=it(),i=e+hn,o=r.firstCreatePass?oh(r,i,1,t,null):r.data[i],s=fA(r,n,o,t,e);n[i]=s,Vf()&&nh(r,n,s,o),Fo(o,!1)}var fA=(e,t,n,r,i)=>(jf(!0),UM(t[xe],r));function Bo(e){return zl("",e,""),Bo}function zl(e,t,n){let r=ge(),i=zx(r,e,t,n);return i!==yr&&hA(r,Ci(),i),zl}function hA(e,t,n){let r=m_(t,e);$M(e[xe],r,n)}function Wl(e,t,n){Q_(t)&&(t=t());let r=ge(),i=kl();if(jo(r,i,t)){let o=it(),s=Lf();b0(o,s,r,e,t,r[xe],n,!1)}return Wl}function uh(e,t){let n=Q_(e);return n&&e.set(t),n}function Gl(e,t){let n=ge(),r=it(),i=vt();return K0(r,n,n[xe],i,e,t),Gl}function pA(e,t,n){let r=it();if(r.firstCreatePass){let i=pn(e);mf(n,r.data,r.blueprint,i,!0),mf(t,r.data,r.blueprint,i,!1)}}function mf(e,t,n,r,i){if(e=He(e),Array.isArray(e))for(let o=0;o<e.length;o++)mf(e[o],t,n,r,i);else{let o=it(),s=ge(),a=vt(),l=ui(e)?e:He(e.provide),c=s_(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ui(e)||!e.multi){let h=new pr(c,i,G),p=Fd(l,t,i?u:u+f,d);p===-1?(Zd(fl(a,s),o,l),Pd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Fd(l,t,u+f,d),p=Fd(l,t,u,u+f),v=h>=0&&n[h],y=p>=0&&n[p];if(i&&!y||!i&&!v){Zd(fl(a,s),o,l);let I=vA(i?mA:gA,n.length,i,r,c);!i&&y&&(n[p].providerFactory=I),Pd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)}else{let I=X0(n[i?p:h],c,!i&&r);Pd(o,e,h>-1?h:p,I)}!i&&r&&y&&n[p].componentProviders++}}}function Pd(e,t,n,r){let i=ui(t),o=oS(t);if(i||o){let l=(o?He(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function X0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Fd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function gA(e,t,n,r){return vf(this.multi,[])}function mA(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=hl(n,n[J],this.providerFactory.index,r);o=a.slice(0,s),vf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],vf(i,o);return o}function vf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function vA(e,t,n,r,i){let o=new pr(e,n,G);return o.multi=[],o.index=t,o.componentProviders=0,X0(o,i,r&&!n),o}function ql(e,t=[]){return n=>{n.providersResolver=(r,i)=>pA(r,i?i(e):e,t)}}function J0(e,t,n){let r=NS()+e,i=ge();return i[r]===yr?Ox(i,r,n?t.call(n):t()):kx(i,r)}var Un=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}};var yf=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},dh=(()=>{class e{compileModuleSync(n){return new ff(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Jy(n),o=d0(i.declarations).reduce((s,a)=>{let l=ur(a);return l&&s.push(new Ao(l)),s},[]);return new yf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var yA=(()=>{class e{zone=C(ee);changeDetectionScheduler=C(hi);applicationRef=C(gn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_A=new S("",{factory:()=>!1});function eC({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ee(W(E({},nC()),{scheduleInRootZone:n})),[{provide:ee,useFactory:e},{provide:ci,multi:!0,useFactory:()=>{let r=C(yA,{optional:!0});return()=>r.initialize()}},{provide:ci,multi:!0,useFactory:()=>{let r=C(CA);return()=>{r.initialize()}}},t===!0?{provide:H_,useValue:!0}:[],{provide:z_,useValue:n??$_}]}function tC(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=eC({ngZoneFactory:()=>{let i=nC(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ei("NgZone_CoalesceEvent"),new ee(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return yi([{provide:_A,useValue:!0},{provide:Pl,useValue:!1},r])}function nC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var CA=(()=>{class e{subscription=new _e;initialized=!1;zone=C(ee);pendingTasks=C(Cn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var wA=(()=>{class e{appRef=C(gn);taskService=C(Cn);ngZone=C(ee);zonelessEnabled=C(Pl);tracing=C(Ll,{optional:!0});disableScheduling=C(H_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new _e;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(gl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(z_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ef||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?fy:W_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,fy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function EA(){return typeof $localize<"u"&&$localize.locale||Dl}var fh=new S("",{providedIn:"root",factory:()=>C(fh,q.Optional|q.SkipSelf)||EA()});var _f=new S(""),DA=new S("");function wo(e){return!e.moduleRef}function bA(e){let t=wo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ee);return n.run(()=>{wo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(jn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),wo(e)){let o=()=>t.destroy(),s=e.platformInjector.get(_f);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(_f);s.add(o),e.moduleRef.onDestroy(()=>{Ka(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return SA(r,n,()=>{let o=t.get(Y0);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(fh,Dl);if(cA(s||Dl),!t.get(DA,!0))return wo(e)?t.get(gn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(wo(e)){let l=t.get(gn);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return IA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function IA(e,t){let n=e.injector.get(gn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new x(-403,!1);t.push(e)}function SA(e,t,n){try{let r=n();return Cr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Xa=null;function MA(e=[],t){return rt.create({name:t,providers:[{provide:Al,useValue:"platform"},{provide:_f,useValue:new Set([()=>Xa=null])},...e]})}function TA(e=[]){if(Xa)return Xa;let t=MA(e);return Xa=t,Bx(),xA(t),t}function xA(e){let t=e.get(Wf,null);Je(e,()=>{t?.forEach(n=>n())})}function Uo(){return!1}var wr=(()=>{class e{static __NG_ELEMENT_ID__=AA}return e})();function AA(e){return NA(vt(),ge(),(e&16)===16)}function NA(e,t,n){if(vr(e)&&!n){let r=Gt(e.index,t);return new gr(r,r)}else if(e.type&175){let r=t[zt];return new gr(r,t)}return null}var Cf=class{constructor(){}supports(t){return G0(t)}create(t){return new wf(t)}},RA=(e,t)=>t,wf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||RA}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Oy(r,i,o)?n:r,a=Oy(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!G0(t))throw new x(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,Rx(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new Ef(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new bl),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new bl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Ef=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Df=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},bl=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Df,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Oy(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var bf=class{constructor(){}supports(t){return t instanceof Map||ah(t)}create(){return new If}},If=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||ah(t)))throw new x(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Sf(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},Sf=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function ky(){return new hh([new Cf])}var hh=(()=>{class e{factories;static \u0275prov=A({token:e,providedIn:"root",factory:ky});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||ky()),deps:[[e,new Zy,new xl]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new x(901,!1)}}return e})();function Py(){return new ph([new bf])}var ph=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:Py});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Py()),deps:[[e,new Zy,new xl]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new x(901,!1)}}return e})();function rC(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=TA(r),o=[eC({}),{provide:hi,useExisting:wA},...n||[]],s=new wl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return bA({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function Ql(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function $o(e,t){Ei("NgSignals");let n=Iv(e);return t?.equal&&(n[tt].equal=t.equal),n}function En(e){let t=X(null);try{return e()}finally{X(t)}}var Fy=class{[tt];constructor(t){this[tt]=t}destroy(){this[tt].destroy()}};var cC=null;function Dn(){return cC}function uC(e){cC??=e}var Zl=class{};var et=new S(""),dC=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>C(kA),providedIn:"platform"})}return e})();var kA=(()=>{class e extends dC{_location;_history;_doc=C(et);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dn().getBaseHref(this._doc)}onPopState(n){let r=Dn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Dn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function fC(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function iC(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Er(e){return e&&e[0]!=="?"?`?${e}`:e}var Yl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>C(hC),providedIn:"root"})}return e})(),PA=new S(""),hC=(()=>{class e extends Yl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return fC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Er(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Er(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(b(dC),b(PA,8))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ho=(()=>{class e{_subject=new he;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=VA(iC(oC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Er(r))}normalize(n){return e.stripTrailingSlash(LA(this._basePath,oC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Er;static joinWithSlash=fC;static stripTrailingSlash=iC;static \u0275fac=function(r){return new(r||e)(b(Yl))};static \u0275prov=A({token:e,factory:()=>FA(),providedIn:"root"})}return e})();function FA(){return new Ho(b(Yl))}function LA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function oC(e){return e.replace(/\/index.html$/,"")}function VA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function Kl(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var gh=/\s+/,sC=[],pC=(()=>{class e{_ngEl;_renderer;initialClasses=sC;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(gh):sC}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(gh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(gh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(G(wn),G(Hn))};static \u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var mh=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Xl=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new mh(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),aC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);aC(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(G(Ii),G(Ul),G(hh))};static \u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function aC(e,t){e.context.$implicit=t.item}var gC=(()=>{class e{_viewContainer;_context=new vh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){lC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){lC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(G(Ii),G(Ul))};static \u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),vh=class{$implicit=null;ngIf=null};function lC(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${ze(t)}'.`)}var mC=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Qt.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(G(wn),G(ph),G(Hn))};static \u0275dir=Ge({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();var zo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ot({type:e});static \u0275inj=At({})}return e})(),vC="browser",jA="server";function Wo(e){return e===jA}var Mi=class{};var qo=class{},ec=class{},Dr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Ch=class{encodeKey(t){return yC(t)}encodeValue(t){return yC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function BA(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var UA=/%(\d[a-f0-9])/gi,$A={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yC(e){return encodeURIComponent(e).replace(UA,(t,n)=>$A[n]??t)}function Jl(e){return`${e}`}var zn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Ch,t.fromString){if(t.fromObject)throw new x(2805,!1);this.map=BA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Jl):[Jl(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Jl(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Jl(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var wh=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function HA(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function _C(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function CC(e){return typeof Blob<"u"&&e instanceof Blob}function wC(e){return typeof FormData<"u"&&e instanceof FormData}function zA(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var EC="Content-Type",DC="Accept",SC="X-Request-URL",MC="text/plain",TC="application/json",WA=`${TC}, ${MC}, */*`,Go=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(HA(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Dr,this.context??=new wh,!this.params)this.params=new zn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||_C(this.body)||CC(this.body)||wC(this.body)||zA(this.body)?this.body:this.body instanceof zn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||wC(this.body)?null:CC(this.body)?this.body.type||null:_C(this.body)?null:typeof this.body=="string"?MC:this.body instanceof zn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?TC:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new e(n,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Ti=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ti||{}),Qo=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Dr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Eh=class e extends Qo{constructor(t={}){super(t)}type=Ti.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},tc=class e extends Qo{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ti.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},nc=class extends Qo{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},GA=200,qA=204;function _h(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var QA=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Go)o=n;else{let l;i.headers instanceof Dr?l=i.headers:l=new Dr(i.headers);let c;i.params&&(i.params instanceof zn?c=i.params:c=new zn({fromObject:i.params})),o=new Go(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=O(o).pipe(kn(l=>this.handler.handle(l)));if(n instanceof Go||i.observe==="events")return s;let a=s.pipe($e(l=>l instanceof tc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(k(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new x(2806,!1);return l.body}));case"blob":return a.pipe(k(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new x(2807,!1);return l.body}));case"text":return a.pipe(k(l=>{if(l.body!==null&&typeof l.body!="string")throw new x(2808,!1);return l.body}));case"json":default:return a.pipe(k(l=>l.body))}case"response":return a;default:throw new x(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new zn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,_h(i,r))}post(n,r,i={}){return this.request("POST",n,_h(i,r))}put(n,r,i={}){return this.request("PUT",n,_h(i,r))}static \u0275fac=function(r){return new(r||e)(b(qo))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();var ZA=new S("");function YA(e,t){return t(e)}function KA(e,t,n){return(r,i)=>Je(n,()=>t(r,o=>e(o,i)))}var xC=new S(""),XA=new S(""),JA=new S("",{providedIn:"root",factory:()=>!0});var bC=(()=>{class e extends qo{backend;injector;chain=null;pendingTasks=C(Cn);contributeToStability=C(JA);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(xC),...this.injector.get(XA,[])]));this.chain=r.reduceRight((i,o)=>KA(i,o,this.injector),YA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ar(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(b(ec),b(Te))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();var eN=/^\)\]\}',?\n/,tN=RegExp(`^${SC}:`,"m");function nN(e){return"responseURL"in e&&e.responseURL?e.responseURL:tN.test(e.getAllResponseHeaders())?e.getResponseHeader(SC):null}var IC=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new x(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?se(r.\u0275loadImpl()):O(null)).pipe(pe(()=>new $(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,y)=>s.setRequestHeader(v,y.join(","))),n.headers.has(DC)||s.setRequestHeader(DC,WA),!n.headers.has(EC)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(EC,v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",y=new Dr(s.getAllResponseHeaders()),I=nN(s)||n.url;return l=new Eh({headers:y,status:s.status,statusText:v,url:I}),l},u=()=>{let{headers:v,status:y,statusText:I,url:z}=c(),_=null;y!==qA&&(_=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=_?GA:0);let T=y>=200&&y<300;if(n.responseType==="json"&&typeof _=="string"){let de=_;_=_.replace(eN,"");try{_=_!==""?JSON.parse(_):null}catch(Be){_=de,T&&(T=!1,_={error:Be,text:_})}}T?(o.next(new tc({body:_,headers:v,status:y,statusText:I,url:z||void 0})),o.complete()):o.error(new nc({error:_,headers:v,status:y,statusText:I,url:z||void 0}))},d=v=>{let{url:y}=c(),I=new nc({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(I)},f=!1,h=v=>{f||(o.next(c()),f=!0);let y={type:Ti.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),n.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},p=v=>{let y={type:Ti.UploadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),o.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Ti.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(b(Mi))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),AC=new S(""),rN="XSRF-TOKEN",iN=new S("",{providedIn:"root",factory:()=>rN}),oN="X-XSRF-TOKEN",sN=new S("",{providedIn:"root",factory:()=>oN}),rc=class{},aN=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Kl(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(b(et),b(yt),b(iN))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();function lN(e,t){let n=e.url.toLowerCase();if(!C(AC)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=C(rc).getToken(),i=C(sN);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function NC(...e){let t=[QA,IC,bC,{provide:qo,useExisting:bC},{provide:ec,useFactory:()=>C(ZA,{optional:!0})??C(IC)},{provide:xC,useValue:lN,multi:!0},{provide:AC,useValue:!0},{provide:rc,useClass:aN}];for(let n of e)t.push(...n.\u0275providers);return yi(t)}var bh=class extends Zl{supportsDOMEvents=!0},Ih=class e extends bh{static makeCurrent(){uC(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=cN();return n==null?null:uN(n)}resetBaseElement(){Zo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Kl(document.cookie,t)}},Zo=null;function cN(){return Zo=Zo||document.querySelector("base"),Zo?Zo.getAttribute("href"):null}function uN(e){return new URL(e,document.baseURI).pathname}var dN=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Sh=new S(""),LC=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(b(Sh),b(ee))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),oc=class{_doc;constructor(t){this._doc=t}manager},ic="ng-app-id";function RC(e){for(let t of e)t.remove()}function OC(e,t){let n=t.createElement("style");return n.textContent=e,n}function fN(e,t,n,r){let i=e.head?.querySelectorAll(`style[${ic}="${t}"],link[${ic}="${t}"]`);if(i)for(let o of i)o.removeAttribute(ic),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Mh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var VC=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Wo(o),fN(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,OC);r?.forEach(i=>this.addUsage(i,this.external,Mh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(RC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])RC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,OC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Mh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ic,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(b(et),b(zf),b(Gf,8),b(yt))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Dh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xh=/%COMP%/g;var jC="%COMP%",hN=`_nghost-${jC}`,pN=`_ngcontent-${jC}`,gN=!0,mN=new S("",{providedIn:"root",factory:()=>gN});function vN(e){return pN.replace(xh,e)}function yN(e){return hN.replace(xh,e)}function BC(e,t){return t.map(n=>n.replace(xh,e))}var kC=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Wo(a),this.defaultRenderer=new Yo(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qt.ShadowDom&&(r=W(E({},r),{encapsulation:qt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof sc?i.applyToHost(n):i instanceof Ko&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case qt.Emulated:o=new sc(l,c,r,this.appId,u,s,a,d,f);break;case qt.ShadowDom:return new Th(l,c,n,r,s,a,this.nonce,d,f);default:o=new Ko(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(b(LC),b(VC),b(zf),b(mN),b(et),b(yt),b(ee),b(Gf),b(Ll,8))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Yo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Dh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(PC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(PC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Dh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Dh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Qt.DashCase|Qt.Important)?t.style.setProperty(n,r,i&Qt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Qt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Dn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function PC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Th=class extends Yo{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=BC(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Mh(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ko=class extends Yo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?BC(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},sc=class extends Ko{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=vN(u),this.hostAttr=yN(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},_N=(()=>{class e extends oc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(b(et))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),FC=["alt","control","meta","shift"],CN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},EN=(()=>{class e extends oc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),FC.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=CN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),FC.forEach(s=>{if(s!==i){let a=wN[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(b(et))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();function UC(e,t){return rC(E({rootComponent:e},DN(t)))}function DN(e){return{appProviders:[...TN,...e?.providers??[]],platformProviders:MN}}function bN(){Ih.makeCurrent()}function IN(){return new jn}function SN(){return t0(document),document}var MN=[{provide:yt,useValue:vC},{provide:Wf,useValue:bN,multi:!0},{provide:et,useFactory:SN,deps:[]}];var TN=[{provide:Al,useValue:"root"},{provide:jn,useFactory:IN,deps:[]},{provide:Sh,useClass:_N,multi:!0,deps:[et]},{provide:Sh,useClass:EN,multi:!0,deps:[et]},kC,VC,LC,{provide:gi,useExisting:kC},{provide:Mi,useClass:dN,deps:[]},[]];var $C=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(b(et))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var H="primary",hs=Symbol("RouteTitle"),kh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ki(e){return new kh(e)}function AN(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function NN(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Zt(e[n],t[n]))return!1;return!0}function Zt(e,t){let n=e?Ph(e):void 0,r=t?Ph(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!YC(e[i],t[i]))return!1;return!0}function Ph(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function YC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function KC(e){return e.length>0?e[e.length-1]:null}function Wn(e){return gd(e)?e:Cr(e)?se(Promise.resolve(e)):O(e)}var RN={exact:JC,subset:ew},XC={exact:ON,subset:kN,ignored:()=>!0};function HC(e,t,n){return RN[n.paths](e.root,t.root,n.matrixParams)&&XC[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function ON(e,t){return Zt(e,t)}function JC(e,t,n){if(!Ir(e.segments,t.segments)||!cc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!JC(e.children[r],t.children[r],n))return!1;return!0}function kN(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>YC(e[n],t[n]))}function ew(e,t,n){return tw(e,t,t.segments,n)}function tw(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Ir(i,n)||t.hasChildren()||!cc(i,n,r))}else if(e.segments.length===n.length){if(!Ir(e.segments,n)||!cc(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!ew(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Ir(e.segments,i)||!cc(e.segments,i,r)||!e.children[H]?!1:tw(e.children[H],t,o,r)}}function cc(e,t,n){return t.every((r,i)=>XC[n](e[i].parameters,r.parameters))}var In=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ie([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ki(this.queryParams),this._queryParamMap}toString(){return LN.serialize(this)}},ie=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uc(this)}},br=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=ki(this.parameters),this._parameterMap}toString(){return rw(this)}};function PN(e,t){return Ir(e,t)&&e.every((n,r)=>Zt(n.parameters,t[r].parameters))}function Ir(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function FN(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===H&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==H&&(n=n.concat(t(i,r)))}),n}var ap=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>new rs,providedIn:"root"})}return e})(),rs=class{parse(t){let n=new Lh(t);return new In(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Xo(t.root,!0)}`,r=BN(t.queryParams),i=typeof t.fragment=="string"?`#${VN(t.fragment)}`:"";return`${n}${r}${i}`}},LN=new rs;function uc(e){return e.segments.map(t=>rw(t)).join("/")}function Xo(e,t){if(!e.hasChildren())return uc(e);if(t){let n=e.children[H]?Xo(e.children[H],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${Xo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=FN(e,(r,i)=>i===H?[Xo(e.children[H],!1)]:[`${i}:${Xo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[H]!=null?`${uc(e)}/${n[0]}`:`${uc(e)}/(${n.join("//")})`}}function nw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ac(e){return nw(e).replace(/%3B/gi,";")}function VN(e){return encodeURI(e)}function Fh(e){return nw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dc(e){return decodeURIComponent(e)}function zC(e){return dc(e.replace(/\+/g,"%20"))}function rw(e){return`${Fh(e.path)}${jN(e.parameters)}`}function jN(e){return Object.entries(e).map(([t,n])=>`;${Fh(t)}=${Fh(n)}`).join("")}function BN(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ac(n)}=${ac(i)}`).join("&"):`${ac(n)}=${ac(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var UN=/^[^\/()?;#]+/;function Ah(e){let t=e.match(UN);return t?t[0]:""}var $N=/^[^\/()?;=#]+/;function HN(e){let t=e.match($N);return t?t[0]:""}var zN=/^[^=?&#]+/;function WN(e){let t=e.match(zN);return t?t[0]:""}var GN=/^[^&#]+/;function qN(e){let t=e.match(GN);return t?t[0]:""}var Lh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ie([],{}):new ie([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[H]=new ie(t,n)),r}parseSegment(){let t=Ah(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(t),new br(dc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=HN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Ah(this.remaining);i&&(r=i,this.capture(r))}t[dc(n)]=dc(r)}parseQueryParam(t){let n=WN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=qN(this.remaining);s&&(r=s,this.capture(r))}let i=zC(n),o=zC(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ah(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=H);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[H]:new ie([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new x(4011,!1)}};function iw(e){return e.segments.length>0?new ie([],{[H]:e}):e}function ow(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=ow(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ie(e.segments,t);return QN(n)}function QN(e){if(e.numberOfChildren===1&&e.children[H]){let t=e.children[H];return new ie(e.segments.concat(t.segments),t.children)}return e}function is(e){return e instanceof In}function ZN(e,t,n=null,r=null){let i=sw(e);return aw(i,t,n,r)}function sw(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ie(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=iw(r);return t??i}function aw(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Nh(i,i,i,n,r);let o=YN(t);if(o.toRoot())return Nh(i,i,new ie([],{}),n,r);let s=KN(o,i,e),a=s.processChildren?es(s.segmentGroup,s.index,o.commands):cw(s.segmentGroup,s.index,o.commands);return Nh(i,s.segmentGroup,a,n,r)}function fc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function os(e){return typeof e=="object"&&e!=null&&e.outlets}function Nh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=lw(e,t,n);let a=iw(ow(s));return new In(a,o,i)}function lw(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=lw(o,t,n)}),new ie(e.segments,r)}var hc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&fc(r[0]))throw new x(4003,!1);let i=r.find(os);if(i&&i!==KC(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function YN(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new hc(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hc(n,t,r)}var Ni=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function KN(e,t,n){if(e.isAbsolute)return new Ni(t,!0,0);if(!n)return new Ni(t,!1,NaN);if(n.parent===null)return new Ni(n,!0,0);let r=fc(e.commands[0])?0:1,i=n.segments.length-1+r;return XN(n,i,e.numberOfDoubleDots)}function XN(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Ni(r,!1,i-o)}function JN(e){return os(e[0])?e[0].outlets:{[H]:e}}function cw(e,t,n){if(e??=new ie([],{}),e.segments.length===0&&e.hasChildren())return es(e,t,n);let r=eR(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ie(e.segments.slice(0,r.pathIndex),{});return o.children[H]=new ie(e.segments.slice(r.pathIndex),e.children),es(o,0,i)}else return r.match&&i.length===0?new ie(e.segments,{}):r.match&&!e.hasChildren()?Vh(e,t,n):r.match?es(e,0,i):Vh(e,t,n)}function es(e,t,n){if(n.length===0)return new ie(e.segments,{});{let r=JN(n),i={};if(Object.keys(r).some(o=>o!==H)&&e.children[H]&&e.numberOfChildren===1&&e.children[H].segments.length===0){let o=es(e.children[H],t,n);return new ie(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ie(e.segments,i)}}function eR(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(os(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!GC(l,c,s))return o;r+=2}else{if(!GC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Vh(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(os(o)){let l=tR(o.outlets);return new ie(r,l)}if(i===0&&fc(n[0])){let l=e.segments[t];r.push(new br(l.path,WC(n[0]))),i++;continue}let s=os(o)?o.outlets[H]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&fc(a)?(r.push(new br(s,WC(a))),i+=2):(r.push(new br(s,{})),i++)}return new ie(r,{})}function tR(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Vh(new ie([],{}),0,r))}),t}function WC(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function GC(e,t,n){return e==n.path&&Zt(t,n.parameters)}var ts="imperative",Le=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Le||{}),Ct=class{id;url;constructor(t,n){this.id=t,this.url=n}},ss=class extends Ct{type=Le.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Sn=class extends Ct{urlAfterRedirects;type=Le.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},st=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(st||{}),jh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(jh||{}),bn=class extends Ct{reason;code;type=Le.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sr=class extends Ct{reason;code;type=Le.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},as=class extends Ct{error;target;type=Le.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pc=class extends Ct{urlAfterRedirects;state;type=Le.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bh=class extends Ct{urlAfterRedirects;state;type=Le.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uh=class extends Ct{urlAfterRedirects;state;shouldActivate;type=Le.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},$h=class extends Ct{urlAfterRedirects;state;type=Le.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hh=class extends Ct{urlAfterRedirects;state;type=Le.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zh=class{route;type=Le.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wh=class{route;type=Le.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gh=class{snapshot;type=Le.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qh=class{snapshot;type=Le.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qh=class{snapshot;type=Le.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zh=class{snapshot;type=Le.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ls=class{},Pi=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function nR(e,t){return e.providers&&!e._injector&&(e._injector=sh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function kt(e){return e.outlet||H}function rR(e,t){let n=e.filter(r=>kt(r)===t);return n.push(...e.filter(r=>kt(r)!==t)),n}function ps(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Yh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ps(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new wc(this.rootInjector)}},wc=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Yh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(b(Te))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),gc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Kh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Kh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Xh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Xh(t,this._root).map(n=>n.value)}};function Kh(e,t){if(e===t.value)return t;for(let n of t.children){let r=Kh(e,n);if(r)return r}return null}function Xh(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Xh(e,n);if(r.length)return r.unshift(t),r}return[]}var ot=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ai(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var mc=class extends gc{snapshot;constructor(t,n){super(t),this.snapshot=n,lp(this,t)}toString(){return this.snapshot.toString()}};function uw(e){let t=iR(e),n=new Pe([new br("",{})]),r=new Pe({}),i=new Pe({}),o=new Pe({}),s=new Pe(""),a=new Fi(n,r,o,s,i,H,e,t.root);return a.snapshot=t.root,new mc(new ot(a,[]),t)}function iR(e){let t={},n={},r={},i="",o=new Ri([],t,r,i,n,H,e,null,{});return new yc("",new ot(o,[]))}var Fi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(k(c=>c[hs]))??O(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(t=>ki(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(t=>ki(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vc(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:E(E({},t.params),e.params),data:E(E({},t.data),e.data),resolve:E(E(E(E({},e.data),t.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&fw(i)&&(r.resolve[hs]=i.title),r}var Ri=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[hs]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ki(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},yc=class extends gc{url;constructor(t,n){super(n),this.url=t,lp(this,n)}toString(){return dw(this._root)}};function lp(e,t){t.value._routerState=e,t.children.forEach(n=>lp(e,n))}function dw(e){let t=e.children.length>0?` { ${e.children.map(dw).join(", ")} } `:"";return`${e.value}${t}`}function Rh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Zt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Zt(t.params,n.params)||e.paramsSubject.next(n.params),NN(t.url,n.url)||e.urlSubject.next(n.url),Zt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Jh(e,t){let n=Zt(e.params,t.params)&&PN(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Jh(e.parent,t.parent))}function fw(e){return typeof e.title=="string"||e.title===null}var oR=new S(""),cp=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new Fe;deactivateEvents=new Fe;attachEvents=new Fe;detachEvents=new Fe;routerOutletData=q_(void 0);parentContexts=C(wc);location=C(Ii);changeDetector=C(wr);inputBinder=C(up,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new ep(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[$n]})}return e})(),ep=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Fi?this.route:t===wc?this.childContexts:t===oR?this.outletData:this.parent.get(t,n)}},up=new S("");function sR(e,t,n){let r=cs(e,t._root,n?n._root:void 0);return new mc(r,t)}function cs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=aR(e,t,n);return new ot(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>cs(e,a)),s}}let r=lR(t.value),i=t.children.map(o=>cs(e,o));return new ot(r,i)}}function aR(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return cs(e,r,i);return cs(e,r)})}function lR(e){return new Fi(new Pe(e.url),new Pe(e.params),new Pe(e.queryParams),new Pe(e.fragment),new Pe(e.data),e.outlet,e.component,e)}var us=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},hw="ngNavigationCancelingError";function _c(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=is(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=pw(!1,st.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function pw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[hw]=!0,n.cancellationCode=t,n}function cR(e){return gw(e)&&is(e.url)}function gw(e){return!!e&&e[hw]}var uR=(e,t,n,r)=>k(i=>(new tp(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),tp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Rh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Ai(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ai(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ai(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Ai(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new qh(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Rh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Rh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Cc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Oi=class{component;route;constructor(t,n){this.component=t,this.route=n}};function dR(e,t,n){let r=e._root,i=t?t._root:null;return Jo(r,i,n,[r.value])}function fR(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Vi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!$y(e)?e:t.get(e):r}function Jo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ai(t);return e.children.forEach(s=>{hR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ns(a,n.getContext(s),i)),i}function hR(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=pR(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Cc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Jo(e,t,a?a.children:null,r,i):Jo(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Oi(a.outlet.component,s))}else s&&ns(t,a,i),i.canActivateChecks.push(new Cc(r)),o.component?Jo(e,null,a?a.children:null,r,i):Jo(e,null,n,r,i);return i}function pR(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Ir(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Ir(e.url,t.url)||!Zt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Jh(e,t)||!Zt(e.queryParams,t.queryParams);case"paramsChange":default:return!Jh(e,t)}}function ns(e,t,n){let r=Ai(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?ns(s,t.children.getContext(o),n):ns(s,null,n):ns(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Oi(t.outlet.component,i)):n.canDeactivateChecks.push(new Oi(null,i)):n.canDeactivateChecks.push(new Oi(null,i))}function gs(e){return typeof e=="function"}function gR(e){return typeof e=="boolean"}function mR(e){return e&&gs(e.canLoad)}function vR(e){return e&&gs(e.canActivate)}function yR(e){return e&&gs(e.canActivateChild)}function _R(e){return e&&gs(e.canDeactivate)}function CR(e){return e&&gs(e.canMatch)}function mw(e){return e instanceof un||e?.name==="EmptyError"}var lc=Symbol("INITIAL_VALUE");function Li(){return pe(e=>Ua(e.map(t=>t.pipe(dn(1),wd(lc)))).pipe(k(t=>{for(let n of t)if(n!==!0){if(n===lc)return lc;if(n===!1||wR(n))return n}return!0}),$e(t=>t!==lc),dn(1)))}function wR(e){return is(e)||e instanceof us}function ER(e,t){return Me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?O(W(E({},n),{guardsResult:!0})):DR(s,r,i,e).pipe(Me(a=>a&&gR(a)?bR(r,o,e,t):O(a)),k(a=>W(E({},n),{guardsResult:a})))})}function DR(e,t,n,r){return se(e).pipe(Me(i=>xR(i.component,i.route,n,t,r)),Mt(i=>i!==!0,!0))}function bR(e,t,n,r){return se(t).pipe(kn(i=>Jr(SR(i.route.parent,r),IR(i.route,r),TR(e,i.path,n),MR(e,i.route,n))),Mt(i=>i!==!0,!0))}function IR(e,t){return e!==null&&t&&t(new Qh(e)),O(!0)}function SR(e,t){return e!==null&&t&&t(new Gh(e)),O(!0)}function MR(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>$a(()=>{let s=ps(t)??n,a=Vi(o,s),l=vR(a)?a.canActivate(t,e):Je(s,()=>a(t,e));return Wn(l).pipe(Mt())}));return O(i).pipe(Li())}function TR(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>fR(s)).filter(s=>s!==null).map(s=>$a(()=>{let a=s.guards.map(l=>{let c=ps(s.node)??n,u=Vi(l,c),d=yR(u)?u.canActivateChild(r,e):Je(c,()=>u(r,e));return Wn(d).pipe(Mt())});return O(a).pipe(Li())}));return O(o).pipe(Li())}function xR(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(a=>{let l=ps(t)??i,c=Vi(a,l),u=_R(c)?c.canDeactivate(e,t,n,r):Je(l,()=>c(e,t,n,r));return Wn(u).pipe(Mt())});return O(s).pipe(Li())}function AR(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let a=Vi(s,e),l=mR(a)?a.canLoad(t,n):Je(e,()=>a(t,n));return Wn(l)});return O(o).pipe(Li(),vw(r))}function vw(e){return cd(Ne(t=>{if(typeof t!="boolean")throw _c(e,t)}),k(t=>t===!0))}function NR(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let a=Vi(s,e),l=CR(a)?a.canMatch(t,n):Je(e,()=>a(t,n));return Wn(l)});return O(o).pipe(Li(),vw(r))}var ds=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},fs=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function xi(e){return Xr(new ds(e))}function RR(e){return Xr(new x(4e3,!1))}function OR(e){return Xr(pw(!1,st.GuardRejected))}var np=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[H])return RR(`${t.redirectTo}`);i=i.children[H]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:p,title:v}=i,y=Je(o,()=>a({params:h,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:v}));if(y instanceof In)throw new fs(y);n=y}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new fs(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new In(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new ie(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},rp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kR(e,t,n,r,i){let o=yw(e,t,n);return o.matched?(r=nR(t,r),NR(r,t,n,i).pipe(k(s=>s===!0?o:E({},rp)))):O(o)}function yw(e,t,n){if(t.path==="**")return PR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?E({},rp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||AN)(n,e,t);if(!i)return E({},rp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function PR(e){return{matched:!0,parameters:e.length>0?KC(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function qC(e,t,n,r){return n.length>0&&VR(e,n,r)?{segmentGroup:new ie(t,LR(r,new ie(n,e.children))),slicedSegments:[]}:n.length===0&&jR(e,n,r)?{segmentGroup:new ie(e.segments,FR(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ie(e.segments,e.children),slicedSegments:n}}function FR(e,t,n,r){let i={};for(let o of n)if(Ec(e,t,o)&&!r[kt(o)]){let s=new ie([],{});i[kt(o)]=s}return E(E({},r),i)}function LR(e,t){let n={};n[H]=t;for(let r of e)if(r.path===""&&kt(r)!==H){let i=new ie([],{});n[kt(r)]=i}return n}function VR(e,t,n){return n.some(r=>Ec(e,t,r)&&kt(r)!==H)}function jR(e,t,n){return n.some(r=>Ec(e,t,r))}function Ec(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function BR(e,t,n){return t.length===0&&!e.children[n]}var ip=class{};function UR(e,t,n,r,i,o,s="emptyOnly"){return new op(e,t,n,r,i,s,o).recognize()}var $R=31,op=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new np(this.urlSerializer,this.urlTree)}noMatchError(t){return new x(4002,`'${t.segmentGroup}'`)}recognize(){let t=qC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(k(({children:n,rootSnapshot:r})=>{let i=new ot(r,n),o=new yc("",i),s=ZN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Ri([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,H,n).pipe(k(r=>({children:r,rootSnapshot:n})),On(r=>{if(r instanceof fs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ds?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(k(s=>s instanceof ot?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return se(o).pipe(kn(s=>{let a=r.children[s],l=rR(n,s);return this.processSegmentGroup(t,l,a,s,i)}),ni((s,a)=>(s.push(...a),s)),Pn(null),yd(),Me(s=>{if(s===null)return xi(r);let a=_w(s);return HR(a),O(a)}))}processSegment(t,n,r,i,o,s,a){return se(n).pipe(kn(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(On(c=>{if(c instanceof ds)return O(null);throw c}))),Mt(l=>!!l),On(l=>{if(mw(l))return BR(r,i,o)?O(new ip):xi(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return kt(r)!==s&&(s===H||!Ec(i,o,r))?xi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):xi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=yw(n,i,o);if(!l)return xi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>$R&&(this.allowRedirects=!1));let h=new Ri(o,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,QC(i),kt(i),i.component??i._loadedComponent??null,i,ZC(i)),p=vc(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,v).pipe(Me(y=>this.processSegment(t,r,n,y.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=kR(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(pe(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(pe(({routes:c})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new Ri(f,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,QC(r),kt(r),r.component??r._loadedComponent??null,r,ZC(r)),v=vc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(v.params),p.data=Object.freeze(v.data);let{segmentGroup:y,slicedSegments:I}=qC(n,f,h,c);if(I.length===0&&y.hasChildren())return this.processChildren(u,c,y,p).pipe(k(_=>new ot(p,_)));if(c.length===0&&I.length===0)return O(new ot(p,[]));let z=kt(r)===o;return this.processSegment(u,c,y,I,z?H:o,!0,p).pipe(k(_=>new ot(p,_ instanceof ot?[_]:[])))}))):xi(n)))}getChildConfig(t,n,r){return n.children?O({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):AR(t,n,r,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(t,n).pipe(Ne(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):OR(n))):O({routes:[],injector:t})}};function HR(e){e.sort((t,n)=>t.value.outlet===H?-1:n.value.outlet===H?1:t.value.outlet.localeCompare(n.value.outlet))}function zR(e){let t=e.value.routeConfig;return t&&t.path===""}function _w(e){let t=[],n=new Set;for(let r of e){if(!zR(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=_w(r.children);t.push(new ot(r.value,i))}return t.filter(r=>!n.has(r))}function QC(e){return e.data||{}}function ZC(e){return e.resolve||{}}function WR(e,t,n,r,i,o){return Me(s=>UR(e,t,n,r,s.extractedUrl,i,o).pipe(k(({state:a,tree:l})=>W(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function GR(e,t){return Me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Cw(l))s.add(c);let a=0;return se(s).pipe(kn(l=>o.has(l)?qR(l,r,e,t):(l.data=vc(l,l.parent,e).resolve,O(void 0))),Ne(()=>a++),ti(1),Me(l=>a===s.size?O(n):Ve))})}function Cw(e){let t=e.children.map(n=>Cw(n)).flat();return[e,...t]}function qR(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!fw(i)&&(o[hs]=i.title),QR(o,e,t,r).pipe(k(s=>(e._resolvedData=s,e.data=vc(e,e.parent,n).resolve,null)))}function QR(e,t,n,r){let i=Ph(e);if(i.length===0)return O({});let o={};return se(i).pipe(Me(s=>ZR(e[s],t,n,r).pipe(Mt(),Ne(a=>{if(a instanceof us)throw _c(new rs,a);o[s]=a}))),ti(1),k(()=>o),On(s=>mw(s)?Ve:Xr(s)))}function ZR(e,t,n,r){let i=ps(t)??r,o=Vi(e,i),s=o.resolve?o.resolve(t,n):Je(i,()=>o(t,n));return Wn(s)}function Oh(e){return pe(t=>{let n=e(t);return n?se(n).pipe(k(()=>t)):O(t)})}var ww=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===H);return r}getResolvedTitleForRoute(n){return n.data[hs]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>C(YR),providedIn:"root"})}return e})(),YR=(()=>{class e extends ww{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(b($C))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),dp=new S("",{providedIn:"root",factory:()=>({})}),KR=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=me({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&M(0,"router-outlet")},dependencies:[cp],encapsulation:2})}return e})();function fp(e){let t=e.children&&e.children.map(fp),n=t?W(E({},e),{children:t}):E({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=KR),n}var hp=new S(""),XR=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(dh);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return O(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Wn(n.loadComponent()).pipe(k(Ew),Ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ar(()=>{this.componentLoaders.delete(n)})),i=new qr(r,()=>new he).pipe(Gr());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=JR(r,this.compiler,n,this.onLoadEndListener).pipe(ar(()=>{this.childrenLoaders.delete(r)})),s=new qr(o,()=>new he).pipe(Gr());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function JR(e,t,n,r){return Wn(e.loadChildren()).pipe(k(Ew),Me(i=>i instanceof No||Array.isArray(i)?O(i):se(t.compileModuleAsync(i))),k(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(hp,[],{optional:!0,self:!0}).flat()),{routes:s.map(fp),injector:o}}))}function e1(e){return e&&typeof e=="object"&&"default"in e}function Ew(e){return e1(e)?e.default:e}var pp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>C(t1),providedIn:"root"})}return e})(),t1=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),n1=new S("");var r1=new S(""),i1=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new he;transitionAbortSubject=new he;configLoader=C(XR);environmentInjector=C(Te);destroyRef=C(Lo);urlSerializer=C(ap);rootContexts=C(wc);location=C(Ho);inputBindingEnabled=C(up,{optional:!0})!==null;titleStrategy=C(ww);options=C(dp,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(pp);createViewTransition=C(n1,{optional:!0});navigationErrorHandler=C(r1,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>O(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new zh(i)),r=i=>this.events.next(new Wh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(W(E(E({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Pe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ts,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($e(o=>o.id!==0),k(o=>W(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pe(o=>{let s=!1,a=!1;return O(o).pipe(pe(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),Ve;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?W(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Sr(l.id,this.urlSerializer.serialize(l.rawUrl),d,jh.IgnoredSameUrlNavigation)),l.resolve(!1),Ve}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return O(l).pipe(pe(d=>{let f=this.transitions?.getValue();return this.events.next(new ss(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Ve:Promise.resolve(d)}),WR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=W(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new pc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:v}=l,y=new ss(d,this.urlSerializer.serialize(f),h,p);this.events.next(y);let I=uw(this.rootComponentType).snapshot;return this.currentTransition=o=W(E({},l),{targetSnapshot:I,urlAfterRedirects:f,extras:W(E({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let d="";return this.events.next(new Sr(l.id,this.urlSerializer.serialize(l.extractedUrl),d,jh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ve}}),Ne(l=>{let c=new Bh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),k(l=>(this.currentTransition=o=W(E({},l),{guards:dR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),ER(this.environmentInjector,l=>this.events.next(l)),Ne(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw _c(this.urlSerializer,l.guardsResult);let c=new Uh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),$e(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",st.GuardRejected),!1)),Oh(l=>{if(l.guards.canActivateChecks.length)return O(l).pipe(Ne(c=>{let u=new $h(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),pe(c=>{let u=!1;return O(c).pipe(GR(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",st.NoDataFromResolver)}}))}),Ne(c=>{let u=new Hh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Oh(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ne(f=>{u.component=f}),k(()=>{})));for(let f of u.children)d.push(...c(f));return d};return Ua(c(l.targetSnapshot.root)).pipe(Pn(null),dn(1))}),Oh(()=>this.afterPreactivation()),pe(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?se(u).pipe(k(()=>o)):O(o)}),k(l=>{let c=sR(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=W(E({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Ne(()=>{this.events.next(new ls)}),uR(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),dn(1),Ne({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Sn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),Ed(this.transitionAbortSubject.pipe(Ne(l=>{throw l}))),ar(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",st.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),On(l=>{if(this.destroyed)return o.resolve(!1),Ve;if(a=!0,gw(l))this.events.next(new bn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),cR(l)?this.events.next(new Pi(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new as(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=Je(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof us){let{message:d,cancellationCode:f}=_c(this.urlSerializer,u);this.events.next(new bn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new Pi(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ve}))}))}cancelNavigationTransition(n,r,i){let o=new bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function o1(e){return e!==ts}var s1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>C(a1),providedIn:"root"})}return e})(),sp=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},a1=(()=>{class e extends sp{static \u0275fac=(()=>{let n;return function(i){return(n||(n=wi(e)))(i||e)}})();static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:()=>C(l1),providedIn:"root"})}return e})(),l1=(()=>{class e extends Dw{location=C(Ho);urlSerializer=C(ap);options=C(dp,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=C(pp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new In;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=uw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ss)this.stateMemento=this.createStateMemento();else if(n instanceof Sr)this.rawUrlTree=r.initialUrl;else if(n instanceof pc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ls?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof bn&&(n.code===st.GuardRejected||n.code===st.NoDataFromResolver)?this.restoreHistory(r):n instanceof as?this.restoreHistory(r,!0):n instanceof Sn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof In?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=wi(e)))(i||e)}})();static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function c1(e,t){e.events.pipe($e(n=>n instanceof Sn||n instanceof bn||n instanceof as||n instanceof Sr),k(n=>n instanceof Sn||n instanceof Sr?0:(n instanceof bn?n.code===st.Redirect||n.code===st.SupersededByNewNavigation:!1)?2:1),$e(n=>n!==2),dn(1)).subscribe(()=>{t()})}var u1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},d1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},wt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(lh);stateManager=C(Dw);options=C(dp,{optional:!0})||{};pendingTasks=C(Cn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(i1);urlSerializer=C(ap);location=C(Ho);urlHandlingStrategy=C(pp);_events=new he;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(s1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(hp,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(up,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new _e;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof bn&&r.code!==st.Redirect&&r.code!==st.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Sn)this.navigated=!0;else if(r instanceof Pi){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||o1(i.source)},s);this.scheduleNavigation(a,ts,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}h1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ts,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(fp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=sw(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return aw(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=is(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ts,null,r)}navigate(n,r={skipLocationChange:!1}){return f1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=E({},u1):r===!1?i=E({},d1):i=r,is(n))return HC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return HC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return c1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function f1(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new x(4008,!1)}function h1(e){return!(e instanceof ls)&&!(e instanceof Pi)}var p1=new S("");function bw(e,...t){return yi([{provide:hp,multi:!0,useValue:e},[],{provide:Fi,useFactory:g1,deps:[wt]},{provide:$l,multi:!0,useFactory:m1},t.map(n=>n.\u0275providers)])}function g1(e){return e.routerState.root}function m1(){let e=C(rt);return t=>{let n=e.get(gn);if(t!==n.components[0])return;let r=e.get(wt),i=e.get(v1);e.get(y1)===1&&r.initialNavigation(),e.get(_1,null,q.Optional)?.setUpPreloading(),e.get(p1,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var v1=new S("",{factory:()=>new he}),y1=new S("",{providedIn:"root",factory:()=>1});var _1=new S("");var Aw={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},yp={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},C1=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Dc={CSS:{},springs:{}};function Yt(e,t,n){return Math.min(Math.max(e,t),n)}function vs(e,t){return e.indexOf(t)>-1}function gp(e,t){return e.apply(null,t)}var R={arr:function(e){return Array.isArray(e)},obj:function(e){return vs(Object.prototype.toString.call(e),"Object")},pth:function(e){return R.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||R.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return R.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return R.hex(e)||R.rgb(e)||R.hsl(e)},key:function(e){return!Aw.hasOwnProperty(e)&&!yp.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function Nw(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function Rw(e,t){var n=Nw(e),r=Yt(R.und(n[0])?1:n[0],.1,100),i=Yt(R.und(n[1])?100:n[1],.1,100),o=Yt(R.und(n[2])?10:n[2],.1,100),s=Yt(R.und(n[3])?0:n[3],.1,100),a=Math.sqrt(i/r),l=o/(2*Math.sqrt(i*r)),c=l<1?a*Math.sqrt(1-l*l):0,u=1,d=l<1?(l*a+-s)/c:-s+a;function f(p){var v=t?t*p/1e3:p;return l<1?v=Math.exp(-v*l*a)*(u*Math.cos(c*v)+d*Math.sin(c*v)):v=(u+d*v)*Math.exp(-v*a),p===0||p===1?p:1-v}function h(){var p=Dc.springs[e];if(p)return p;for(var v=1/6,y=0,I=0;;)if(y+=v,f(y)===1){if(I++,I>=16)break}else I=0;var z=y*v*1e3;return Dc.springs[e]=z,z}return t?f:h}function w1(e){return e===void 0&&(e=10),function(t){return Math.ceil(Yt(t,1e-6,1)*e)*(1/e)}}var E1=function(){var e=11,t=1/(e-1);function n(u,d){return 1-3*d+3*u}function r(u,d){return 3*d-6*u}function i(u){return 3*u}function o(u,d,f){return((n(d,f)*u+r(d,f))*u+i(d))*u}function s(u,d,f){return 3*n(d,f)*u*u+2*r(d,f)*u+i(d)}function a(u,d,f,h,p){var v,y,I=0;do y=d+(f-d)/2,v=o(y,h,p)-u,v>0?f=y:d=y;while(Math.abs(v)>1e-7&&++I<10);return y}function l(u,d,f,h){for(var p=0;p<4;++p){var v=s(d,f,h);if(v===0)return d;var y=o(d,f,h)-u;d-=y/v}return d}function c(u,d,f,h){if(!(0<=u&&u<=1&&0<=f&&f<=1))return;var p=new Float32Array(e);if(u!==d||f!==h)for(var v=0;v<e;++v)p[v]=o(v*t,u,f);function y(I){for(var z=0,_=1,T=e-1;_!==T&&p[_]<=I;++_)z+=t;--_;var de=(I-p[_])/(p[_+1]-p[_]),Be=z+de*t,we=s(Be,u,f);return we>=.001?l(I,Be,u,f):we===0?Be:a(I,z,z+t,u,f)}return function(I){return u===d&&f===h||I===0||I===1?I:o(y(I),d,h)}}return c}(),Ow=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Expo:function(){return function(r){return r?Math.pow(2,10*r-10):0}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,o=4;r<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var o=Yt(r,1,10),s=Yt(i,.1,2);return function(a){return a===0||a===1?a:-o*Math.pow(2,10*(a-1))*Math.sin((a-1-s/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/s)}}},n=["Quad","Cubic","Quart","Quint"];return n.forEach(function(r,i){t[r]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(t).forEach(function(r){var i=t[r];e["easeIn"+r]=i,e["easeOut"+r]=function(o,s){return function(a){return 1-i(o,s)(1-a)}},e["easeInOut"+r]=function(o,s){return function(a){return a<.5?i(o,s)(a*2)/2:1-i(o,s)(a*-2+2)/2}},e["easeOutIn"+r]=function(o,s){return function(a){return a<.5?(1-i(o,s)(1-a*2))/2:(i(o,s)(a*2-1)+1)/2}}}),e}();function _p(e,t){if(R.fnc(e))return e;var n=e.split("(")[0],r=Ow[n],i=Nw(e);switch(n){case"spring":return Rw(e,t);case"cubicBezier":return gp(E1,i);case"steps":return gp(w1,i);default:return gp(r,i)}}function kw(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function bc(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(r,s,o,e)&&i.push(s)}return i}function Ic(e){return e.reduce(function(t,n){return t.concat(R.arr(n)?Ic(n):n)},[])}function Iw(e){return R.arr(e)?e:(R.str(e)&&(e=kw(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function Cp(e,t){return e.some(function(n){return n===t})}function wp(e){var t={};for(var n in e)t[n]=e[n];return t}function mp(e,t){var n=wp(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function Sc(e,t){var n=wp(e);for(var r in t)n[r]=R.und(e[r])?t[r]:e[r];return n}function D1(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function b1(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(a,l,c,u){return l+l+c+c+u+u}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),o=parseInt(r[2],16),s=parseInt(r[3],16);return"rgba("+i+","+o+","+s+",1)"}function I1(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,o=t[4]||1;function s(f,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?f+(h-f)*6*p:p<1/2?h:p<2/3?f+(h-f)*(2/3-p)*6:f}var a,l,c;if(r==0)a=l=c=i;else{var u=i<.5?i*(1+r):i+r-i*r,d=2*i-u;a=s(d,u,n+1/3),l=s(d,u,n),c=s(d,u,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+o+")"}function S1(e){if(R.rgb(e))return D1(e);if(R.hex(e))return b1(e);if(R.hsl(e))return I1(e)}function Mn(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function M1(e){if(vs(e,"translate")||e==="perspective")return"px";if(vs(e,"rotate")||vs(e,"skew"))return"deg"}function vp(e,t){return R.fnc(e)?e(t.target,t.id,t.total):e}function Kt(e,t){return e.getAttribute(t)}function Ep(e,t,n){var r=Mn(t);if(Cp([n,"deg","rad","turn"],r))return t;var i=Dc.CSS[t+n];if(!R.und(i))return i;var o=100,s=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(s),s.style.position="absolute",s.style.width=o+n;var l=o/s.offsetWidth;a.removeChild(s);var c=l*parseFloat(t);return Dc.CSS[t+n]=c,c}function Pw(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?Ep(e,i,n):i}}function Dp(e,t){if(R.dom(e)&&!R.inp(e)&&(!R.nil(Kt(e,t))||R.svg(e)&&e[t]))return"attribute";if(R.dom(e)&&Cp(C1,t))return"transform";if(R.dom(e)&&t!=="transform"&&Pw(e,t))return"css";if(e[t]!=null)return"object"}function Fw(e){if(R.dom(e)){for(var t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(t);)r.set(i[1],i[2]);return r}}function T1(e,t,n,r){var i=vs(t,"scale")?1:0+M1(t),o=Fw(e).get(t)||i;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),r?Ep(e,o,r):o}function bp(e,t,n,r){switch(Dp(e,t)){case"transform":return T1(e,t,r,n);case"css":return Pw(e,t,n);case"attribute":return Kt(e,t);default:return e[t]||0}}function Ip(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=Mn(e)||0,i=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function Lw(e,t){if(R.col(e))return S1(e);if(/\s/g.test(e))return e;var n=Mn(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function Sp(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function x1(e){return Math.PI*2*Kt(e,"r")}function A1(e){return Kt(e,"width")*2+Kt(e,"height")*2}function N1(e){return Sp({x:Kt(e,"x1"),y:Kt(e,"y1")},{x:Kt(e,"x2"),y:Kt(e,"y2")})}function Vw(e){for(var t=e.points,n=0,r,i=0;i<t.numberOfItems;i++){var o=t.getItem(i);i>0&&(n+=Sp(r,o)),r=o}return n}function R1(e){var t=e.points;return Vw(e)+Sp(t.getItem(t.numberOfItems-1),t.getItem(0))}function jw(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return x1(e);case"rect":return A1(e);case"line":return N1(e);case"polyline":return Vw(e);case"polygon":return R1(e)}}function O1(e){var t=jw(e);return e.setAttribute("stroke-dasharray",t),t}function k1(e){for(var t=e.parentNode;R.svg(t)&&R.svg(t.parentNode);)t=t.parentNode;return t}function Bw(e,t){var n=t||{},r=n.el||k1(e),i=r.getBoundingClientRect(),o=Kt(r,"viewBox"),s=i.width,a=i.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function P1(e,t){var n=R.str(e)?kw(e)[0]:e,r=t||100;return function(i){return{property:i,el:n,svg:Bw(n),totalLength:jw(n)*(r/100)}}}function F1(e,t,n){function r(u){u===void 0&&(u=0);var d=t+u>=1?t+u:0;return e.el.getPointAtLength(d)}var i=Bw(e.el,e.svg),o=r(),s=r(-1),a=r(1),l=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(e.property){case"x":return(o.x-i.x)*l;case"y":return(o.y-i.y)*c;case"angle":return Math.atan2(a.y-s.y,a.x-s.x)*180/Math.PI}}function Sw(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Lw(R.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:R.str(e)||t?r.split(n):[]}}function Mp(e){var t=e?Ic(R.arr(e)?e.map(Iw):Iw(e)):[];return bc(t,function(n,r,i){return i.indexOf(n)===r})}function Uw(e){var t=Mp(e);return t.map(function(n,r){return{target:n,id:r,total:t.length,transforms:{list:Fw(n)}}})}function L1(e,t){var n=wp(t);if(/^spring/.test(n.easing)&&(n.duration=Rw(n.easing)),R.arr(e)){var r=e.length,i=r===2&&!R.obj(e[0]);i?e={value:e}:R.fnc(t.duration)||(n.duration=t.duration/r)}var o=R.arr(e)?e:[e];return o.map(function(s,a){var l=R.obj(s)&&!R.pth(s)?s:{value:s};return R.und(l.delay)&&(l.delay=a?0:t.delay),R.und(l.endDelay)&&(l.endDelay=a===o.length-1?t.endDelay:0),l}).map(function(s){return Sc(s,n)})}function V1(e){for(var t=bc(Ic(e.map(function(o){return Object.keys(o)})),function(o){return R.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),n={},r=function(o){var s=t[o];n[s]=e.map(function(a){var l={};for(var c in a)R.key(c)?c==s&&(l.value=a[c]):l[c]=a[c];return l})},i=0;i<t.length;i++)r(i);return n}function j1(e,t){var n=[],r=t.keyframes;r&&(t=Sc(V1(r),t));for(var i in t)R.key(i)&&n.push({name:i,tweens:L1(t[i],e)});return n}function B1(e,t){var n={};for(var r in e){var i=vp(e[r],t);R.arr(i)&&(i=i.map(function(o){return vp(o,t)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function U1(e,t){var n;return e.tweens.map(function(r){var i=B1(r,t),o=i.value,s=R.arr(o)?o[1]:o,a=Mn(s),l=bp(t.target,e.name,a,t),c=n?n.to.original:l,u=R.arr(o)?o[0]:c,d=Mn(u)||Mn(l),f=a||d;return R.und(s)&&(s=c),i.from=Sw(u,f),i.to=Sw(Ip(s,u),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=_p(i.easing,i.duration),i.isPath=R.pth(o),i.isPathTargetInsideSVG=i.isPath&&R.svg(t.target),i.isColor=R.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var $w={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var o="";r.list.forEach(function(s,a){o+=a+"("+s+") "}),e.style.transform=o}}};function Hw(e,t){var n=Uw(e);n.forEach(function(r){for(var i in t){var o=vp(t[i],r),s=r.target,a=Mn(o),l=bp(s,i,a,r),c=a||Mn(l),u=Ip(Lw(o,c),l),d=Dp(s,i);$w[d](s,i,u,r.transforms,!0)}})}function $1(e,t){var n=Dp(e.target,t.name);if(n){var r=U1(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function H1(e,t){return bc(Ic(e.map(function(n){return t.map(function(r){return $1(n,r)})})),function(n){return!R.und(n)})}function zw(e,t){var n=e.length,r=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map(function(o){return r(o)+o.duration})):t.duration,i.delay=n?Math.min.apply(Math,e.map(function(o){return r(o)+o.delay})):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map(function(o){return r(o)+o.duration-o.endDelay})):t.endDelay,i}var Mw=0;function z1(e){var t=mp(Aw,e),n=mp(yp,e),r=j1(n,e),i=Uw(e.targets),o=H1(i,r),s=zw(o,n),a=Mw;return Mw++,Sc(t,{id:a,children:[],animatables:i,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}var Pt=[],Ww=function(){var e;function t(){!e&&(!Tw()||!Ce.suspendWhenDocumentHidden)&&Pt.length>0&&(e=requestAnimationFrame(n))}function n(i){for(var o=Pt.length,s=0;s<o;){var a=Pt[s];a.paused?(Pt.splice(s,1),o--):(a.tick(i),s++)}e=s>0?requestAnimationFrame(n):void 0}function r(){Ce.suspendWhenDocumentHidden&&(Tw()?e=cancelAnimationFrame(e):(Pt.forEach(function(i){return i._onDocumentVisibility()}),Ww()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function Tw(){return!!document&&document.hidden}function Ce(e){e===void 0&&(e={});var t=0,n=0,r=0,i,o=0,s=null;function a(_){var T=window.Promise&&new Promise(function(de){return s=de});return _.finished=T,T}var l=z1(e),c=a(l);function u(){var _=l.direction;_!=="alternate"&&(l.direction=_!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,i.forEach(function(T){return T.reversed=l.reversed})}function d(_){return l.reversed?l.duration-_:_}function f(){t=0,n=d(l.currentTime)*(1/Ce.speed)}function h(_,T){T&&T.seek(_-T.timelineOffset)}function p(_){if(l.reversePlayback)for(var de=o;de--;)h(_,i[de]);else for(var T=0;T<o;T++)h(_,i[T])}function v(_){for(var T=0,de=l.animations,Be=de.length;T<Be;){var we=de[T],oa=we.animatable,nr=we.tweens,Vr=nr.length-1,Ee=nr[Vr];Vr&&(Ee=bc(nr,function(nI){return _<nI.end})[0]||Ee);for(var sa=Yt(_-Ee.start-Ee.delay,0,Ee.duration)/Ee.duration,sn=isNaN(sa)?1:Ee.easing(sa),aa=Ee.to.strings,Hu=Ee.round,zu=[],tI=Ee.to.numbers.length,jr=void 0,so=0;so<tI;so++){var ao=void 0,Wm=Ee.to.numbers[so],Gm=Ee.from.numbers[so]||0;Ee.isPath?ao=F1(Ee.value,sn*Wm,Ee.isPathTargetInsideSVG):ao=Gm+sn*(Wm-Gm),Hu&&(Ee.isColor&&so>2||(ao=Math.round(ao*Hu)/Hu)),zu.push(ao)}var qm=aa.length;if(!qm)jr=zu[0];else{jr=aa[0];for(var lo=0;lo<qm;lo++){var NL=aa[lo],Qm=aa[lo+1],Wu=zu[lo];isNaN(Wu)||(Qm?jr+=Wu+Qm:jr+=Wu+" ")}}$w[we.type](oa.target,we.property,jr,oa.transforms),we.currentValue=jr,T++}}function y(_){l[_]&&!l.passThrough&&l[_](l)}function I(){l.remaining&&l.remaining!==!0&&l.remaining--}function z(_){var T=l.duration,de=l.delay,Be=T-l.endDelay,we=d(_);l.progress=Yt(we/T*100,0,100),l.reversePlayback=we<l.currentTime,i&&p(we),!l.began&&l.currentTime>0&&(l.began=!0,y("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,y("loopBegin")),we<=de&&l.currentTime!==0&&v(0),(we>=Be&&l.currentTime!==T||!T)&&v(T),we>de&&we<Be?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,y("changeBegin")),y("change"),v(we)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,y("changeComplete")),l.currentTime=Yt(we,0,T),l.began&&y("update"),_>=T&&(n=0,I(),l.remaining?(t=r,y("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&u()):(l.paused=!0,l.completed||(l.completed=!0,y("loopComplete"),y("complete"),!l.passThrough&&"Promise"in window&&(s(),c=a(l)))))}return l.reset=function(){var _=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=_==="reverse",l.remaining=l.loop,i=l.children,o=i.length;for(var T=o;T--;)l.children[T].reset();(l.reversed&&l.loop!==!0||_==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=f,l.set=function(_,T){return Hw(_,T),l},l.tick=function(_){r=_,t||(t=r),z((r+(n-t))*Ce.speed)},l.seek=function(_){z(d(_))},l.pause=function(){l.paused=!0,f()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Pt.push(l),f(),Ww())},l.reverse=function(){u(),l.completed=!l.reversed,f()},l.restart=function(){l.reset(),l.play()},l.remove=function(_){var T=Mp(_);Gw(T,l)},l.reset(),l.autoplay&&l.play(),l}function xw(e,t){for(var n=t.length;n--;)Cp(e,t[n].animatable.target)&&t.splice(n,1)}function Gw(e,t){var n=t.animations,r=t.children;xw(e,n);for(var i=r.length;i--;){var o=r[i],s=o.animations;xw(e,s),!s.length&&!o.children.length&&r.splice(i,1)}!n.length&&!r.length&&t.pause()}function W1(e){for(var t=Mp(e),n=Pt.length;n--;){var r=Pt[n];Gw(t,r)}}function G1(e,t){t===void 0&&(t={});var n=t.direction||"normal",r=t.easing?_p(t.easing):null,i=t.grid,o=t.axis,s=t.from||0,a=s==="first",l=s==="center",c=s==="last",u=R.arr(e),d=parseFloat(u?e[0]:e),f=u?parseFloat(e[1]):0,h=Mn(u?e[1]:e)||0,p=t.start||0+(u?d:0),v=[],y=0;return function(I,z,_){if(a&&(s=0),l&&(s=(_-1)/2),c&&(s=_-1),!v.length){for(var T=0;T<_;T++){if(!i)v.push(Math.abs(s-T));else{var de=l?(i[0]-1)/2:s%i[0],Be=l?(i[1]-1)/2:Math.floor(s/i[0]),we=T%i[0],oa=Math.floor(T/i[0]),nr=de-we,Vr=Be-oa,Ee=Math.sqrt(nr*nr+Vr*Vr);o==="x"&&(Ee=-nr),o==="y"&&(Ee=-Vr),v.push(Ee)}y=Math.max.apply(Math,v)}r&&(v=v.map(function(sn){return r(sn/y)*y})),n==="reverse"&&(v=v.map(function(sn){return o?sn<0?sn*-1:-sn:Math.abs(y-sn)}))}var sa=u?(f-d)/y:d;return p+sa*(Math.round(v[z]*100)/100)+h}}function q1(e){e===void 0&&(e={});var t=Ce(e);return t.duration=0,t.add=function(n,r){var i=Pt.indexOf(t),o=t.children;i>-1&&Pt.splice(i,1);function s(f){f.passThrough=!0}for(var a=0;a<o.length;a++)s(o[a]);var l=Sc(n,mp(yp,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=R.und(r)?c:Ip(r,c),s(t),t.seek(l.timelineOffset);var u=Ce(l);s(u),o.push(u);var d=zw(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}Ce.version="3.2.1";Ce.speed=1;Ce.suspendWhenDocumentHidden=!0;Ce.running=Pt;Ce.remove=W1;Ce.get=bp;Ce.set=Hw;Ce.convertPx=Ep;Ce.path=P1;Ce.setDashoffset=O1;Ce.stagger=G1;Ce.timeline=q1;Ce.easing=_p;Ce.penner=Ow;Ce.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var N=Ce;var Mc=class e{ngAfterViewInit(){N({targets:[".container-clouds",".sun"],top:"-300%",duration:0}),setTimeout(()=>{N({targets:".container-clouds",top:"10%",duration:2e3,easing:"easeInOutQuad"}),N({targets:".sun",top:"-50px",duration:2e3,easing:"easeInOutQuad"})},0);let t=()=>Math.random()*3e4+7e3,n=()=>Math.random()*500-250,r=()=>Math.random()*50-25;N({targets:".cloud_icon1",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),N({targets:".cloud_icon2",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),N({targets:".cloud_icon3",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),N({targets:".cloud_icon4",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),N({targets:".cloud_icon5",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),N({targets:".sun",translateX:[{value:"0px",duration:0},{value:"calc(100vw - 20px)",duration:65e3,easing:"easeInOutQuad"}],rotateZ:[{value:0,duration:0},{value:60,duration:63e3,easing:"easeInOutQuad"}]})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["sky-clouds"]],decls:6,vars:0,consts:[["src","assets/img/sol.png","alt","cloud",1,"sun"],[1,"container-clouds"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon1"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon3"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon4"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon5"]],template:function(n,r){n&1&&(M(0,"img",0),g(1,"div",1),M(2,"img",2)(3,"img",3)(4,"img",4)(5,"img",5),m())},styles:[".container-clouds[_ngcontent-%COMP%]{top:0;position:absolute;left:0;width:100%;height:100%}.cloud_icon1[_ngcontent-%COMP%], .cloud_icon2[_ngcontent-%COMP%], .cloud_icon3[_ngcontent-%COMP%], .cloud_icon4[_ngcontent-%COMP%], .cloud_icon5[_ngcontent-%COMP%]{position:absolute}.cloud_icon1[_ngcontent-%COMP%]{top:10%;left:5%;width:100px;opacity:.3}.cloud_icon2[_ngcontent-%COMP%]{top:20%;left:10%;width:200px;opacity:.8}.cloud_icon3[_ngcontent-%COMP%]{top:-3%;right:30%;width:150px;opacity:.5}.cloud_icon4[_ngcontent-%COMP%]{top:5%;right:-5%;width:140px;opacity:.6}.cloud_icon5[_ngcontent-%COMP%]{top:20%;right:15%;width:100px;opacity:.7}.sun[_ngcontent-%COMP%]{position:absolute;top:-50px;left:-60px;width:210px;opacity:1}@media (min-width: 768px){.cloud_icon1[_ngcontent-%COMP%]{top:1%;left:5%;width:150px}.cloud_icon2[_ngcontent-%COMP%]{top:10%;left:20%;width:220px}.cloud_icon3[_ngcontent-%COMP%]{top:-5%;right:35%;width:200px}.cloud_icon4[_ngcontent-%COMP%]{top:1%;right:-5%;width:180px}.cloud_icon5[_ngcontent-%COMP%]{top:13%;right:25%;width:100px;opacity:.6}}@media (min-width: 1024px){.cloud_icon1[_ngcontent-%COMP%]{top:-2%;left:5%;width:200px;opacity:.6}.cloud_icon2[_ngcontent-%COMP%]{top:10%;left:20%;width:270px}.cloud_icon3[_ngcontent-%COMP%]{top:-6%;right:35%;width:220px}.cloud_icon4[_ngcontent-%COMP%]{top:12%;right:15%;width:210px}.cloud_icon5[_ngcontent-%COMP%]{top:5%;right:5%;width:100px;opacity:.6}}"]})};var Tc=class e{constructor(t){this.router=t;this.currentOrientation=window.innerWidth>window.innerHeight?"landscape":"portrait"}currentOrientation;timeline;ngAfterViewInit(){return oe(this,null,function*(){this.checkScreenSizeAndRedirect(),this.timelineAnimations()})}timelineAnimations(){return oe(this,null,function*(){this.timeline=N.timeline({easing:"easeInOutElastic",duration:1500}),this.timeline.add({targets:".countryside",opacity:1,duration:3e3,easing:"easeInQuart"}).add({targets:".bush",opacity:1,easing:"easeInQuart"},"-=2000").add({targets:".msg1-1",bottom:["-200px","30px"],left:["190px","140px"],rotate:["90deg","-10deg"],opacity:[0,1],delay:500}).add({targets:".msg1-1",bottom:"-100px",left:"190px",rotate:"90deg",opacity:0,delay:2e3}).add({targets:".msg1-2",bottom:["-200px","40px"],left:["80px","30px"],rotate:["-90deg","10deg"],opacity:[0,1],delay:100}).add({targets:".msg1-3",bottom:["-200px","20px"],left:["230px","170px"],rotate:["90deg","-10deg"],opacity:[0,1],delay:500},"-=1000").add({delay:2500}).add({targets:".msg1-2, .msg1-3",bottom:"-200px",rotate:"-90deg",opacity:0,delay:N.stagger(200)}).add({targets:".msg1-4",bottom:["-200px","30px"],left:["190px","140px"],rotate:["90deg","-10deg"],opacity:[0,1]},"-=1000").add({targets:".msg1-4",bottom:"-100px",left:"190px",rotate:"90deg",opacity:0,delay:2e3}).add({targets:".bush",left:"-300px",easing:"easeInOutQuad",duration:2500}).add({targets:".countryside",left:"-550px",easing:"easeInOutQuad"},"-=1800").add({targets:".msg4",left:"130%",opacity:1,duration:8e3,easing:"linear"}).add({targets:".msg3",bottom:"140px",opacity:1,duration:500,easing:"easeInOutQuad"},"-=5000").add({targets:".msg3",bottom:"180px",scale:.1,opacity:0,duration:500,easing:"easeInOutQuad"}).add({targets:".countryside",left:"-950px",easing:"easeInOutQuad"}).add({targets:".msg5",bottom:"30%",opacity:1,duration:2e3,easing:"easeInOutQuad"}).add({targets:".msg6",right:"130%",duration:8e3,easing:"linear",delay:1e3},"-=2000").add({targets:".msg5",right:"100%",opacity:1,duration:1500,easing:"easeInOutQuad"}).add({targets:".countryside",left:"-1300px",easing:"easeInOutQuad",opacity:1},"-=1500").add({targets:".msg7",bottom:"80%",right:"100%",width:["40%","60%","30%"],duration:8e3,easing:"easeInOutSine"}).add({targets:".countryside",bottom:"-340px",easing:"easeInOutQuad",delay:7e3},"-=8000").add({targets:".party",top:"30%",scale:1,opacity:1,easing:"easeInOutQuad",duration:2e3},"-=1800").add({duration:2e3,complete:()=>{this.router.navigate(["/invitacion"])}}).finished})}onResize(){let t=window.innerWidth,n=window.innerHeight,r=t>n?"landscape":"portrait";r!==this.currentOrientation&&(this.currentOrientation=r,r==="portrait"&&window.location.reload())}checkScreenSizeAndRedirect(){window.innerWidth>=768&&this.router.navigate(["/invitacion"])}static \u0275fac=function(n){return new(n||e)(G(wt))};static \u0275cmp=me({type:e,selectors:[["countryside"]],hostBindings:function(n,r){n&1&&F("resize",function(o){return r.onResize(o)},!1,c0)},decls:17,vars:0,consts:[[1,"container-inv"],["src","assets/img/countryside/countryside_bkg.png",1,"countryside"],["src","assets/img/countryside/msg1_1.png",1,"msg1-1","msg-rabbit"],["src","assets/img/countryside/msg1_2.png",1,"msg1-2","msg-rabbit"],["src","assets/img/countryside/msg1_3.png",1,"msg1-3","msg-rabbit"],["src","assets/img/countryside/msg1_4.png",1,"msg1-4","msg-rabbit"],["src","assets/img/countryside/bush.png",1,"bush"],["src","assets/img/countryside/msg3.png",1,"msg3"],["src","assets/img/countryside/msg4.png",1,"msg4"],["src","assets/img/countryside/msg5.png",1,"msg5"],["src","assets/img/countryside/msg6.png",1,"msg6"],["src","assets/img/countryside/msg7.png",1,"msg7"],[1,"d-flex","justify-content-center"],["src","assets/img/countryside/bautizo.png",1,"party"],[1,"rotate-screen"]],template:function(n,r){n&1&&(g(0,"div",0),M(1,"img",1)(2,"img",2)(3,"img",3)(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9)(10,"img",10)(11,"img",11),g(12,"div",12),M(13,"img",13),m()(),g(14,"div",14)(15,"p"),D(16,"Por favor voltea el dispositivo para continuar con la invitaci\xF3n"),m()())},styles:['@charset "UTF-8";.countryside[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:1920px;height:1080px;opacity:0}@media (max-width: 767px){.bush[_ngcontent-%COMP%]{position:absolute;bottom:-10px;left:20px;width:70%;transform:scaleX(-1);opacity:0}.countryside[_ngcontent-%COMP%]{position:absolute;bottom:-120px;left:-160px;opacity:0}.msg-rabbit[_ngcontent-%COMP%]{position:absolute;width:35%}.msg3[_ngcontent-%COMP%]{position:absolute;width:30%;bottom:160px;left:160px;opacity:0}.msg4[_ngcontent-%COMP%]{position:absolute;width:70%;top:30%;left:-70%}.msg5[_ngcontent-%COMP%]{position:absolute;width:70%;bottom:40%;right:0%;opacity:0}.msg6[_ngcontent-%COMP%]{position:absolute;width:70%;top:15%;right:-100%;opacity:1}.msg7[_ngcontent-%COMP%]{position:absolute;width:20%;bottom:100px;right:-20%;transform:rotate(10deg)}.party[_ngcontent-%COMP%]{position:absolute;top:50%;width:70%;opacity:0;transform:translate(-50%,-50%) scale(0)}}@media (min-width: 768px) and (max-width: 1024px){.countryside[_ngcontent-%COMP%]{position:absolute;bottom:300px;left:700px;width:1920px;height:1080px;opacity:0;transform:scale(2)}.container-inv[_ngcontent-%COMP%]{display:none;overflow:hidden;width:100%;height:100%}}@media (min-width: 1025px){.countryside[_ngcontent-%COMP%]{width:100%;height:100%;opacity:1}.container-inv[_ngcontent-%COMP%]{display:none}}.rotate-screen[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#f6d8d6;color:#000;text-align:center;justify-content:center;align-items:center;z-index:1000;overflow:hidden}@media (orientation: landscape){.rotate-screen[_ngcontent-%COMP%]{display:flex}}']})};function Q1(e,t){if(e&1&&(g(0,"div",15),M(1,"img",16),m()),e&2){let n=t.$implicit;ae("ngClass",n.className),re(),ae("src",n.src,bi)("ngStyle",n.style)}}var xc=class e{constructor(t){this.router=t}butterflies=[];maxButterflies=100;addButterfly(t){if(this.butterflies.length<this.maxButterflies){let r={name:".butterfly",className:`container_bfly${this.butterflies.length+1}`,src:"assets/svg/butterfly.svg",style:{top:`${t.clientY-100}px`,left:`${t.clientX}px`}};this.butterflies.push(r),setTimeout(()=>{this.animateButterfly(r)},100),setTimeout(()=>{N({targets:`.${r.className}`,opacity:0,duration:4e3,easing:"easeInBack",complete:()=>{let i=this.butterflies.indexOf(r);i>-1&&this.butterflies.splice(i,1)}})},5e3)}}animateButterfly(t){N({targets:`${t.name}`,scaleX:[{value:1.1,duration:200},{value:.9,duration:200},{value:1.1,duration:200},{value:1,duration:200}],scaleY:[{value:.9,duration:200},{value:1.1,duration:200},{value:.9,duration:200},{value:1,duration:200}],easing:"easeInOutSine",duration:800,loop:!0}),N({targets:`.${t.className}`,translateX:function(){return N.random(-200,200)},translateY:function(){return N.random(-200,200)},translateZ:function(){return N.random(-200,200)},easing:"easeInOutSine",duration:function(){return N.random(3e3,6e3)},direction:"alternate",loop:!0,delay:function(n,r,i){return N.random(0,1e3)},endDelay:function(n,r,i){return N.random(0,1e3)}})}clickCount=0;clickTimeout;onClick(t){this.clickCount++,clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout(()=>{this.clickCount=0},1e3),this.clickCount===15&&this.openModal()}openModal(){let t=document.getElementById("confirmModal");t.style.display="block",N({targets:"#confirmModal",scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}closeModal(){let t=document.getElementById("confirmModal");N({targets:"#confirmModal",scale:[1,0],opacity:[1,0],duration:300,easing:"easeOutQuad",oncomplete:()=>{t.style.display="none"}})}skipAnimation(){this.closeModal(),setTimeout(()=>{this.router.navigate(["/invitacion"])},1e3)}static \u0275fac=function(n){return new(n||e)(G(wt))};static \u0275cmp=me({type:e,selectors:[["butterflies"]],hostBindings:function(n,r){n&1&&F("click",function(o){return r.onClick(o)},!1,u0)},decls:19,vars:1,consts:[[1,"butterfly-container",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],["id","confirmModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"margin","4rem"],[1,"modal-header"],["id","commentModalLabel",1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","text-center","mb-3"],["src","assets/svg/skip-forward.svg","alt","",2,"width","3.5rem"],[1,"col-12","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-modal",3,"click"],[3,"ngClass"],[1,"butterfly",3,"src","ngStyle"]],template:function(n,r){n&1&&(g(0,"div",0),F("click",function(o){return r.addButterfly(o)}),qe(1,Q1,2,3,"div",1),m(),g(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),D(7,"Omitir Animaci\xF3n"),m(),g(8,"button",7),F("click",function(){return r.closeModal()}),m()(),g(9,"div",8)(10,"div",9)(11,"div",10),M(12,"img",11),m(),g(13,"div",12)(14,"h2"),D(15,"\xBFOmitir animaci\xF3n y continuar a la invitaci\xF3n?"),m()()()(),g(16,"div",13)(17,"button",14),F("click",function(){return r.skipAnimation()}),D(18,"Continuar"),m()()()()()),n&2&&(re(),ae("ngForOf",r.butterflies))},dependencies:[zo,pC,Xl,mC],styles:[".butterfly[_ngcontent-%COMP%]{position:absolute;width:5%;pointer-events:none}.butterfly-container[_ngcontent-%COMP%]{width:100%;height:85vh;position:absolute;bottom:0}.btn-modal[_ngcontent-%COMP%]{background-color:#999ae8;height:35px;font-size:1.5rem;color:#fff}"]})};var Ac=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["app-bautizo"]],decls:4,vars:0,consts:[[1,"container-sky"]],template:function(n,r){n&1&&(g(0,"div",0),M(1,"countryside")(2,"sky-clouds")(3,"butterflies"),m())},dependencies:[Mc,Tc,xc],encapsulation:2})};var Nc=class e{constructor(t){this.router=t}ngAfterViewInit(){let t=N({targets:"#loading_icon",scaleX:[{value:1.1,duration:200},{value:.9,duration:200},{value:1.1,duration:200},{value:1,duration:200}],scaleY:[{value:.9,duration:200},{value:1.1,duration:200},{value:.9,duration:200},{value:1,duration:200}],easing:"easeInOutSine",duration:800,loop:!0}),n=N({targets:".loading__icon",keyframes:Array.from({length:16},()=>({translateX:Math.random()*100-50,translateY:Math.random()*100-50,translateZ:Math.random()*80-40,opacity:[1,.8]})),easing:"easeInOutQuad",duration:15e3,loop:!0,direction:"alternate"});setTimeout(()=>{N({targets:".container-sky",backgroundColor:"#f6d8d6",duration:2e3,easing:"easeInOutSine"})},1500),setTimeout(()=>{n.pause(),N({targets:".loading__icon",translateX:0,translateY:0,duration:1e3,easing:"easeInOutSine",complete:()=>{N({targets:"#loading_icon",scale:.1,opacity:0,duration:2e3,easing:"easeInOutSine",complete:()=>{try{document.getElementById("loading_icon").style.display="none",this.router.navigate(["/bautizo"])}catch{}}})}})},5e3)}ngOnInit(){localStorage.getItem("entro")==="1"?this.router.navigate(["/invitacion"]):localStorage.setItem("entro","1")}static \u0275fac=function(n){return new(n||e)(G(wt))};static \u0275cmp=me({type:e,selectors:[["app-loading"]],decls:4,vars:0,consts:[[1,"container-sky"],[1,"loading"],[1,"loading__icon"],["id","loading_icon","src","assets/svg/butterfly.svg","alt",""]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),M(3,"img",3),m()()())},styles:[".loading[_ngcontent-%COMP%]{height:100vh;width:100vw;flex-direction:column;display:flex;justify-content:center;align-items:center}.loading__icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem}.loading__text[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.5rem;font-weight:700;color:#000}"]})};var Rc=class e{flagHImage=0;imgHeader="assets/img/countryside/bautizo.png";isAnimating=!1;imgsHeader=["assets/img/countryside/bautizo.png","assets/img/countryside/party.png"];constructor(){}ngOnInit(){let t=document.querySelector(".container-info");t&&t.addEventListener("scroll",this.checkVisibility.bind(this))}isElementInViewport(t){let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}checkVisibility(){document.querySelectorAll(".view").forEach(n=>{if(this.isElementInViewport(n)){let i=n.getAttribute("data-id")==="ba"?this.imgsHeader[0]:this.imgsHeader[1];if(this.isAnimating||this.imgHeader===i)return;this.isAnimating=!0,N({targets:".header-img",top:"-50px",opacity:0,duration:300,easing:"easeInOutQuad",complete:()=>{this.imgHeader=i,N({targets:".header-img",top:"20px",opacity:1,duration:300,easing:"easeInOutQuad",complete:()=>{this.isAnimating=!1}})}})}})}ngAfterViewInit(){this.startAnimation()}startAnimation(){N.timeline({easing:"easeInOutQuad",duration:1e3}).add({targets:".header-img",top:"20px"}).add({targets:".card",translateX:[-1e3,0],duration:1e3,easing:"easeInOutQuad",delay:N.stagger(100)},"-=700")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["information"]],decls:93,vars:1,consts:[[1,"container-sky"],[1,"container-header"],[1,"header-img",3,"src"],[1,"container-info"],[1,"card","no-card"],[1,"card__content-h"],[1,"card__img"],[1,"img-content"],["src","assets/img/countryside/sofia.png","alt",""],[1,"card__text"],[1,"card__content-v"],[1,"card__title"],[1,"card__content"],["data-id","ba",1,"card","view"],[1,"card__img-aux-l"],[1,"card__footer"],[1,"card__btn-send"],[1,"card"],[1,"card__img-aux-r"],[1,"card","no-card","card__small"],["data-id","bi",1,"card","view"],[1,"footer-img"],["src","assets/img/countryside/footer.png",1,"party"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1),M(2,"img",2),m(),g(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),M(8,"img",8),m()(),g(9,"div",9),D(10," ANGELA SOFIA RAMIREZ MONTES "),m()()(),g(11,"div",4)(12,"div",10)(13,"div",11)(14,"h1"),D(15,"Mis Pap\xE1s"),m()(),g(16,"div",10)(17,"p"),D(18,"Minerva Victoria Montes Torres"),m(),g(19,"p"),D(20,"Jos\xE9 Manuel Ram\xEDrez Mej\xEDa"),m()()()(),g(21,"div",4)(22,"div",10)(23,"div",11)(24,"h1"),D(25,"Mi Madrina"),m()(),g(26,"div",12)(27,"p"),D(28,"Maria Jos\xE9 Ram\xEDrez Mej\xEDa"),m()()()(),g(29,"div",13)(30,"div",5),M(31,"div",14),g(32,"div",9)(33,"div",11)(34,"h1"),D(35,"Bautizo"),m()(),g(36,"p"),D(37,"Iglesia de la sagrada familia"),m(),M(38,"br"),g(39,"p"),D(40,"12 de Julio del 20205"),m(),M(41,"br"),g(42,"p"),D(43,"02:00 p.m."),m()()(),g(44,"div",15)(45,"button",16),D(46,"\xBFComo llegar?"),m()()(),g(47,"div",17)(48,"div",5)(49,"div",9)(50,"div",11)(51,"h1"),D(52,"Recepci\xF3n"),m()(),g(53,"p"),D(54,"Sal\xF3n de fiestas XYZ"),m(),M(55,"br"),g(56,"p"),D(57,"12 de Julio del 20205"),m(),M(58,"br"),g(59,"p"),D(60,"04:00 p.m."),m()(),M(61,"div",18),m(),g(62,"div",15)(63,"button",16),D(64,"\xBFComo llegar?"),m()()(),g(65,"div",19)(66,"div",12),D(67,' "En este d\xEDa especial, celebramos la llegada de un nuevo miembro a la familia de Dios. Que su bautizo marque el inicio de una vida llena de bendiciones, amor y sabidur\xEDa divina." '),m()(),g(68,"div",17)(69,"div",11),D(70," Falta para mi fiesta... "),m(),M(71,"div",12),m(),g(72,"div",20)(73,"div",11),D(74," Falta para mi cumplea\xF1os... "),m(),M(75,"div",12),m(),g(76,"div",19)(77,"div",12),D(78,' "En su primer a\xF1o de vida, una beb\xE9 es como una flor que comienza a abrirse al mundo, llena de pureza y asombro.Sus risas y logros nos muestran la belleza de la vida en cada peque\xF1o momento." '),m()(),g(79,"div",17)(80,"div",12)(81,"h1"),D(82,"Mesa de regalos"),m()()(),g(83,"div",17)(84,"div",12)(85,"h1"),D(86,"Anuncios"),m()()(),g(87,"div",17)(88,"div",12)(89,"h1"),D(90,"Deja un comentario"),m()()(),g(91,"div",21),M(92,"img",22),m()()()),n&2&&(re(2),ae("src",r.imgHeader,bi))},styles:["h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.header-img[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%);width:300px;height:150px;z-index:1}.container-info[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 240px);position:absolute;z-index:0;overflow:auto;display:flex;flex-direction:column;align-items:stretch;gap:10px;bottom:0}.card[_ngcontent-%COMP%]{width:90%;background-color:#ededfd;flex-shrink:0;border-radius:20px;margin:5%;display:flex;flex-direction:column;box-shadow:0 15px 10px #00000080}.card__content-h[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.card__content-v[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.card__title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;width:100%}.card__small[_ngcontent-%COMP%]{height:100px}.card__img[_ngcontent-%COMP%]{flex:0 0 50%;display:flex;justify-content:center}.card__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}.card__text[_ngcontent-%COMP%]{flex:0 0 50%;display:flex;flex-direction:column;justify-content:center;padding:10px}.card__img-aux-l[_ngcontent-%COMP%]{background-image:url(/assets/img/countryside/church.jpg);background-repeat:no-repeat;background-size:300%;background-position:center;width:100%;height:100%;border-top-left-radius:20px}.card__img-aux-r[_ngcontent-%COMP%]{background-image:url(/assets/img/countryside/church.jpg);background-repeat:no-repeat;background-size:200%;background-position:center;width:100%;height:100%;border-top-right-radius:20px}.card__footer[_ngcontent-%COMP%]{width:100%}.card__btn-send[_ngcontent-%COMP%]{border-bottom-right-radius:20px;border-bottom-left-radius:20px;background-color:#f4b0e5;border:0;color:#fff;height:40px;width:100%}.no-card[_ngcontent-%COMP%]{background-color:#f6d8d6;box-shadow:none}.img-content[_ngcontent-%COMP%]{background-color:#ededfd;padding:5px;border-radius:20px}.footer-img[_ngcontent-%COMP%]{position:relative;margin-top:auto;width:100%;height:auto}.footer-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}"]})};var Mr=class{id;autor;comentario;fecha;constructor(t,n,r,i){this.id=t,this.autor=n,this.comentario=r,this.fecha=i}};var tE=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(G(Hn),G(wn))};static \u0275dir=Ge({type:e})}return e})(),Z1=(()=>{class e extends tE{static \u0275fac=(()=>{let n;return function(i){return(n||(n=wi(e)))(i||e)}})();static \u0275dir=Ge({type:e,features:[_r]})}return e})(),nE=new S("");var Y1={provide:nE,useExisting:vi(()=>Lc),multi:!0};function K1(){let e=Dn()?Dn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var X1=new S(""),Lc=(()=>{class e extends tE{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!K1())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(G(Hn),G(wn),G(X1,8))};static \u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&F("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ql([Y1]),_r]})}return e})();function J1(e){return e!=null&&typeof e.length=="number"}var rE=new S(""),eO=new S("");function tO(e){return t=>J1(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function qw(e){return null}function iE(e){return e!=null}function oE(e){return Cr(e)?se(e):e}function sE(e){let t={};return e.forEach(n=>{t=n!=null?E(E({},t),n):t}),Object.keys(t).length===0?null:t}function aE(e,t){return t.map(n=>n(e))}function nO(e){return!e.validate}function lE(e){return e.map(t=>nO(t)?t:n=>t.validate(n))}function rO(e){if(!e)return null;let t=e.filter(iE);return t.length==0?null:function(n){return sE(aE(n,t))}}function cE(e){return e!=null?rO(lE(e)):null}function iO(e){if(!e)return null;let t=e.filter(iE);return t.length==0?null:function(n){let r=aE(n,t).map(oE);return md(r).pipe(k(sE))}}function uE(e){return e!=null?iO(lE(e)):null}function Qw(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function oO(e){return e._rawValidators}function sO(e){return e._rawAsyncValidators}function Tp(e){return e?Array.isArray(e)?e:[e]:[]}function kc(e,t){return Array.isArray(e)?e.includes(t):e===t}function Zw(e,t){let n=Tp(t);return Tp(e).forEach(i=>{kc(n,i)||n.push(i)}),n}function Yw(e,t){return Tp(t).filter(n=>!kc(e,n))}var Pc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=uE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},xp=class extends Pc{name;get formDirective(){return null}get path(){return null}},Es=class extends Pc{_parent=null;name=null;valueAccessor=null},Ap=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},aO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},o8=W(E({},aO),{"[class.ng-submitted]":"isSubmitted"}),dE=(()=>{class e extends Ap{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(G(Es,2))};static \u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ch("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_r]})}return e})();var ys="VALID",Oc="INVALID",ji="PENDING",_s="DISABLED",Ui=class{},Fc=class extends Ui{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Cs=class extends Ui{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},ws=class extends Ui{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Bi=class extends Ui{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function lO(e){return(Vc(e)?e.validators:e)||null}function cO(e){return Array.isArray(e)?cE(e):e||null}function uO(e,t){return(Vc(t)?t.asyncValidators:e)||null}function dO(e){return Array.isArray(e)?uE(e):e||null}function Vc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Np=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return En(this.statusReactive)}set status(t){En(()=>this.statusReactive.set(t))}_status=$o(()=>this.statusReactive());statusReactive=Vo(void 0);get valid(){return this.status===ys}get invalid(){return this.status===Oc}get pending(){return this.status==ji}get disabled(){return this.status===_s}get enabled(){return this.status!==_s}errors;get pristine(){return En(this.pristineReactive)}set pristine(t){En(()=>this.pristineReactive.set(t))}_pristine=$o(()=>this.pristineReactive());pristineReactive=Vo(!0);get dirty(){return!this.pristine}get touched(){return En(this.touchedReactive)}set touched(t){En(()=>this.touchedReactive.set(t))}_touched=$o(()=>this.touchedReactive());touchedReactive=Vo(!1);get untouched(){return!this.touched}_events=new he;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Zw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Zw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Yw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Yw(t,this._rawAsyncValidators))}hasValidator(t){return kc(this._rawValidators,t)}hasAsyncValidator(t){return kc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(W(E({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ws(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new ws(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(W(E({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Cs(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Cs(!0,r))}markAsPending(t={}){this.status=ji;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Bi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(W(E({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=_s,this.errors=null,this._forEachChild(i=>{i.disable(W(E({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Fc(this.value,r)),this._events.next(new Bi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(E({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ys,this._forEachChild(r=>{r.enable(W(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(W(E({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ys||this.status===ji)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Fc(this.value,n)),this._events.next(new Bi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(W(E({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_s:ys}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ji,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=oE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Bi(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?_s:this.errors?Oc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ji)?ji:this._anyControlsHaveStatus(Oc)?Oc:ys}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Cs(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new ws(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Vc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=cO(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=dO(this._rawAsyncValidators)}};var fE=new S("",{providedIn:"root",factory:()=>Rp}),Rp="always";function fO(e,t){return[...t.path,e]}function hO(e,t,n=Rp){gO(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),mO(e,t),yO(e,t),vO(e,t),pO(e,t)}function Kw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function pO(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function gO(e,t){let n=oO(e);t.validator!==null?e.setValidators(Qw(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=sO(e);t.asyncValidator!==null?e.setAsyncValidators(Qw(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Kw(t._rawValidators,i),Kw(t._rawAsyncValidators,i)}function mO(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&hE(e,t)})}function vO(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&hE(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function hE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function yO(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function _O(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function CO(e){return Object.getPrototypeOf(e.constructor)===Z1}function wO(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Lc?n=o:CO(o)?r=o:i=o}),i||r||n||null}function Xw(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Jw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var EO=class extends Np{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(lO(n),uO(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Jw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Xw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Xw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Jw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var DO={provide:Es,useExisting:vi(()=>Op)},eE=Promise.resolve(),Op=(()=>{class e extends Es{_changeDetectorRef;callSetDisabledState;control=new EO;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Fe;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=wO(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),_O(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){hO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){eE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ql(r);eE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?fO(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(G(xp,9),G(rE,10),G(eO,10),G(nE,10),G(wr,8),G(fE,8))};static \u0275dir=Ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ql([DO]),_r,$n]})}return e})();function bO(e){return typeof e=="number"?e:parseInt(e,10)}var IO=(()=>{class e{_validator=qw;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qw,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ge({type:e,features:[$n]})}return e})();var SO={provide:rE,useExisting:vi(()=>kp),multi:!0},kp=(()=>{class e extends IO{maxlength;inputName="maxlength";normalizeInput=n=>bO(n);createValidator=n=>tO(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=wi(e)))(i||e)}})();static \u0275dir=Ge({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Hl("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[ql([SO]),_r]})}return e})();var MO=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ot({type:e});static \u0275inj=At({})}return e})();var pE=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:fE,useValue:n.callSetDisabledState??Rp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ot({type:e});static \u0275inj=At({imports:[MO]})}return e})();var xO="firebase",AO="11.5.0";Rn(xO,AO,"app");function Jt(e){e===void 0&&(l_(Jt),e=C(rt));let t=e.get(Uf);return n=>new $(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Fp=new Un("ANGULARFIRE2_VERSION");var gE=(e,t)=>{let n=t?[t]:gv(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Pp=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Pp||{}),b8=Uo()&&typeof Zone<"u"?Pp.WARN:Pp.SILENT;var jc=class{zone;delegate;constructor(t,n=hd){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Ds=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=C(ee);this.outsideAngular=n.runOutsideAngular(()=>new jc(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new jc(typeof Zone>"u"?void 0:Zone.current,yo))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var NO=new Map,RO={activated:!1,tokenObservers:[]},OO={initialized:!1,enabled:!1};function Ft(e){return NO.get(e)||Object.assign({},RO)}function CE(){return OO}var kO="https://content-firebaseappcheck.googleapis.com/v1";var PO="exchangeDebugToken",vE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},R8=24*60*60*1e3;var jp=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return oe(this,null,function*(){this.stop();try{this.pending=new Ae,this.pending.promise.catch(n=>{}),yield FO(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ae,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function FO(e){return new Promise(t=>{setTimeout(t,e)})}var LO={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Gn=new iv("appCheck","AppCheck",LO);function wE(e){if(!Ft(e).activated)throw Gn.create("use-before-activation",{appName:e.name})}function EE(r,i){return oe(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(h){throw Gn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw Gn.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw Gn.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Gn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function DE(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${kO}/projects/${n}/apps/${r}:${PO}?key=${i}`,body:{debug_token:t}}}var VO="firebase-app-check-database",jO=1,Bp="firebase-app-check-store";var Bc=null;function BO(){return Bc||(Bc=new Promise((e,t)=>{try{let n=indexedDB.open(VO,jO);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Gn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Bp,{keyPath:"compositeKey"})}}}catch(n){t(Gn.create("storage-open",{originalErrorMessage:n?.message}))}}),Bc)}function UO(e,t){return $O(HO(e),t)}function $O(e,t){return oe(this,null,function*(){let r=(yield BO()).transaction(Bp,"readwrite"),o=r.objectStore(Bp).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(Gn.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function HO(e){return`${e.options.appId}-${e.name}`}var bs=new Ur("@firebase/app-check");function Lp(e,t){return rv()?UO(e,t).catch(n=>{bs.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function bE(){return CE().enabled}function IE(){return oe(this,null,function*(){let e=CE();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var zO={error:"UNKNOWN_ERROR"};function WO(e){return ca.encodeString(JSON.stringify(e),!1)}function Up(e,t=!1,n=!1){return oe(this,null,function*(){let r=e.app;wE(r);let i=Ft(r),o=i.token,s;if(o&&!Is(o)&&(i.token=void 0,o=void 0),!o){let c=yield i.cachedTokenPromise;c&&(Is(c)?o=c:yield Lp(r,void 0))}if(!t&&o&&Is(o))return{token:o.token};let a=!1;if(bE())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=EE(DE(r,yield IE()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield Lp(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?bs.warn(c.message):n&&bs.error(c),Vp(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Ft(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?bs.warn(c.message):n&&bs.error(c),s=c}let l;return o?s?Is(o)?l={token:o.token,internalError:s}:l=Vp(s):(l={token:o.token},i.token=o,yield Lp(r,o)):l=Vp(s),a&&ZO(r,l),l})}function GO(e){return oe(this,null,function*(){let t=e.app;wE(t);let{provider:n}=Ft(t);if(bE()){let r=yield IE(),{token:i}=yield EE(DE(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function qO(e,t,n,r){let{app:i}=e,o=Ft(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Is(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),yE(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>yE(e))}function SE(e,t){let n=Ft(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function yE(e){let{app:t}=e,n=Ft(t),r=n.tokenRefresher;r||(r=QO(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function QO(e){let{app:t}=e;return new jp(()=>oe(this,null,function*(){let n=Ft(t),r;if(n.token?r=yield Up(e,!0):r=yield Up(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Ft(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vE.RETRIAL_MIN_WAIT,vE.RETRIAL_MAX_WAIT)}function ZO(e,t){let n=Ft(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Is(e){return e.expireTimeMillis-Date.now()>0}function Vp(e){return{token:WO(zO),error:e}}var $p=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Ft(this.app);for(let n of t)SE(this.app,n.next);return Promise.resolve()}};function YO(e,t){return new $p(e,t)}function KO(e){return{getToken:t=>Up(e,t),getLimitedUseToken:()=>GO(e),addTokenListener:t=>qO(e,"INTERNAL",t),removeTokenListener:t=>SE(e.app,t)}}var XO="@firebase/app-check",JO="0.8.13";var ek="app-check",_E="app-check-internal";function tk(){fo(new an(ek,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return YO(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(_E).initialize()})),fo(new an(_E,e=>{let t=e.getProvider("app-check").getImmediate();return KO(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Rn(XO,JO)}tk();var nk="app-check";var $i=class{constructor(){return gE(nk)}};var rk=["localhost","0.0.0.0","127.0.0.1"],q8=typeof window<"u"&&rk.includes(window.location.hostname);var ik="firebase",ok="11.5.0";It.registerVersion(ik,ok,"app-compat");var sk=["ngOnDestroy"],xE=(e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{if(e[o])return r?.spy?.get&&r.spy.get(o,e[o]),e[o];if(sk.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var Hp=class{constructor(t){return t}},Uc=new S("angularfire2.app.options"),$c=new S("angularfire2.app.name");function Hc(e,t,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=It.apps.filter(a=>a&&a.name===i.name)[0]||t.runOutsideAngular(()=>It.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;ak("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Hp(s)}var ak=(e,...t)=>{Uo()&&typeof console<"u"&&console[e](...t)};function zc(e,t,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return lk(i,s)||(TE("error",`${t} was already initialized on the ${n} Firebase App with different settings.${ck?" You may need to reload as Firebase is not HMR aware.":""}`),TE("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([e,a,i]),a}}function lk(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var ck=typeof module<"u"&&!!module.hot,TE=(e,...t)=>{Uo()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var zp=new S("angularfire2.auth.use-emulator"),Wp=new S("angularfire2.auth.settings"),Gp=new S("angularfire2.auth.tenant-id"),qp=new S("angularfire2.auth.langugage-code"),Qp=new S("angularfire2.auth.use-device-language"),Zp=new S("angularfire.auth.persistence"),Yp=(e,t,n,r,i,o,s,a)=>zc(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),AE=(()=>{class e{injector=C(Te);authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let p=new he,v=O(void 0).pipe($t(s.outsideAngular),pe(()=>o.runOutsideAngular(()=>import("./chunk-SEWQ5GPH.js"))),k(()=>Hc(n,o,r)),k(y=>Yp(y,o,a,c,u,d,l,f)),za({bufferSize:1,refCount:!1}));if(Wo(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=O(null);else{v.pipe(Mt()).subscribe();let y=v.pipe(pe(_=>_.getRedirectResult().then(T=>T,()=>null)),Jt(this.injector),za({bufferSize:1,refCount:!1})),I=v.pipe(pe(_=>new $(T=>({unsubscribe:o.runOutsideAngular(()=>_.onAuthStateChanged(de=>T.next(de),de=>T.error(de),()=>T.complete()))})))),z=v.pipe(pe(_=>new $(T=>({unsubscribe:o.runOutsideAngular(()=>_.onIdTokenChanged(de=>T.next(de),de=>T.error(de),()=>T.complete()))}))));this.authState=y.pipe(Wa(I),cn(s.outsideAngular),$t(s.insideAngular)),this.user=y.pipe(Wa(z),cn(s.outsideAngular),$t(s.insideAngular)),this.idToken=this.user.pipe(pe(_=>_?se(_.getIdToken()):O(null))),this.idTokenResult=this.user.pipe(pe(_=>_?se(_.getIdTokenResult()):O(null))),this.credential=ei(y,p,this.authState.pipe($e(_=>!_))).pipe(k(_=>_?.user?_:null),cn(s.outsideAngular),$t(s.insideAngular))}return xE(this,v,o,{spy:{apply:(y,I,z)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&z.then(_=>p.next(_))}}})}static \u0275fac=function(r){return new(r||e)(b(Uc),b($c,8),b(yt),b(ee),b(Ds),b(zp,8),b(Wp,8),b(Gp,8),b(qp,8),b(Qp,8),b(Zp,8),b($i,8))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var NE="@firebase/database",RE="1.0.14";var lm="";function cm(e){lm=e}var ig=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),De(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ua(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var og=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return dt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var cD=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ig(t)}}catch{}return new og},xr=cD("localStorage"),sg=cD("sessionStorage");var Gi=new Ur("@firebase/database"),uD=function(){let e=1;return function(){return e++}}(),dD=function(e){let t=uv(e),n=new cv;n.update(t);let r=n.digest();return ca.encodeByteArray(r)},Zs=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=Zs.apply(null,r):typeof r=="object"?t+=De(r):t+=r,t+=" "}return t},Ar=null,OE=!0,fD=function(e,t){w(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Gi.logLevel=dv.VERBOSE,Ar=Gi.log.bind(Gi),t&&sg.set("logging_enabled",!0)):typeof e=="function"?Ar=e:(Ar=null,sg.remove("logging_enabled"))},Re=function(...e){if(OE===!0&&(OE=!1,Ar===null&&sg.get("logging_enabled")===!0&&fD(!0)),Ar){let t=Zs.apply(null,e);Ar(t)}},Ys=function(e){return function(...t){Re(e,...t)}},ag=function(...e){let t="FIREBASE INTERNAL ERROR: "+Zs(...e);Gi.error(t)},nn=function(...e){let t=`FIREBASE FATAL ERROR: ${Zs(...e)}`;throw Gi.error(t),new Error(t)},je=function(...e){let t="FIREBASE WARNING: "+Zs(...e);Gi.warn(t)},dk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},yu=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},fk=function(e){if(Bt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Yn="[MIN_NAME]",Tn="[MAX_NAME]",Rr=function(e,t){if(e===t)return 0;if(e===Yn||t===Tn)return-1;if(t===Yn||e===Tn)return 1;{let n=kE(e),r=kE(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},hk=function(e,t){return e===t?0:e<t?-1:1},Ss=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+De(t))},um=function(e){if(typeof e!="object"||e===null)return De(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=De(t[r]),n+=":",n+=um(e[t[r]]);return n+="}",n},hD=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Oe(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var pD=function(e){w(!yu(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},pk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function mk(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var vk=new RegExp("^-?(0*)\\d{1,10}$"),yk=-2147483648,_k=2147483647,kE=function(e){if(vk.test(e)){let t=Number(e);if(t>=yk&&t<=_k)return t}return null},to=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw je("Exception was thrown by user callback.",n),t},Math.floor(0))}},Ck=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},As=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var lg=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,fv(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var cg=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(t)}},Ns=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Gc="5",gD="v",mD="s",vD="r",yD="f",_D=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CD="ls",wD="p",ug="ac",ED="websocket",DD="long_polling";var qc=class{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=xr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&xr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function wk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function bD(e,t,n){w(typeof t=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let r;if(t===ED)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===DD)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);wk(e)&&(n.ns=e.namespace);let i=[];return Oe(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var dg=class{constructor(){this.counters_={}}incrementCounter(t,n=1){dt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Jm(this.counters_)}};var Kp={},Xp={};function dm(e){let t=e.toString();return Kp[t]||(Kp[t]=new dg),Kp[t]}function Ek(e,t){let n=e.toString();return Xp[n]||(Xp[n]=t()),Xp[n]}var fg=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&to(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var PE="start",Dk="close",bk="pLPCommand",Ik="pRTLPCB",ID="id",SD="pw",MD="ser",Sk="cb",Mk="seg",Tk="ts",xk="d",Ak="dframe",TD=1870,xD=30,Nk=TD-xD,Rk=25e3,Ok=3e4,Ps=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ys(t),this.stats_=dm(n),this.urlFn=l=>(this.appCheckToken&&(l[ug]=this.appCheckToken),bD(n,DD,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new fg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Ok)),fk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new hg((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===PE)this.id=a,this.password=l;else if(s===Dk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[PE]="t",r[MD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Sk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gD]=Gc,this.transportSessionId&&(r[mD]=this.transportSessionId),this.lastSessionId&&(r[CD]=this.lastSessionId),this.applicationId&&(r[wD]=this.applicationId),this.appCheckToken&&(r[ug]=this.appCheckToken),typeof location<"u"&&location.hostname&&_D.test(location.hostname)&&(r[vD]=yD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Bt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!pk()&&!gk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=De(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Xm(n),i=hD(r,Nk);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Bt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[Ak]="t",r[ID]=t,r[SD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=De(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},hg=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Bt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=uD(),window[bk+this.uniqueCallbackIdentifier]=t,window[Ik+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Re("frame writing exception"),a.stack&&Re(a.stack),Re(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Re("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[ID]=this.myID,t[SD]=this.myPW,t[MD]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+xD+r.length<=TD;){let s=this.pendingSegs.shift();r=r+"&"+Mk+i+"="+s.seg+"&"+Tk+i+"="+s.ts+"&"+xk+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Rk)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Bt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Re("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var kk=16384,Pk=45e3,Qc=null;typeof MozWebSocket<"u"?Qc=MozWebSocket:typeof WebSocket<"u"&&(Qc=WebSocket);var zi=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ys(this.connId),this.stats_=dm(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[gD]=Gc,!Bt()&&typeof location<"u"&&location.hostname&&_D.test(location.hostname)&&(a[vD]=yD),r&&(a[mD]=r),i&&(a[CD]=i),o&&(a[ug]=o),s&&(a[wD]=s),bD(n,ED,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,xr.set("previous_websocket_failure",!0);try{let i;if(Bt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Gc}/${lm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Qc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Qc!==null&&!e.forceDisallow_}static previouslyFailed(){return xr.isInMemoryStorage||xr.get("previous_websocket_failure")===!0}markConnectionHealthy(){xr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ua(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(w(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=De(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=hD(r,kk);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Pk))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),AD=(()=>{class e{static get ALL_TRANSPORTS(){return[Ps,zi]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=zi&&zi.isAvailable(),i=r&&!zi.previouslyFailed();if(n.webSocketOnly&&(r||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zi];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),Fk=6e4,Lk=5e3,Vk=10*1024,jk=100*1024,Jp="t",FE="d",Bk="s",LE="r",Uk="e",VE="o",jE="a",BE="n",UE="p",$k="h",pg=class{constructor(t,n,r,i,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ys("c:"+this.id+":"),this.transportManager_=new AD(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=As(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Vk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Jp in t){let n=t[Jp];n===jE?this.upgradeIfSecondaryHealthy_():n===LE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===VE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Ss("t",t),r=Ss("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:UE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:BE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Ss("t",t),r=Ss("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Ss(Jp,t);if(FE in t){let r=t[FE];if(n===$k){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===BE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Bk?this.onConnectionShutdown_(r):n===LE?this.onReset_(r):n===Uk?ag("Server Error: "+r):n===VE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ag("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Gc!==r&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),As(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Fk))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):As(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Lk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:UE,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(xr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Zc=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var Yc=class{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Kc=class e extends Yc{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Gu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return w(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var $E=32,HE=768,ne=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function te(){return new ne("")}function Q(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Kn(e){return e.pieces_.length-e.pieceNum_}function ue(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ne(e.pieces_,t)}function fm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Hk(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Fs(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ND(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ne(t,0)}function ve(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ne)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ne(n,0)}function Z(e){return e.pieceNum_>=e.pieces_.length}function Qe(e,t){let n=Q(e),r=Q(t);if(n===null)return t;if(n===r)return Qe(ue(e),ue(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function zk(e,t){let n=Fs(e,0),r=Fs(t,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Rr(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function hm(e,t){if(Kn(e)!==Kn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Et(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Kn(e)>Kn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var gg=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Fs(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=uo(this.parts_[r]);RD(this)}};function Wk(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=uo(t),RD(e)}function Gk(e){let t=e.parts_.pop();e.byteLength_-=uo(t),e.parts_.length>0&&(e.byteLength_-=1)}function RD(e){if(e.byteLength_>HE)throw new Error(e.errorPrefix_+"has a key path longer than "+HE+" bytes ("+e.byteLength_+").");if(e.parts_.length>$E)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$E+") or object contains a cycle "+Tr(e))}function Tr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var mg=class e extends Yc{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return w(t==="visible","Unknown event type: "+t),[this.visible_]}};var Ms=1e3,qk=60*5*1e3,zE=30*1e3,Qk=1.3,Zk=3e4,Yk="server_kill",WE=3,pm=(()=>{class e extends Zc{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=Ys("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ms,this.maxReconnectDelay_=qk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Bt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Kc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(De(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Ae,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&dt(n,"w")){let i=Nn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||sv(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zE)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=ov(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+De(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):ag("Unrecognized action received from server: "+De(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ms,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ms,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Zk&&(this.reconnectDelay_=Ms),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Qk)}this.onConnectStatus_(!1)}establishConnection_(){return oe(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){w(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new pg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{je(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Yk)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&je(f),c())}}})}interrupt(n){Re("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Re("Resuming connection for reason: "+n),delete this.interruptReasons_[n],da(this.interruptReasons_)&&(this.reconnectDelay_=Ms,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>um(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ne(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Re("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=WE&&(this.reconnectDelay_=zE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Re("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=WE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Bt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+lm.replace(/\./g,"-")]=1,Gu()?n["framework.cordova"]=1:nv()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Kc.getInstance().currentlyOnline();return da(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),Y=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var qi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new Y(Yn,t),i=new Y(Yn,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}};var Wc,Xc=class extends qi{static get __EMPTY_NODE(){return Wc}static set __EMPTY_NODE(t){Wc=t}compare(t,n){return Rr(t.name,n.name)}isDefinedOn(t){throw Br("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(Tn,Wc)}makePost(t,n){return w(typeof t=="string","KeyIndex indexValue must always be a string."),new Y(t,Wc)}toString(){return".key"}},tn=new Xc;var Wi=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Lt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Dt.EMPTY_NODE,this.right=s??Dt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Dt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),vg=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new Lt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Dt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Lt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Lt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Wi(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Wi(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Wi(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Wi(this.root_,null,this.comparator_,!0,t)}};Dt.EMPTY_NODE=new vg;function Kk(e,t){return Rr(e.name,t.name)}function gm(e,t){return Rr(e,t)}var yg;function Xk(e){yg=e}var OD=function(e){return typeof e=="number"?"number:"+pD(e):"string:"+e},kD=function(e){if(e.isLeafNode()){let t=e.val();w(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dt(t,".sv"),"Priority must be a string or number.")}else w(e===yg||e.isEmpty(),"priority of unexpected type.");w(e===yg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var GE,Qi=(()=>{class e{static set __childrenNodeConstructor(n){GE=n}static get __childrenNodeConstructor(){return GE}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),kD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Z(n)?this:Q(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Q(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(w(i!==".priority"||Kn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ue(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+OD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=pD(this.value_):n+=this.value_,this.lazyHash_=dD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(w(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return w(o>=0,"Unknown leaf type: "+r),w(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),PD,FD;function Jk(e){PD=e}function eP(e){FD=e}var _g=class extends qi{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Rr(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(Tn,new Qi("[PRIORITY-POST]",FD))}makePost(t,n){let r=PD(t);return new Y(n,new Qi("[PRIORITY-POST]",r))}toString(){return".priority"}},fe=new _g;var tP=Math.log(2),Cg=class{constructor(t){let n=o=>parseInt(Math.log(o)/tP,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Jc=function(e,t,n,r){e.sort(t);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=e[l],f=n?n(d):d,new Lt(f,d.node,Lt.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=i(l,h),v=i(h+1,c);return d=e[h],f=n?n(d):d,new Lt(f,d.node,Lt.BLACK,p,v)}},o=function(l){let c=null,u=null,d=e.length,f=function(p,v){let y=d-p,I=d;d-=p;let z=i(y+1,I),_=e[y],T=n?n(_):_;h(new Lt(T,_.node,v,null,z))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let v=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));v?f(y,Lt.BLACK):(f(y,Lt.BLACK),f(y,Lt.RED))}return u},s=new Cg(e.length),a=o(s);return new Dt(r||t,a)};var eg,Hi={},Zi=class e{static get Default(){return w(Hi&&fe,"ChildrenNode.ts has not been loaded"),eg=eg||new e({".priority":Hi},{".priority":fe}),eg}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Nn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Dt?n:null}hasIndex(t){return dt(this.indexSet_,t.toString())}addIndex(t,n){w(t!==tn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Y.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Jc(r,t.getCompare()):a=Hi;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let r=co(this.indexes_,(i,o)=>{let s=Nn(this.indexSet_,o);if(w(s,"Missing index implementation for "+o),i===Hi)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(Y.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),Jc(a,s.getCompare())}else return Hi;else{let a=n.get(t.name),l=i;return a&&(l=l.remove(new Y(t.name,a))),l.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=co(this.indexes_,i=>{if(i===Hi)return i;{let o=n.get(t.name);return o?i.remove(new Y(t.name,o)):i}});return new e(r,this.indexSet_)}};var Ts,B=(()=>{class e{static get EMPTY_NODE(){return Ts||(Ts=new e(new Dt(gm),null,Zi.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&kD(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ts}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ts:r}}getChild(n){let r=Q(n);return r===null?this:this.getImmediateChild(r).getChild(ue(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(w(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Y(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ts:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=Q(n);if(i===null)return r;{w(Q(n)!==".priority"||Kn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ue(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(fe,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+OD(this.getPriority().val())+":"),this.forEachChild(fe,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":dD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Y(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Y(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Y(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ks?-1:0}withIndex(n){if(n===tn||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===tn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(fe),o=r.getIterator(fe),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===tn?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),wg=class extends B{constructor(){super(new Dt(gm),B.EMPTY_NODE,Zi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return B.EMPTY_NODE}isEmpty(){return!1}},Ks=new wg;Object.defineProperties(Y,{MIN:{value:new Y(Yn,B.EMPTY_NODE)},MAX:{value:new Y(Tn,Ks)}});Xc.__EMPTY_NODE=B.EMPTY_NODE;Qi.__childrenNodeConstructor=B;Xk(Ks);eP(Ks);var nP=!0;function ye(e,t=null){if(e===null)return B.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),w(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Qi(n,ye(t))}if(!(e instanceof Array)&&nP){let n=[],r=!1;if(Oe(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=ye(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(s,l)))}}),n.length===0)return B.EMPTY_NODE;let o=Jc(n,Kk,s=>s.name,gm);if(r){let s=Jc(n,fe.getCompare());return new B(o,ye(t),new Zi({".priority":s},{".priority":fe}))}else return new B(o,ye(t),Zi.Default)}else{let n=B.EMPTY_NODE;return Oe(e,(r,i)=>{if(dt(e,r)&&r.substring(0,1)!=="."){let o=ye(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(ye(t))}}Jk(ye);var Ls=class extends qi{constructor(t){super(),this.indexPath_=t,w(!Z(t)&&Q(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Rr(t.name,n.name):o}makePost(t,n){let r=ye(t),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){let t=B.EMPTY_NODE.updateChild(this.indexPath_,Ks);return new Y(Tn,t)}toString(){return Fs(this.indexPath_,0).join("/")}};var Eg=class extends qi{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Rr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(t,n){let r=ye(t);return new Y(n,r)}toString(){return".value"}},mm=new Eg;function LD(e){return{type:"value",snapshotNode:e}}function Yi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Vs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function js(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function rP(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Bs=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){w(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Vs(n,a)):w(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Yi(n,r)):s.trackChildChange(js(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(fe,(i,o)=>{n.hasChild(i)||r.trackChildChange(Vs(i,o))}),n.isLeafNode()||n.forEachChild(fe,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(js(i,o,s))}else r.trackChildChange(Yi(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?B.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var eu=class e{constructor(t){this.indexedFilter_=new Bs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new Y(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);let o=this;return n.forEachChild(fe,(s,a)=>{o.matches(new Y(s,a))||(i=i.updateImmediateChild(s,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Dg=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new eu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new Y(n,r))||(r=B.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;w(a.numChildren()===this.limit_,"");let l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(js(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Vs(n,d));let v=a.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(Yi(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Vs(c.name,c.node)),o.trackChildChange(Yi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,B.EMPTY_NODE)):t}};var Us=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Yn}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Tn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fe}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function iP(e){return e.loadsAllData()?new Bs(e.getIndex()):e.hasLimit()?new Dg(e):new eu(e)}function oP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function sP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function bg(e,t,n){let r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function aP(e,t,n){let r;return e.index_===tn||n?r=bg(e,t,n):r=bg(e,t,Tn),r.startAfterSet_=!0,r}function Ig(e,t,n){let r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function lP(e,t,n){let r;return e.index_===tn||n?r=Ig(e,t,n):r=Ig(e,t,Yn),r.endBeforeSet_=!0,r}function _u(e,t){let n=e.copy();return n.index_=t,n}function qE(e){let t={};if(e.isDefault())return t;let n;if(e.index_===fe?n="$priority":e.index_===mm?n="$value":e.index_===tn?n="$key":(w(e.index_ instanceof Ls,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=De(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=De(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+De(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=De(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+De(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function QE(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==fe&&(t.i=e.index_.toString()),t}var Sg=class e extends Zc{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ys("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let l=qE(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),Nn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=qE(t._queryParams),r=t._path.toString(),i=new Ae;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+lv(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ua(a.responseText)}catch{je("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&je("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Mg=class{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function tu(){return{value:null,children:new Map}}function no(e,t,n){if(Z(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=Q(t);e.children.has(r)||e.children.set(r,tu());let i=e.children.get(r);t=ue(t),no(i,t,n)}}function Tg(e,t){if(Z(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(fe,(r,i)=>{no(e,new ne(r),i)}),Tg(e,t)}}else if(e.children.size>0){let n=Q(t);return t=ue(t),e.children.has(n)&&Tg(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function xg(e,t,n){e.value!==null?n(t,e.value):cP(e,(r,i)=>{let o=new ne(t.toString()+"/"+r);xg(i,o,n)})}function cP(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Ag=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Oe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var ZE=10*1e3,uP=30*1e3,dP=5*60*1e3,Ng=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ag(t);let r=ZE+(uP-ZE)*Math.random();As(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;Oe(t,(i,o)=>{o>0&&dt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),As(this.reportStats_.bind(this),Math.floor(Math.random()*2*dP))}};var en=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(en||{});function vm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ym(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function _m(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Rg=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=en.ACK_USER_WRITE,this.source=vm()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ne(t));return new e(te(),n,this.revert)}}else return w(Q(this.path)===t,"operationForChild called for unrelated child."),new e(ue(this.path),this.affectedTree,this.revert)}};var nu=class e{constructor(t,n){this.source=t,this.path=n,this.type=en.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new e(this.source,te()):new e(this.source,ue(this.path))}};var Ki=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=en.OVERWRITE}operationForChild(t){return Z(this.path)?new e(this.source,te(),this.snap.getImmediateChild(t)):new e(this.source,ue(this.path),this.snap)}};var $s=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=en.MERGE}operationForChild(t){if(Z(this.path)){let n=this.children.subtree(new ne(t));return n.isEmpty()?null:n.value?new Ki(this.source,te(),n.value):new e(this.source,te(),n)}else return w(Q(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var rn=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;let n=Q(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Og=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function fP(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(rP(s.childName,s.snapshotNode))}),xs(e,i,"child_removed",t,r,n),xs(e,i,"child_added",t,r,n),xs(e,i,"child_moved",o,r,n),xs(e,i,"child_changed",t,r,n),xs(e,i,"value",t,r,n),i}function xs(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>pP(e,a,l)),s.forEach(a=>{let l=hP(e,a,o);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function hP(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function pP(e,t,n){if(t.childName==null||n.childName==null)throw Br("Should only compare child_ events.");let r=new Y(t.childName,t.snapshotNode),i=new Y(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Cu(e,t){return{eventCache:e,serverCache:t}}function Rs(e,t,n,r){return Cu(new rn(t,n,r),e.serverCache)}function VD(e,t,n,r){return Cu(e.eventCache,new rn(t,n,r))}function ru(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Nr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var tg,gP=()=>(tg||(tg=new Dt(hk)),tg),Ze=class e{static fromObject(t){let n=new e(null);return Oe(t,(r,i)=>{n=n.set(new ne(r),i)}),n}constructor(t,n=gP()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:te(),value:this.value};if(Z(t))return null;{let r=Q(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ue(t),n);return o!=null?{path:ve(new ne(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{let n=Q(t),r=this.children.get(n);return r!==null?r.subtree(ue(t)):new e(null)}}set(t,n){if(Z(t))return new e(n,this.children);{let r=Q(t),o=(this.children.get(r)||new e(null)).set(ue(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(Z(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=Q(t),r=this.children.get(n);if(r){let i=r.remove(ue(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(Z(t))return this.value;{let n=Q(t),r=this.children.get(n);return r?r.get(ue(t)):null}}setTree(t,n){if(Z(t))return n;{let r=Q(t),o=(this.children.get(r)||new e(null)).setTree(ue(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(te(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ve(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,te(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Z(t))return null;{let o=Q(t),s=this.children.get(o);return s?s.findOnPath_(ue(t),ve(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,te(),n)}foreachOnPath_(t,n,r){if(Z(t))return this;{this.value&&r(n,this.value);let i=Q(t),o=this.children.get(i);return o?o.foreachOnPath_(ue(t),ve(n,i),r):new e(null)}}foreach(t){this.foreach_(te(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ve(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Vt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ze(null))}};function Os(e,t,n){if(Z(t))return new Vt(new Ze(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=Qe(i,t);return o=o.updateChild(s,n),new Vt(e.writeTree_.set(i,o))}else{let i=new Ze(n),o=e.writeTree_.setTree(t,i);return new Vt(o)}}}function kg(e,t,n){let r=e;return Oe(n,(i,o)=>{r=Os(r,ve(t,i),o)}),r}function YE(e,t){if(Z(t))return Vt.empty();{let n=e.writeTree_.setTree(t,new Ze(null));return new Vt(n)}}function Pg(e,t){return Or(e,t)!=null}function Or(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Qe(n.path,t)):null}function KE(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(fe,(r,i)=>{t.push(new Y(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Y(r,i.value))}),t}function Qn(e,t){if(Z(t))return e;{let n=Or(e,t);return n!=null?new Vt(new Ze(n)):new Vt(e.writeTree_.subtree(t))}}function Fg(e){return e.writeTree_.isEmpty()}function Xi(e,t){return jD(te(),e.writeTree_,t)}function jD(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(w(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=jD(ve(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ve(e,".priority"),r)),n}}function wu(e,t){return HD(t,e)}function mP(e,t,n,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Os(e.visibleWrites,t,n)),e.lastWriteId=r}function vP(e,t,n,r){w(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=kg(e.visibleWrites,t,n),e.lastWriteId=r}function yP(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function _P(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&CP(a,r.path)?i=!1:Et(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return wP(e),!0;if(r.snap)e.visibleWrites=YE(e.visibleWrites,r.path);else{let a=r.children;Oe(a,l=>{e.visibleWrites=YE(e.visibleWrites,ve(r.path,l))})}return!0}else return!1}function CP(e,t){if(e.snap)return Et(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Et(ve(e.path,n),t))return!0;return!1}function wP(e){e.visibleWrites=BD(e.allWrites,EP,te()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function EP(e){return e.visible}function BD(e,t,n){let r=Vt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)Et(n,s)?(a=Qe(n,s),r=Os(r,a,o.snap)):Et(s,n)&&(a=Qe(s,n),r=Os(r,te(),o.snap.getChild(a)));else if(o.children){if(Et(n,s))a=Qe(n,s),r=kg(r,a,o.children);else if(Et(s,n))if(a=Qe(s,n),Z(a))r=kg(r,te(),o.children);else{let l=Nn(o.children,Q(a));if(l){let c=l.getChild(ue(a));r=Os(r,te(),c)}}}else throw Br("WriteRecord should have .snap or .children")}}return r}function UD(e,t,n,r,i){if(!r&&!i){let o=Or(e.visibleWrites,t);if(o!=null)return o;{let s=Qn(e.visibleWrites,t);if(Fg(s))return n;if(n==null&&!Pg(s,te()))return null;{let a=n||B.EMPTY_NODE;return Xi(s,a)}}}else{let o=Qn(e.visibleWrites,t);if(!i&&Fg(o))return n;if(!i&&n==null&&!Pg(o,te()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Et(c.path,t)||Et(t,c.path))},a=BD(e.allWrites,s,t),l=n||B.EMPTY_NODE;return Xi(a,l)}}}function DP(e,t,n){let r=B.EMPTY_NODE,i=Or(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(fe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Qn(e.visibleWrites,t);return n.forEachChild(fe,(s,a)=>{let l=Xi(Qn(o,new ne(s)),a);r=r.updateImmediateChild(s,l)}),KE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Qn(e.visibleWrites,t);return KE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function bP(e,t,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=ve(t,n);if(Pg(e.visibleWrites,o))return null;{let s=Qn(e.visibleWrites,o);return Fg(s)?i.getChild(n):Xi(s,i.getChild(n))}}function IP(e,t,n,r){let i=ve(t,n),o=Or(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Qn(e.visibleWrites,i);return Xi(s,r.getNode().getImmediateChild(n))}else return null}function SP(e,t){return Or(e.visibleWrites,t)}function MP(e,t,n,r,i,o,s){let a,l=Qn(e.visibleWrites,t),c=Or(l,te());if(c!=null)a=c;else if(n!=null)a=Xi(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function TP(){return{visibleWrites:Vt.empty(),allWrites:[],lastWriteId:-1}}function iu(e,t,n,r){return UD(e.writeTree,e.treePath,t,n,r)}function Cm(e,t){return DP(e.writeTree,e.treePath,t)}function XE(e,t,n,r){return bP(e.writeTree,e.treePath,t,n,r)}function ou(e,t){return SP(e.writeTree,ve(e.treePath,t))}function xP(e,t,n,r,i,o){return MP(e.writeTree,e.treePath,t,n,r,i,o)}function wm(e,t,n){return IP(e.writeTree,e.treePath,t,n)}function $D(e,t){return HD(ve(e.treePath,t),e.writeTree)}function HD(e,t){return{treePath:e,writeTree:t}}var Lg=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,js(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Vs(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,Yi(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,js(r,t.snapshotNode,i.oldSnap));else throw Br("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Vg=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},zD=new Vg,Hs=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new rn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wm(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Nr(this.viewCache_),o=xP(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function AP(e){return{filter:e}}function NP(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function RP(e,t,n,r,i){let o=new Lg,s,a;if(n.type===en.OVERWRITE){let c=n;c.source.fromUser?s=jg(e,t,c.path,c.snap,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Z(c.path),s=su(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===en.MERGE){let c=n;c.source.fromUser?s=kP(e,t,c.path,c.children,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Bg(e,t,c.path,c.children,r,i,a,o))}else if(n.type===en.ACK_USER_WRITE){let c=n;c.revert?s=LP(e,t,c.path,r,i,o):s=PP(e,t,c.path,c.affectedTree,r,i,o)}else if(n.type===en.LISTEN_COMPLETE)s=FP(e,t,n.path,r,o);else throw Br("Unknown operation type: "+n.type);let l=o.getChanges();return OP(t,s,l),{viewCache:s,changes:l}}function OP(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ru(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(LD(ru(t)))}}function WD(e,t,n,r,i,o){let s=t.eventCache;if(ou(r,n)!=null)return t;{let a,l;if(Z(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=Nr(t),u=c instanceof B?c:B.EMPTY_NODE,d=Cm(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=iu(r,Nr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=Q(n);if(c===".priority"){w(Kn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=XE(r,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ue(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let f=XE(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=wm(r,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return Rs(t,a,s.isFullyInitialized()||Z(n),e.filter.filtersNodes())}}function su(e,t,n,r,i,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(Z(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=Q(n);if(!l.isCompleteForPath(n)&&Kn(n)>1)return t;let p=ue(n),y=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,p,zD,null)}let d=VD(t,c,l.isFullyInitialized()||Z(n),u.filtersNodes()),f=new Hs(i,d,o);return WD(e,d,n,i,f,a)}function jg(e,t,n,r,i,o,s){let a=t.eventCache,l,c,u=new Hs(i,t,o);if(Z(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Rs(t,c,!0,e.filter.filtersNodes());else{let d=Q(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Rs(t,c,a.isFullyInitialized(),a.isFiltered());else{let f=ue(n),h=a.getNode().getImmediateChild(d),p;if(Z(f))p=r;else{let v=u.getCompleteChild(d);v!=null?fm(f)===".priority"&&v.getChild(ND(f)).isEmpty()?p=v:p=v.updateChild(f,r):p=B.EMPTY_NODE}if(h.equals(p))l=t;else{let v=e.filter.updateChild(a.getNode(),d,p,f,u,s);l=Rs(t,v,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function JE(e,t){return e.eventCache.isCompleteForChild(t)}function kP(e,t,n,r,i,o,s){let a=t;return r.foreach((l,c)=>{let u=ve(n,l);JE(t,Q(u))&&(a=jg(e,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=ve(n,l);JE(t,Q(u))||(a=jg(e,a,u,c,i,o,s))}),a}function eD(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Bg(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;Z(n)?c=r:c=new Ze(null).setTree(n,r);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=eD(e,h,f);l=su(e,l,new ne(d),p,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),v=eD(e,p,f);l=su(e,l,new ne(d),v,i,o,s,a)}}),l}function PP(e,t,n,r,i,o,s){if(ou(i,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return su(e,t,n,l.getNode().getChild(n),i,o,a,s);if(Z(n)){let c=new Ze(null);return l.getNode().forEachChild(tn,(u,d)=>{c=c.set(new ne(u),d)}),Bg(e,t,n,c,i,o,a,s)}else return t}else{let c=new Ze(null);return r.foreach((u,d)=>{let f=ve(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Bg(e,t,n,c,i,o,a,s)}}function FP(e,t,n,r,i){let o=t.serverCache,s=VD(t,o.getNode(),o.isFullyInitialized()||Z(n),o.isFiltered());return WD(e,s,n,r,zD,i)}function LP(e,t,n,r,i,o){let s;if(ou(r,n)!=null)return t;{let a=new Hs(r,t,i),l=t.eventCache.getNode(),c;if(Z(n)||Q(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=iu(r,Nr(t));else{let d=t.serverCache.getNode();w(d instanceof B,"serverChildren would be complete if leaf node"),u=Cm(r,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=Q(n),d=wm(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,ue(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,B.EMPTY_NODE,ue(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=iu(r,Nr(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||ou(r,te())!=null,Rs(t,c,s,e.filter.filtersNodes())}}var Ug=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Bs(r.getIndex()),o=iP(r);this.processor_=AP(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(B.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(B.EMPTY_NODE,a.getNode(),null),u=new rn(l,s.isFullyInitialized(),i.filtersNodes()),d=new rn(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Cu(d,u),this.eventGenerator_=new Og(this.query_)}get query(){return this.query_}};function VP(e){return e.viewCache_.serverCache.getNode()}function jP(e){return ru(e.viewCache_)}function BP(e,t){let n=Nr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Z(t)&&!n.getImmediateChild(Q(t)).isEmpty())?n.getChild(t):null}function tD(e){return e.eventRegistrations_.length===0}function UP(e,t){e.eventRegistrations_.push(t)}function nD(e,t,n){let r=[];if(n){w(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function rD(e,t,n,r){t.type===en.MERGE&&t.source.queryId!==null&&(w(Nr(e.viewCache_),"We should always have a full cache before handling merges"),w(ru(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=RP(e.processor_,i,t,n,r);return NP(e.processor_,o.viewCache),w(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,GD(e,o.changes,o.viewCache.eventCache.getNode(),null)}function $P(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(fe,(o,s)=>{r.push(Yi(o,s))}),n.isFullyInitialized()&&r.push(LD(n.getNode())),GD(e,r,n.getNode(),t)}function GD(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return fP(e.eventGenerator_,t,n,i)}var au,lu=class{constructor(){this.views=new Map}};function HP(e){w(!au,"__referenceConstructor has already been defined"),au=e}function zP(){return w(au,"Reference.ts has not been loaded"),au}function WP(e){return e.views.size===0}function Em(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return w(o!=null,"SyncTree gave us an op for an invalid query."),rD(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(rD(s,t,n,r));return o}}function qD(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=iu(n,i?r:null),l=!1;a?l=!0:r instanceof B?(a=Cm(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);let c=Cu(new rn(a,l,!1),new rn(r,i,!1));return new Ug(t,c)}return s}function GP(e,t,n,r,i,o){let s=qD(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),UP(s,n),$P(s,n)}function qP(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Xn(e);if(i==="default")for(let[l,c]of e.views.entries())s=s.concat(nD(c,n,r)),tD(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(i);l&&(s=s.concat(nD(l,n,r)),tD(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Xn(e)&&o.push(new(zP())(t._repo,t._path)),{removed:o,events:s}}function QD(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Zn(e,t){let n=null;for(let r of e.views.values())n=n||BP(r,t);return n}function ZD(e,t){if(t._queryParams.loadsAllData())return Eu(e);{let r=t._queryIdentifier;return e.views.get(r)}}function YD(e,t){return ZD(e,t)!=null}function Xn(e){return Eu(e)!=null}function Eu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var cu;function QP(e){w(!cu,"__referenceConstructor has already been defined"),cu=e}function ZP(){return w(cu,"Reference.ts has not been loaded"),cu}var YP=1,uu=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ze(null),this.pendingWriteTree_=TP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Dm(e,t,n,r,i){return mP(e.pendingWriteTree_,t,n,r,i),i?ro(e,new Ki(vm(),t,n)):[]}function KP(e,t,n,r){vP(e.pendingWriteTree_,t,n,r);let i=Ze.fromObject(n);return ro(e,new $s(vm(),t,i))}function qn(e,t,n=!1){let r=yP(e.pendingWriteTree_,t);if(_P(e.pendingWriteTree_,t)){let o=new Ze(null);return r.snap!=null?o=o.set(te(),!0):Oe(r.children,s=>{o=o.set(new ne(s),!0)}),ro(e,new Rg(r.path,o,n))}else return[]}function Xs(e,t,n){return ro(e,new Ki(ym(),t,n))}function XP(e,t,n){let r=Ze.fromObject(n);return ro(e,new $s(ym(),t,r))}function JP(e,t){return ro(e,new nu(ym(),t))}function eF(e,t,n){let r=bm(e,n);if(r){let i=Im(r),o=i.path,s=i.queryId,a=Qe(o,t),l=new nu(_m(s),a);return Sm(e,o,l)}else return[]}function du(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||YD(s,t))){let l=qP(s,t,n,r);WP(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Xn(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=rF(f);for(let p=0;p<h.length;++p){let v=h[p],y=v.query,I=eb(e,v);e.listenProvider_.startListening(ks(y),zs(e,y),I.hashFn,I.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(ks(t),null):c.forEach(f=>{let h=e.queryToTagMap.get(bu(f));e.listenProvider_.stopListening(ks(f),h)}))}iF(e,c)}return a}function KD(e,t,n,r){let i=bm(e,r);if(i!=null){let o=Im(i),s=o.path,a=o.queryId,l=Qe(s,t),c=new Ki(_m(a),l,n);return Sm(e,s,c)}else return[]}function tF(e,t,n,r){let i=bm(e,r);if(i){let o=Im(i),s=o.path,a=o.queryId,l=Qe(s,t),c=Ze.fromObject(n),u=new $s(_m(a),l,c);return Sm(e,s,u)}else return[]}function $g(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Qe(f,i);o=o||Zn(h,p),s=s||Xn(h)});let a=e.syncPointTree_.get(i);a?(s=s||Xn(a),o=o||Zn(a,te())):(a=new lu,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=B.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let v=Zn(p,te());v&&(o=o.updateImmediateChild(h,v))}));let c=YD(a,t);if(!c&&!t._queryParams.loadsAllData()){let f=bu(t);w(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=oF();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=wu(e.pendingWriteTree_,i),d=GP(a,t,n,u,o,l);if(!c&&!s&&!r){let f=ZD(a,t);d=d.concat(sF(e,t,f))}return d}function Du(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=Qe(s,t),c=Zn(a,l);if(c)return c});return UD(i,t,o,n,!0)}function nF(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Qe(c,n);r=r||Zn(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Zn(i,te()):(i=new lu,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new rn(r,!0,!1):null,a=wu(e.pendingWriteTree_,t._path),l=qD(i,t,a,o?s.getNode():B.EMPTY_NODE,o);return jP(l)}function ro(e,t){return XD(t,e.syncPointTree_,null,wu(e.pendingWriteTree_,te()))}function XD(e,t,n,r){if(Z(e.path))return JD(e,t,n,r);{let i=t.get(te());n==null&&i!=null&&(n=Zn(i,te()));let o=[],s=Q(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=$D(r,s);o=o.concat(XD(a,l,c,u))}return i&&(o=o.concat(Em(i,e,r,n))),o}}function JD(e,t,n,r){let i=t.get(te());n==null&&i!=null&&(n=Zn(i,te()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=$D(r,s),u=e.operationForChild(s);u&&(o=o.concat(JD(u,a,l,c)))}),i&&(o=o.concat(Em(i,e,r,n))),o}function eb(e,t){let n=t.query,r=zs(e,n);return{hashFn:()=>(VP(t)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?eF(e,n._path,r):JP(e,n._path);{let o=mk(i,n);return du(e,n,null,o)}}}}function zs(e,t){let n=bu(t);return e.queryToTagMap.get(n)}function bu(e){return e._path.toString()+"$"+e._queryIdentifier}function bm(e,t){return e.tagToQueryMap.get(t)}function Im(e){let t=e.indexOf("$");return w(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ne(e.substr(0,t))}}function Sm(e,t,n){let r=e.syncPointTree_.get(t);w(r,"Missing sync point for query tag that we're tracking");let i=wu(e.pendingWriteTree_,t);return Em(r,n,i,null)}function rF(e){return e.fold((t,n,r)=>{if(n&&Xn(n))return[Eu(n)];{let i=[];return n&&(i=QD(n)),Oe(r,(o,s)=>{i=i.concat(s)}),i}})}function ks(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(ZP())(e._repo,e._path):e}function iF(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=bu(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function oF(){return YP++}function sF(e,t,n){let r=t._path,i=zs(e,t),o=eb(e,n),s=e.listenProvider_.startListening(ks(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)w(!Xn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!Z(c)&&u&&Xn(u))return[Eu(u).query];{let f=[];return u&&(f=f.concat(QD(u).map(h=>h.query))),Oe(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(ks(u),zs(e,u))}}return s}var Hg=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},zg=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ve(this.path_,t);return new e(this.syncTree_,n)}node(){return Du(this.syncTree_,this.path_)}},aF=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},iD=function(e,t,n){if(!e||typeof e!="object")return e;if(w(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return lF(e[".sv"],t,n);if(typeof e[".sv"]=="object")return cF(e[".sv"],t);w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},lF=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+e)}},cF=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&w(!1,"Unexpected increment value: "+r);let i=t.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},tb=function(e,t,n,r){return Tm(t,new zg(n,e),r)},Mm=function(e,t,n){return Tm(e,new Hg(t),n)};function Tm(e,t,n){let r=e.getPriority().val(),i=iD(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=iD(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Qi(a,ye(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Qi(i))),s.forEachChild(fe,(a,l)=>{let c=Tm(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Ws=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Iu(e,t){let n=t instanceof ne?t:new ne(t),r=e,i=Q(n);for(;i!==null;){let o=Nn(r.node.children,i)||{children:{},childCount:0};r=new Ws(i,r,o),n=ue(n),i=Q(n)}return r}function kr(e){return e.node.value}function xm(e,t){e.node.value=t,Wg(e)}function nb(e){return e.node.childCount>0}function uF(e){return kr(e)===void 0&&!nb(e)}function Su(e,t){Oe(e.node.children,(n,r)=>{t(new Ws(n,e,r))})}function rb(e,t,n,r){n&&!r&&t(e),Su(e,i=>{rb(i,t,!0,r)}),n&&r&&t(e)}function dF(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Js(e){return new ne(e.parent===null?e.name:Js(e.parent)+"/"+e.name)}function Wg(e){e.parent!==null&&fF(e.parent,e.name,e)}function fF(e,t,n){let r=uF(n),i=dt(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Wg(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Wg(e))}var hF=/[\[\].#$\/\u0000-\u001F\u007F]/,pF=/[\[\].#$\u0000-\u001F\u007F]/,ng=10*1024*1024,Mu=function(e){return typeof e=="string"&&e.length!==0&&!hF.test(e)},ib=function(e){return typeof e=="string"&&e.length!==0&&!pF.test(e)},gF=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ib(e)},Gs=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!yu(e)||e&&typeof e=="object"&&dt(e,".sv")},on=function(e,t,n,r){r&&t===void 0||ea(Ke(e,"value"),t,n)},ea=function(e,t,n){let r=n instanceof ne?new gg(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Tr(r));if(typeof t=="function")throw new Error(e+"contains a function "+Tr(r)+" with contents = "+t.toString());if(yu(t))throw new Error(e+"contains "+t.toString()+" "+Tr(r));if(typeof t=="string"&&t.length>ng/3&&uo(t)>ng)throw new Error(e+"contains a string greater than "+ng+" utf8 bytes "+Tr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Oe(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Mu(s)))throw new Error(e+" contains an invalid key ("+s+") "+Tr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Wk(r,s),ea(e,a,r),Gk(r)}),i&&o)throw new Error(e+' contains ".value" child '+Tr(r)+" in addition to actual children.")}},mF=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];let o=Fs(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Mu(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(zk);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Et(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},ob=function(e,t,n,r){if(r&&t===void 0)return;let i=Ke(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");let o=[];Oe(t,(s,a)=>{let l=new ne(s);if(ea(i,a,ve(n,l)),fm(l)===".priority"&&!Gs(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),mF(i,o)},Am=function(e,t,n){if(!(n&&t===void 0)){if(yu(t))throw new Error(Ke(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gs(t))throw new Error(Ke(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ta=function(e,t,n,r){if(!(r&&n===void 0)&&!Mu(n))throw new Error(Ke(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},io=function(e,t,n,r){if(!(r&&n===void 0)&&!ib(n))throw new Error(Ke(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},vF=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),io(e,t,n,r)},at=function(e,t){if(Q(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},sb=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Mu(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gF(n))throw new Error(Ke(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Gg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Tu(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!hm(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ab(e,t,n){Tu(e,n),lb(e,r=>hm(r,t))}function lt(e,t,n){Tu(e,n),lb(e,r=>Et(r,t)||Et(t,r))}function lb(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(yF(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function yF(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();Ar&&Re("event: "+n.toString()),to(r)}}}var cb="repo_interrupt",_F=25,qg=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tu(),this.transactionQueueTree_=new Ws,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function CF(e,t,n){if(e.stats_=dm(e.repoInfo_),e.forceRestClient_||Ck())e.server_=new Sg(e.repoInfo_,(r,i,o,s)=>{oD(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>sD(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{De(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new pm(e.repoInfo_,t,(r,i,o,s)=>{oD(e,r,i,o,s)},r=>{sD(e,r)},r=>{wF(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Ek(e.repoInfo_,()=>new Ng(e.stats_,e.server_)),e.infoData_=new Mg,e.infoSyncTree_=new uu({startListening:(r,i,o,s)=>{let a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Xs(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Nm(e,"connected",!1),e.serverSyncTree_=new uu({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);lt(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function ub(e){let n=e.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function na(e){return aF({timestamp:ub(e)})}function oD(e,t,n,r,i){e.dataUpdateCount++;let o=new ne(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let l=co(n,c=>ye(c));s=tF(e.serverSyncTree_,o,l,i)}else{let l=ye(n);s=KD(e.serverSyncTree_,o,l,i)}else if(r){let l=co(n,c=>ye(c));s=XP(e.serverSyncTree_,o,l)}else{let l=ye(n);s=Xs(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Ji(e,o)),lt(e.eventQueue_,a,s)}function sD(e,t){Nm(e,"connected",t),t===!1&&bF(e)}function wF(e,t){Oe(t,(n,r)=>{Nm(e,n,r)})}function Nm(e,t,n){let r=new ne("/.info/"+t),i=ye(n);e.infoData_.updateSnapshot(r,i);let o=Xs(e.infoSyncTree_,r,i);lt(e.eventQueue_,r,o)}function xu(e){return e.nextWriteId_++}function EF(e,t,n){let r=nF(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=ye(i).withIndex(t._queryParams.getIndex());$g(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Xs(e.serverSyncTree_,t._path,o);else{let a=zs(e.serverSyncTree_,t);s=KD(e.serverSyncTree_,t._path,o,a)}return lt(e.eventQueue_,t._path,s),du(e.serverSyncTree_,t,n,null,!0),o},i=>(oo(e,"get for query "+De(t)+" failed: "+i),Promise.reject(new Error(i))))}function Rm(e,t,n,r,i){oo(e,"set",{path:t.toString(),value:n,priority:r});let o=na(e),s=ye(n,r),a=Du(e.serverSyncTree_,t),l=Mm(s,a,o),c=xu(e),u=Dm(e.serverSyncTree_,t,l,c,!0);Tu(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||je("set at "+t+" failed: "+f);let v=qn(e.serverSyncTree_,c,!p);lt(e.eventQueue_,t,v),Jn(e,i,f,h)});let d=km(e,t);Ji(e,d),lt(e.eventQueue_,d,[])}function DF(e,t,n,r){oo(e,"update",{path:t.toString(),value:n});let i=!0,o=na(e),s={};if(Oe(n,(a,l)=>{i=!1,s[a]=tb(ve(t,a),ye(l),e.serverSyncTree_,o)}),i)Re("update() called with empty data.  Don't do anything."),Jn(e,r,"ok",void 0);else{let a=xu(e),l=KP(e.serverSyncTree_,t,s,a);Tu(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||je("update at "+t+" failed: "+c);let f=qn(e.serverSyncTree_,a,!d),h=f.length>0?Ji(e,t):t;lt(e.eventQueue_,h,f),Jn(e,r,c,u)}),Oe(n,c=>{let u=km(e,ve(t,c));Ji(e,u)}),lt(e.eventQueue_,t,[])}}function bF(e){oo(e,"onDisconnectEvents");let t=na(e),n=tu();xg(e.onDisconnect_,te(),(i,o)=>{let s=tb(i,o,e.serverSyncTree_,t);no(n,i,s)});let r=[];xg(n,te(),(i,o)=>{r=r.concat(Xs(e.serverSyncTree_,i,o));let s=km(e,i);Ji(e,s)}),e.onDisconnect_=tu(),lt(e.eventQueue_,te(),r)}function IF(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{r==="ok"&&Tg(e.onDisconnect_,t),Jn(e,n,r,i)})}function aD(e,t,n,r){let i=ye(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(o,s)=>{o==="ok"&&no(e.onDisconnect_,t,i),Jn(e,r,o,s)})}function SF(e,t,n,r,i){let o=ye(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&no(e.onDisconnect_,t,o),Jn(e,i,s,a)})}function MF(e,t,n,r){if(da(n)){Re("onDisconnect().update() called with empty data.  Don't do anything."),Jn(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{i==="ok"&&Oe(n,(s,a)=>{let l=ye(a);no(e.onDisconnect_,ve(t,s),l)}),Jn(e,r,i,o)})}function TF(e,t,n){let r;Q(t._path)===".info"?r=$g(e.infoSyncTree_,t,n):r=$g(e.serverSyncTree_,t,n),ab(e.eventQueue_,t._path,r)}function Qg(e,t,n){let r;Q(t._path)===".info"?r=du(e.infoSyncTree_,t,n):r=du(e.serverSyncTree_,t,n),ab(e.eventQueue_,t._path,r)}function db(e){e.persistentConnection_&&e.persistentConnection_.interrupt(cb)}function xF(e){e.persistentConnection_&&e.persistentConnection_.resume(cb)}function oo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Re(n,...t)}function Jn(e,t,n,r){t&&to(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function AF(e,t,n,r,i,o){oo(e,"transaction on "+t);let s={path:t,update:n,onComplete:r,status:null,order:uD(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Om(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{ea("transaction failed: Data returned ",l,s.path),s.status=0;let c=Iu(e.transactionQueueTree_,t),u=kr(c)||[];u.push(s),xm(c,u);let d;typeof l=="object"&&l!==null&&dt(l,".priority")?(d=Nn(l,".priority"),w(Gs(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Du(e.serverSyncTree_,t)||B.EMPTY_NODE).getPriority().val();let f=na(e),h=ye(l,d),p=Mm(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=xu(e);let v=Dm(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);lt(e.eventQueue_,t,v),Au(e,e.transactionQueueTree_)}}function Om(e,t,n){return Du(e.serverSyncTree_,t,n)||B.EMPTY_NODE}function Au(e,t=e.transactionQueueTree_){if(t||Nu(e,t),kr(t)){let n=hb(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&NF(e,Js(t),n)}else nb(t)&&Su(t,n=>{Au(e,n)})}function NF(e,t,n){let r=n.map(c=>c.currentWriteId),i=Om(e,t,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];w(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Qe(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{oo(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(qn(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Nu(e,Iu(e.transactionQueueTree_,t)),Au(e,e.transactionQueueTree_),lt(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)to(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Ji(e,t)}},s)}function Ji(e,t){let n=fb(e,t),r=Js(n),i=hb(e,n);return RF(e,i,r),r}function RF(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=Qe(n,l.path),u=!1,d;if(w(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(qn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=_F)u=!0,d="maxretry",i=i.concat(qn(e.serverSyncTree_,l.currentWriteId,!0));else{let f=Om(e,l.path,s);l.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){ea("transaction failed: Data returned ",h,l.path);let p=ye(h);typeof h=="object"&&h!=null&&dt(h,".priority")||(p=p.updatePriority(f.getPriority()));let y=l.currentWriteId,I=na(e),z=Mm(p,f,I);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=z,l.currentWriteId=xu(e),s.splice(s.indexOf(y),1),i=i.concat(Dm(e.serverSyncTree_,l.path,z,l.currentWriteId,l.applyLocally)),i=i.concat(qn(e.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(qn(e.serverSyncTree_,l.currentWriteId,!0))}lt(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Nu(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)to(r[a]);Au(e,e.transactionQueueTree_)}function fb(e,t){let n,r=e.transactionQueueTree_;for(n=Q(t);n!==null&&kr(r)===void 0;)r=Iu(r,n),t=ue(t),n=Q(t);return r}function hb(e,t){let n=[];return pb(e,t,n),n.sort((r,i)=>r.order-i.order),n}function pb(e,t,n){let r=kr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Su(t,i=>{pb(e,i,n)})}function Nu(e,t){let n=kr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,xm(t,n.length>0?n:void 0)}Su(t,r=>{Nu(e,r)})}function km(e,t){let n=Js(fb(e,t)),r=Iu(e.transactionQueueTree_,t);return dF(r,i=>{rg(e,i)}),rg(e,r),rb(r,i=>{rg(e,i)}),n}function rg(e,t){let n=kr(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(w(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(w(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(qn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?xm(t,void 0):n.length=o+1,lt(e.eventQueue_,Js(t),i);for(let s=0;s<r.length;s++)to(r[s])}}function OF(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function kF(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):je(`Invalid query segment '${n}' in query '${e}'`)}return t}var Zg=function(e,t){let n=PF(e),r=n.namespace;n.domain==="firebase.com"&&nn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&nn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||dk();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new qc(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ne(n.pathString)}},PF=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=OF(e.substring(u,d)));let f=kF(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var lD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",FF=function(){let e=0,t=[];return function(n){let r=n===e;e=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=lD.charAt(n%64),n=Math.floor(n/64);w(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=lD.charAt(t[i]);return w(s.length===20,"nextPushId: Length should be 20."),s}}();var fu=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+De(this.snapshot.exportVal())}},hu=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var qs=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var pu=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Ae;return IF(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){at("OnDisconnect.remove",this._path);let t=new Ae;return aD(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){at("OnDisconnect.set",this._path),on("OnDisconnect.set",t,this._path,!1);let n=new Ae;return aD(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){at("OnDisconnect.setWithPriority",this._path),on("OnDisconnect.setWithPriority",t,this._path,!1),Am("OnDisconnect.setWithPriority",n,!1);let r=new Ae;return SF(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){at("OnDisconnect.update",this._path),ob("OnDisconnect.update",t,this._path,!1);let n=new Ae;return MF(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var Ye=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:fm(this._path)}get ref(){return new ct(this._repo,this._path)}get _queryIdentifier(){let t=QE(this._queryParams),n=um(t);return n==="{}"?"default":n}get _queryObject(){return QE(this._queryParams)}isEqual(t){if(t=Ue(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=hm(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Hk(this._path)}};function Ru(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function tr(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===tn){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==Yn)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Tn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===fe){if(t!=null&&!Gs(t)||n!=null&&!Gs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(w(e.getIndex()instanceof Ls||e.getIndex()===mm,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ou(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ct=class e extends Ye{constructor(t,n){super(t,n,new Us,!1)}get parent(){let t=ND(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},eo=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new ne(t),r=er(this.ref,t);return new e(this._node.getChild(n),r,fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,er(this.ref,r),fe)))}hasChild(t){let n=new ne(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function jt(e,t){return e=Ue(e),e._checkNotDeleted("ref"),t!==void 0?er(e._root,t):e._root}function Pm(e,t){e=Ue(e),e._checkNotDeleted("refFromURL");let n=Zg(t,e._repo.repoInfo_.nodeAdmin);sb("refFromURL",n);let r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&nn("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),jt(e,n.path.toString())}function er(e,t){return e=Ue(e),Q(e._path)===null?vF("child","path",t,!1):io("child","path",t,!1),new ct(e._repo,ve(e._path,t))}function ku(e,t){e=Ue(e),at("push",e._path),on("push",t,e._path,!0);let n=ub(e._repo),r=FF(n),i=er(e,r),o=er(e,r),s;return t!=null?s=Pr(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Pu(e){return at("remove",e._path),Pr(e,null)}function Pr(e,t){e=Ue(e),at("set",e._path),on("set",t,e._path,!1);let n=new Ae;return Rm(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function gb(e,t){e=Ue(e),at("setPriority",e._path),Am("setPriority",t,!1);let n=new Ae;return Rm(e._repo,ve(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function mb(e,t,n){if(at("setWithPriority",e._path),on("setWithPriority",t,e._path,!1),Am("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let r=new Ae;return Rm(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}function vb(e,t){ob("update",t,e._path,!1);let n=new Ae;return DF(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function yb(e){e=Ue(e);let t=new qs(()=>{}),n=new Qs(t);return EF(e._repo,e,n).then(r=>new eo(r,new ct(e._repo,e._path),e._queryParams.getIndex()))}var Qs=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new fu("value",this,new eo(t.snapshotNode,new ct(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new hu(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},gu=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new hu(this,t,n):null}createEvent(t,n){w(t.childName!=null,"Child events should have a childName.");let r=er(new ct(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new fu(t.type,this,new eo(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function ra(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{Qg(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new qs(n,o||void 0),a=t==="value"?new Qs(s):new gu(t,s);return TF(e._repo,e,a),()=>Qg(e._repo,e,a)}function xn(e,t,n,r){return ra(e,"value",t,n,r)}function Fm(e,t,n,r){return ra(e,"child_added",t,n,r)}function Lm(e,t,n,r){return ra(e,"child_changed",t,n,r)}function Vm(e,t,n,r){return ra(e,"child_moved",t,n,r)}function jm(e,t,n,r){return ra(e,"child_removed",t,n,r)}function Bm(e,t,n){let r=null,i=n?new qs(n):null;t==="value"?r=new Qs(i):t&&(r=new gu(t,i)),Qg(e._repo,e,r)}var ut=class{},mu=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){on("endAt",this._value,t._path,!0);let n=Ig(t._queryParams,this._value,this._key);if(Ou(n),tr(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ye(t._repo,t._path,n,t._orderByCalled)}};function _b(e,t){return ta("endAt","key",t,!0),new mu(e,t)}var Yg=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){on("endBefore",this._value,t._path,!1);let n=lP(t._queryParams,this._value,this._key);if(Ou(n),tr(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ye(t._repo,t._path,n,t._orderByCalled)}};function Cb(e,t){return ta("endBefore","key",t,!0),new Yg(e,t)}var vu=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){on("startAt",this._value,t._path,!0);let n=bg(t._queryParams,this._value,this._key);if(Ou(n),tr(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ye(t._repo,t._path,n,t._orderByCalled)}};function wb(e=null,t){return ta("startAt","key",t,!0),new vu(e,t)}var Kg=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){on("startAfter",this._value,t._path,!1);let n=aP(t._queryParams,this._value,this._key);if(Ou(n),tr(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ye(t._repo,t._path,n,t._orderByCalled)}};function Eb(e,t){return ta("startAfter","key",t,!0),new Kg(e,t)}var Xg=class extends ut{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ye(t._repo,t._path,oP(t._queryParams,this._limit),t._orderByCalled)}};function Db(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xg(e)}var Jg=class extends ut{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ye(t._repo,t._path,sP(t._queryParams,this._limit),t._orderByCalled)}};function bb(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Jg(e)}var em=class extends ut{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Ru(t,"orderByChild");let n=new ne(this._path);if(Z(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Ls(n),i=_u(t._queryParams,r);return tr(i),new Ye(t._repo,t._path,i,!0)}};function Ib(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return io("orderByChild","path",e,!1),new em(e)}var tm=class extends ut{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Ru(t,"orderByKey");let n=_u(t._queryParams,tn);return tr(n),new Ye(t._repo,t._path,n,!0)}};function Sb(){return new tm}var nm=class extends ut{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Ru(t,"orderByPriority");let n=_u(t._queryParams,fe);return tr(n),new Ye(t._repo,t._path,n,!0)}};function Mb(){return new nm}var rm=class extends ut{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Ru(t,"orderByValue");let n=_u(t._queryParams,mm);return tr(n),new Ye(t._repo,t._path,n,!0)}};function Tb(){return new rm}var im=class extends ut{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(on("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new mu(this._value,this._key)._apply(new vu(this._value,this._key)._apply(t))}};function xb(e,t){return ta("equalTo","key",t,!0),new im(e,t)}function bt(e,...t){let n=Ue(e);for(let r of t)n=r._apply(n);return n}HP(ct);QP(ct);var LF="FIREBASE_DATABASE_EMULATOR_HOST",om={},VF=!1;function jF(e,t,n,r){e.repoInfo_=new qc(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function Um(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||nn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=Zg(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[LF]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=Zg(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new Ns(Ns.OWNER):new cg(e.name,e.options,t);sb("Invalid Firebase Database URL",s),Z(s.path)||nn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=UF(a,e,u,new lg(e,n));return new sm(d,e)}function BF(e,t){let n=om[t];(!n||n[e.key]!==e)&&nn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),db(e),delete n[e.key]}function UF(e,t,n,r){let i=om[t.name];i||(i={},om[t.name]=i);let o=i[e.toURLString()];return o&&nn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new qg(e,VF,n,r),i[e.toURLString()]=o,o}var sm=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ct(this._repo,te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&nn("Cannot call "+t+" on a deleted database.")}};function Ab(){AD.IS_TRANSPORT_INITIALIZED&&je("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Nb(){Ab(),Ps.forceDisallow()}function Rb(){Ab(),zi.forceDisallow(),Ps.forceAllow()}function Ob(e=Yu(),t){let n=Zu(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=ev("database");r&&$m(n,...r)}return n}function $m(e,t,n,r={}){e=Ue(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&av(r,o.repoInfo_.emulatorOptions))return;nn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&nn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ns(Ns.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:tv(r.mockUserToken,e.app.options.projectId);s=new Ns(a)}jF(o,i,r,s)}function kb(e){e=Ue(e),e._checkNotDeleted("goOffline"),db(e._repo)}function Pb(e){e=Ue(e),e._checkNotDeleted("goOnline"),xF(e._repo)}function Fb(e,t){fD(e,t)}function $F(e){cm(hv),fo(new an("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Um(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Rn(NE,RE,e),Rn(NE,RE,"esm2017")}var HF={".sv":"timestamp"};function Lb(){return HF}function Vb(e){return{".sv":{increment:e}}}var am=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function jb(e,t,n){var r;if(e=Ue(e),at("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Ae,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new eo(u,new ct(e._repo,e._path),fe),o.resolve(new am(c,d)))},a=xn(e,()=>{});return AF(e._repo,e._path,t,s,a,i),o.promise}pm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};pm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};$F();var zF="@firebase/database-compat",WF="2.0.5";var GF=new Ur("@firebase/database-compat"),Bb=function(e){let t="FIREBASE WARNING: "+e;GF.warn(t)};var qF=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Ke(e,t)+"must be a boolean.")},QF=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ke(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var Hm=class{constructor(t){this._delegate=t}cancel(t){P("OnDisconnect.cancel",0,1,arguments.length),Ie("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),r=>t(r)),n}remove(t){P("OnDisconnect.remove",0,1,arguments.length),Ie("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),r=>t(r)),n}set(t,n){P("OnDisconnect.set",1,2,arguments.length),Ie("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){P("OnDisconnect.setWithPriority",2,3,arguments.length),Ie("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(t,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(t,n){if(P("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,Bb("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ie("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(t);return n&&r.then(()=>n(null),i=>n(i)),r}};var zm=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return P("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Fr=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return P("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return P("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return P("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return P("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return P("DataSnapshot.child",0,1,arguments.length),t=String(t),io("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return P("DataSnapshot.hasChild",1,1,arguments.length),io("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return P("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return P("DataSnapshot.forEach",1,1,arguments.length),Ie("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return P("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return P("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return P("DataSnapshot.ref",0,0,arguments.length),new An(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Fu=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,r,i){var o;P("Query.on",2,4,arguments.length),Ie("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Fr(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return xn(this._delegate,a,l),n;case"child_added":return Fm(this._delegate,a,l),n;case"child_removed":return jm(this._delegate,a,l),n;case"child_changed":return Lm(this._delegate,a,l),n;case"child_moved":return Vm(this._delegate,a,l),n;default:throw new Error(Ke("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,r){if(P("Query.off",0,3,arguments.length),QF("Query.off",t,!0),Ie("Query.off","callback",n,!0),qu("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,Bm(this._delegate,t,i)}else Bm(this._delegate,t)}get(){return yb(this._delegate).then(t=>new Fr(this.database,t))}once(t,n,r,i){P("Query.once",1,4,arguments.length),Ie("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Ae,a=(c,u)=>{let d=new Fr(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":xn(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Fm(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":jm(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Lm(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Vm(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Ke("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return P("Query.limitToFirst",1,1,arguments.length),new e(this.database,bt(this._delegate,Db(t)))}limitToLast(t){return P("Query.limitToLast",1,1,arguments.length),new e(this.database,bt(this._delegate,bb(t)))}orderByChild(t){return P("Query.orderByChild",1,1,arguments.length),new e(this.database,bt(this._delegate,Ib(t)))}orderByKey(){return P("Query.orderByKey",0,0,arguments.length),new e(this.database,bt(this._delegate,Sb()))}orderByPriority(){return P("Query.orderByPriority",0,0,arguments.length),new e(this.database,bt(this._delegate,Mb()))}orderByValue(){return P("Query.orderByValue",0,0,arguments.length),new e(this.database,bt(this._delegate,Tb()))}startAt(t=null,n){return P("Query.startAt",0,2,arguments.length),new e(this.database,bt(this._delegate,wb(t,n)))}startAfter(t=null,n){return P("Query.startAfter",0,2,arguments.length),new e(this.database,bt(this._delegate,Eb(t,n)))}endAt(t=null,n){return P("Query.endAt",0,2,arguments.length),new e(this.database,bt(this._delegate,_b(t,n)))}endBefore(t=null,n){return P("Query.endBefore",0,2,arguments.length),new e(this.database,bt(this._delegate,Cb(t,n)))}equalTo(t,n){return P("Query.equalTo",1,2,arguments.length),new e(this.database,bt(this._delegate,xb(t,n)))}toString(){return P("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return P("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(P("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ie(t,"cancel",i.cancel,!0),i.context=r,qu(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Ke(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new An(this.database,new ct(this._delegate._repo,this._delegate._path))}},An=class e extends Fu{constructor(t,n){super(t,new Ye(n._repo,n._path,new Us,!1)),this.database=t,this._delegate=n}getKey(){return P("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return P("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,er(this._delegate,t))}getParent(){P("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return P("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){P("Reference.set",1,2,arguments.length),Ie("Reference.set","onComplete",n,!0);let r=Pr(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}update(t,n){if(P("Reference.update",1,2,arguments.length),Array.isArray(t)){let i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,Bb("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}at("Reference.update",this._delegate._path),Ie("Reference.update","onComplete",n,!0);let r=vb(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){P("Reference.setWithPriority",2,3,arguments.length),Ie("Reference.setWithPriority","onComplete",r,!0);let i=mb(this._delegate,t,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(t){P("Reference.remove",0,1,arguments.length),Ie("Reference.remove","onComplete",t,!0);let n=Pu(this._delegate);return t&&n.then(()=>t(null),r=>t(r)),n}transaction(t,n,r){P("Reference.transaction",1,3,arguments.length),Ie("Reference.transaction","transactionUpdate",t,!1),Ie("Reference.transaction","onComplete",n,!0),qF("Reference.transaction","applyLocally",r,!0);let i=jb(this._delegate,t,{applyLocally:r}).then(o=>new zm(o.committed,new Fr(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(t,n){P("Reference.setPriority",1,2,arguments.length),Ie("Reference.setPriority","onComplete",n,!0);let r=gb(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}push(t,n){P("Reference.push",0,2,arguments.length),Ie("Reference.push","onComplete",n,!0);let r=ku(this._delegate,t),i=r.then(s=>new e(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new e(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return at("Reference.onDisconnect",this._delegate._path),new Hm(new pu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Lr=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Nb,forceLongPolling:Rb}}useEmulator(t,n,r={}){$m(this._delegate,t,n,r)}ref(t){if(P("database.ref",0,1,arguments.length),t instanceof An){let n=Pm(this._delegate,t.toString());return new An(this,n)}else{let n=jt(this._delegate,t);return new An(this,n)}}refFromURL(t){P("database.refFromURL",1,1,arguments.length);let r=Pm(this._delegate,t);return new An(this,r)}goOffline(){return P("database.goOffline",0,0,arguments.length),kb(this._delegate)}goOnline(){return P("database.goOnline",0,0,arguments.length),Pb(this._delegate)}};Lr.ServerValue={TIMESTAMP:Lb(),increment:e=>Vb(e)};function ZF({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){cm(n);let a=new Qu("database-standalone"),l=new fa("auth-internal",a);l.setComponent(new an("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new fa("app-check-internal",a),c.setComponent(new an("app-check-internal",()=>i,"PRIVATE"))),{instance:new Lr(Um(e,l,c,t,s),e),namespace:o}}var YF=Object.freeze({__proto__:null,initStandalone:ZF});var KF=Lr.ServerValue;function XF(e){e.INTERNAL.registerComponent(new an("database-compat",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:n});return new Lr(i,r)},"PUBLIC").setServiceProps({Reference:An,Query:Fu,Database:Lr,DataSnapshot:Fr,enableLogging:Fb,INTERNAL:YF,ServerValue:KF}).setMultipleInstances(!0)),e.registerVersion(zF,WF)}XF(It);function ia(e,t,n="on",r=yo){return new $(i=>{let o=null;return o=e[n](t,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(k(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),Co())}function JF(e){return typeof e=="string"}function eL(e){return typeof e.exportVal=="function"}function Wb(e){return e==null}function Gb(e){return typeof e.set=="function"}function Ub(e,t){return Gb(t)?t:e.ref(t)}function qb(e,t){if(JF(e))return t.stringCase();if(Gb(e))return t.firebaseCase();if(eL(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function Qb(e){return(Wb(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function Zb(e,t,n){t=Qb(t);let r=t.map(i=>ia(e,i,"on",n));return ei(...r)}function tL(e,t,n){let r=Zb(e,t).pipe(ni((i,o)=>[...i,o],[]));return rL(e,r,n)}function nL(e,t){return ia(e,"value","on",t).pipe(k(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function rL(e,t,n){return nL(e,n).pipe(Dd(t),k(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Cd(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),k(i=>i.actions))}function $b(e,t){return function(r,i){return qb(r,{stringCase:()=>e.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function iL(e){return function(n){return n?qb(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function oL(e,t,n){return ia(e,"value","once",n).pipe(pe(r=>{let i=[O(r)];return t.forEach(o=>i.push(ia(e,o,"on",n))),ei(...i).pipe(ni(aL,[]))}),vd())}function Yb(e,t){let n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function sL(e,t){if(Wb(t))return 0;{let n=Yb(e,t);return n===-1?e.length:n+1}}function aL(e,t){let{payload:n,prevKey:r,key:i}=t,o=Yb(e,i),s=sL(e,r);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==r&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(r==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===i?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function Hb(e,t,n){return t=Qb(t),oL(e,t,n)}function lL(e,t,n){let r=t.schedulers.outsideAngular,i=C(ee).run(()=>e.ref);return{query:e,update:$b(i,"update"),set:$b(i,"set"),push:o=>i.push(o),remove:iL(i),snapshotChanges(o){return Hb(e,o,r).pipe(Jt(n))},stateChanges(o){return Zb(e,o,r).pipe(Jt(n))},auditTrail(o){return tL(e,o,r).pipe(Jt(n))},valueChanges(o,s){return Hb(e,o,r).pipe(k(l=>l.map(c=>s&&s.idField?W(E({},c.payload.val()),{[s.idField]:c.key}):c.payload.val())),Jt(n))}}}function zb(e,t){return function(){return ia(e,"value","on",t)}}function cL(e,t,n){return{query:e,snapshotChanges(){return zb(e,t.schedulers.outsideAngular)().pipe(Jt(n))},update(r){return e.ref.update(r)},set(r){return e.ref.set(r)},remove(){return e.ref.remove()},valueChanges(){return zb(e,t.schedulers.outsideAngular)().pipe(Jt(n),k(i=>i.payload.exists()?i.payload.val():null))}}}var uL=new S("angularfire2.realtimeDatabaseURL"),dL=new S("angularfire2.database.use-emulator"),fL=(()=>{class e{schedulers;database;injector=C(Te);constructor(n,r,i,o,s,a,l,c,u,d,f,h,p,v,y){this.schedulers=a;let I=l,z=Hc(n,s,r);c&&Yp(z,s,u,f,h,p,d,v),this.database=zc(`${z.name}.database.${i}`,"AngularFireDatabase",z.name,()=>{let _=s.runOutsideAngular(()=>z.database(i||void 0));return I&&_.useEmulator(...I),_},[I])}list(n,r){let i=C(ee).runOutsideAngular(()=>Ub(this.database,n)),o=i;return r&&(o=r(i)),lL(o,this,this.injector)}object(n){let r=C(ee).runOutsideAngular(()=>Ub(this.database,n));return cL(r,this,this.injector)}createPushId(){return C(ee).runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||e)(b(Uc),b($c,8),b(uL,8),b(yt),b(ee),b(Ds),b(dL,8),b(AE,8),b(zp,8),b(Wp,8),b(Gp,8),b(qp,8),b(Qp,8),b(Zp,8),b($i,8))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),Kb=(()=>{class e{constructor(){It.registerVersion("angularfire",Fp.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ot({type:e});static \u0275inj=At({providers:[fL]})}return e})();var Lu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["gallery"]],decls:3,vars:0,consts:[[1,"container-gallery"],["src","assets/img/countryside/photos/galeria1.png","alt","",1,"img"],["src","assets/img/countryside/photos/galeria2.png","alt","",1,"img","ms-4"]],template:function(n,r){n&1&&(g(0,"div",0),M(1,"img",1)(2,"img",2),m())},styles:[".container-gallery[_ngcontent-%COMP%]{width:100%;height:150px;overflow-x:auto;display:flex;flex-direction:row;gap:0;padding-left:2rem;padding-right:2rem}@media (min-width: 1200px){.container-gallery[_ngcontent-%COMP%]{justify-content:center}img[_ngcontent-%COMP%]{flex-shrink:0;width:auto;height:100%;object-fit:cover}}"]})};var Xb={production:!1,firebaseConfig:{apiKey:"AIzaSyC6Xrc9EqMyXKH_gNFaOGuAX-ItudzZAVs",authDomain:"bautizo-sofia.firebaseapp.com",databaseURL:"https://bautizo-sofia-default-rtdb.firebaseio.com",projectId:"bautizo-sofia",storageBucket:"bautizo-sofia.firebasestorage.app",messagingSenderId:"981839514602",appId:"1:981839514602:web:981d3b9a4dcde418c84093"}};var Vu=class e{app=pv(Xb.firebaseConfig);database=Ob(this.app);basePath="comentarios";getProperties(){return oe(this,null,function*(){let t=jt(this.database,"properties");return new Promise((n,r)=>{xn(t,i=>{let o=i.val();n(o)},i=>{r(i)})})})}addComment(t){return oe(this,null,function*(){let n=jt(this.database,this.basePath),r=yield ku(n,t);if(console.log("Comment added:",r.key),!r.key)throw new Error("Failed to generate a key for the new comment.");return r.key})}getComments(){return oe(this,null,function*(){let t=jt(this.database,this.basePath);return new Promise((n,r)=>{xn(t,i=>{let o=i.val(),s=o?Object.entries(o).map(([a,l])=>W(E({},l),{id:a})):[];n(s)},i=>{r(i)})})})}updateComment(t){return oe(this,null,function*(){let n=jt(this.database,`${this.basePath}/${t.id}`);return new Promise((r,i)=>{Pr(n,t).then(()=>r()).catch(o=>i(o))})})}deleteComment(t){return oe(this,null,function*(){let n=jt(this.database,`${this.basePath}/${t}`);return new Promise((r,i)=>{Pu(n).then(()=>r()).catch(o=>i(o))})})}getAvisos(){return oe(this,null,function*(){let t=jt(this.database,"avisos");return new Promise((n,r)=>{xn(t,i=>{let o=i.val(),s=o?Object.values(o):[];n(s)},i=>{r(i)})})})}updateCounter(t,n){return oe(this,null,function*(){let r=jt(this.database,"contadores/"+n);return new Promise((i,o)=>{xn(r,s=>oe(this,null,function*(){let l=(s.val()||0)+t;try{yield Pr(r,l),i()}catch(c){o(c)}}),s=>{o(s)},{onlyOnce:!0})})})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var pL=()=>["1","2","3","4","5","6","7","8","9"];function gL(e,t){e&1&&(g(0,"div",76),M(1,"gallery"),m())}function mL(e,t){e&1&&(g(0,"div",34)(1,"div",35),M(2,"img",77),m()())}function vL(e,t){e&1&&(g(0,"div",17),M(1,"img",18),m())}function yL(e,t){e&1&&(g(0,"div",78),D(1,'"> '),M(2,"img",79),m())}function _L(e,t){if(e&1&&(g(0,"div",80)(1,"p",81),D(2),m()()),e&2){let n=t.$implicit;re(2),Bo(n)}}function CL(e,t){if(e&1){let n=Si();g(0,"div",86)(1,"div",87)(2,"button",88),F("click",function(){yn(n);let i=_t(2);return _n(i.openModal("commentModal"))}),M(3,"img",89),g(4,"p",90),D(5,"Agregar comentario"),m()()()()}}function wL(e,t){if(e&1){let n=Si();g(0,"div",96)(1,"img",97),F("click",function(){yn(n);let i=_t().$implicit,o=_t(2);return _n(o.ediComment(i,"commentModal"))}),m(),g(2,"img",98),F("click",function(){yn(n);let i=_t(3);return _n(i.openModal("deleteModal"))}),m()()}}function EL(e,t){if(e&1&&(g(0,"div",91)(1,"div",92)(2,"div",93),D(3),m(),qe(4,wL,3,0,"div",94),m(),g(5,"div",95),D(6),m()()),e&2){let n=t.$implicit,r=t.first,i=_t(2);re(3),Bo(n.autor),re(),ae("ngIf",(i.idCommentLocal==n.id||i.showEdit&&r)&&i.limitEdit),re(2),Bo(n.comentario)}}function DL(e,t){if(e&1&&(g(0,"div")(1,"div",17),M(2,"img",18),m(),g(3,"div",78),M(4,"img",82),m(),qe(5,CL,6,0,"div",83),g(6,"div",84),qe(7,EL,7,3,"div",85),m()()),e&2){let n=_t();re(5),ae("ngIf",!n.idCommentLocal),re(2),ae("ngForOf",n.listComments)}}function bL(e,t){if(e&1){let n=Si();g(0,"div",99)(1,"div",78),M(2,"img",100),m(),g(3,"div",101)(4,"button",102),F("click",function(){yn(n);let i=_t();return i.openModal("confirmaModal"),i.opcConfirm="si",_n(i.btnOpcConfirm=!1)}),g(5,"p",103),D(6,"S\xED"),m()(),g(7,"button",102),F("click",function(){yn(n);let i=_t();return i.openModal("confirmaModal"),i.opcConfirm="talvez",_n(i.btnOpcConfirm=!0)}),g(8,"p",103),D(9,"Talvez"),m()(),g(10,"button",102),F("click",function(){yn(n);let i=_t();return i.openModal("confirmaModal"),i.opcConfirm="no",_n(i.btnOpcConfirm=!0)}),g(11,"p",103),D(12,"No"),m()()()()}}function IL(e,t){e&1&&(g(0,"div",17),M(1,"img",104),m())}function SL(e,t){if(e&1){let n=Si();g(0,"li",108),F("click",function(){let i=yn(n).$implicit,o=_t(2);return _n(o.clickBtnConfirm(i))}),D(1),m()}if(e&2){let n=t.$implicit;ae("id","btnConf"+n),re(),zl(" ",n!="9"?n:n+"+"," ")}}function ML(e,t){e&1&&(g(0,"div")(1,"p"),D(2,"Confirma el numero de personas que acudiran"),m(),g(3,"div",105)(4,"ul",106),qe(5,SL,2,2,"li",107),m()()()),e&2&&(re(5),ae("ngForOf",J0(1,pL)))}function TL(e,t){e&1&&(g(0,"div",25)(1,"b",109),D(2," Gracias por considerar venir. Esperamos verte si decides unirte. "),m()())}function xL(e,t){e&1&&(g(0,"div",25)(1,"b",109),D(2," Gracias por confirmar. Si cambias de opinion te estaremos esperando "),m()())}function AL(e,t){if(e&1){let n=Si();g(0,"button",110),F("click",function(){yn(n);let i=_t();return i.closeModal("confirmaModal"),_n(i.confirmarInvitacion())}),D(1,"Confirmar"),m()}}var ju=class e{constructor(t,n,r){this.router=t;this.firebaseService=n;this.ngZone=r;this.commentData=new Mr("","","",""),this.idCommentLocal=localStorage.getItem("commentId")||"",this.isConfirmacion=!!localStorage.getItem("confirmacion")}listComments=[];commentData;idCommentLocal="";showEdit=!1;limitEdit=!0;showComments=!1;showPhotos=!1;viewPhotos=!1;avisos=[];opcConfirm="";btnOpcConfirm=!0;countdownInterval;animatePhotos=!1;isConfirmacion=!1;ngOnInit(){return oe(this,null,function*(){this.countdownInterval=setInterval(()=>this.updateCountdown(),1e3);let t=document.querySelector(".content");t&&t.addEventListener("scroll",this.checkVisibility.bind(this));let n=yield this.firebaseService.getProperties(),r=localStorage.getItem("type");n&&(this.showComments=n.showComments,this.showPhotos=n.showPhotos&&r==="f",this.viewPhotos=n.viewPhotos),r==="l"&&(localStorage.removeItem("entro"),localStorage.removeItem("type"),this.router.navigate(["/"])),r==="c"&&(localStorage.removeItem("confirmacion"),localStorage.removeItem("type"),this.router.navigate(["/"])),this.avisos=yield this.firebaseService.getAvisos();let i=localStorage.getItem("editCount");i!==null&&parseInt(i,10)>2&&(this.limitEdit=!1)})}ngAfterViewInit(){this.animation(),document.getElementById("commentInput").addEventListener("input",function(){let i=350-this.value.length,o=document.getElementById("wordCounter");o.textContent=`${i} palabras restantes`}),this.searchComments()}openModal(t){let n=document.getElementById(t);n.style.display="block",N({targets:"#"+t,scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}closeModal(t){let n=document.getElementById("modalId");N({targets:"#"+t,scale:[1,0],opacity:[1,0],duration:300,easing:"easeOutQuad",oncomplete:()=>{n.style.display="none"}})}ediComment(t,n){this.commentData=t,this.openModal(n)}deleteComment(){let t=localStorage.getItem("commentId");t&&(this.firebaseService.deleteComment(t),localStorage.removeItem("commentId")),this.listComments.shift(),this.showEdit=!1}confirmComment(){return oe(this,null,function*(){let t=localStorage.getItem("commentId");if(this.commentData&&t){this.commentData.id=t,this.firebaseService.updateComment(this.commentData),this.listComments.shift(),this.listComments.unshift(this.commentData);let n=parseInt(localStorage.getItem("editCount")||"0",10);n>=2&&(this.limitEdit=!1),localStorage.setItem("editCount",(n+1).toString())}else{let n=new Mr("",this.commentData.autor,this.commentData.comentario,new Date().toLocaleDateString());this.listComments.unshift(n);let r=yield this.firebaseService.addComment(n);this.idCommentLocal=r,localStorage.setItem("commentId",this.idCommentLocal),this.showEdit=!0,localStorage.setItem("editCount","0"),this.limitEdit=!0}this.commentData=new Mr("","","",""),setTimeout(()=>{N({targets:".container_commnets__card",translateY:[-100,0],opacity:[0,1],duration:500,easing:"easeOutQuad",delay:N.stagger(200,{start:200})})},100),this.closeModal("confirmModal"),setTimeout(()=>{this.closeModal("commentModal")},100)})}confirmDelete(){this.deleteComment(),localStorage.removeItem("commentId"),this.idCommentLocal="",this.commentData=new Mr("","","",""),setTimeout(()=>{N({targets:".container_commnets__card",translateY:[-100,0],opacity:[0,1],duration:500,easing:"easeOutQuad",delay:N.stagger(200,{start:200})})},100),this.closeModal("deleteModal")}addCommnet(){(this.commentData!=null&&this.commentData.autor==null||this.commentData.autor==="")&&(this.commentData.autor="Anonimo"),this.openConfirmModal()}openConfirmModal(){let t=document.getElementById("confirmModal");t.style.display="block",N({targets:"#confirmModal",scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}searchComments(){this.firebaseService.getComments().then(t=>{let n=localStorage.getItem("commentId");if(n){let r=t.findIndex(i=>i.id===n);if(r!==-1){let[i]=t.splice(r,1);t.unshift(i)}else this.idCommentLocal="",localStorage.removeItem("commentId"),localStorage.removeItem("editCount")}this.listComments=t})}openMapChurch(){window.open("https://maps.app.goo.gl/vzCdbQVbcEv2XY7e8","_blank")}openMapParty(){window.open("https://maps.app.goo.gl/2qBdsJ3GeuCZMBZ4A","_blank")}openMesaRegalos(t){let n;t==="am"?n="https://www.amazon.com.mx/registries/gl/guest-view/3E7RLOFQ55UDY":t=="liv",window.open(n,"_blank")}showInvitation(){this.router.navigate(["/bautizo"])}animation(){N.timeline().add({targets:".img-title",top:["70px","-30px"],duration:2e3,delay:1e3,easing:"easeOutExpo"}).add({targets:".img-header",translateY:["-100%","0%"],opacity:1,duration:1500,easing:"easeOutExpo"},"-=1500").add({targets:".img-photo",scale:[0,1],opacity:[0,1],duration:2e3,easing:"easeOutExpo"},"-=1000").add({targets:".text-center",translateX:["-100%","0%"],opacity:[0,1],duration:1500,easing:"easeOutExpo",delay:N.stagger(100)},"-=1500").add({targets:".separator",opacity:[0,1],duration:1e3,easing:"linear"},"-=2000").add({targets:".btn-see",opacity:[0,1],duration:1500,easing:"linear"},"-=2000")}updateCountdown(){let t=new Date("2025-07-14T00:00:00").getTime(),n=new Date().getTime(),r=t-n,i=Math.floor(r/(1e3*60*60*24)),o=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),s=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3),l=document.getElementById("days"),c=document.getElementById("hours"),u=document.getElementById("minutes"),d=document.getElementById("seconds");l&&(l.innerText=i.toString()),c&&(c.innerText=o.toString()),u&&(u.innerText=s.toString()),d&&(d.innerText=a.toString()),r<0&&clearInterval(this.countdownInterval)}isElementInViewport(t){let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}checkVisibility(){document.querySelectorAll(".photos").forEach(n=>{this.isElementInViewport(n)?this.animatePhotos=!0:this.animatePhotos=!1})}nInv=0;clickBtnConfirm(t){this.btnOpcConfirm=!0,this.nInv=parseInt(t),document.querySelectorAll(".list-group-item").forEach(i=>i.classList.remove("active"));let r=document.getElementById("btnConf"+t);r&&r.classList.add("active")}confirmarInvitacion(){this.opcConfirm=="si"?(localStorage.setItem("confirmacion","si"),this.firebaseService.updateCounter(this.nInv,"si")):this.opcConfirm=="no"?(localStorage.setItem("confirmacion","no"),this.firebaseService.updateCounter(1,"no")):this.opcConfirm=="talvez"&&(localStorage.setItem("confirmacion","talvez"),this.firebaseService.updateCounter(1,"talvez")),this.isConfirmacion=!0}static \u0275fac=function(n){return new(n||e)(G(wt),G(Vu),G(ee))};static \u0275cmp=me({type:e,selectors:[["app-invitacion"]],decls:178,vars:15,consts:[[1,"content"],[1,"d-flex","justify-content-center"],["src","assets/img/countryside/roses.png","alt","header",1,"img-header"],["src","assets/img/countryside/bautizo.png","alt","title",1,"img-title"],["src","assets/img/countryside/img_photo.png","alt","photo",1,"img-photo"],[1,"btn-see","shadow-lg",3,"click"],[1,"text-center","mt-5"],[1,"text-1"],[1,"d-flex","flex-column","align-items-center"],[1,"text-2"],[1,"text-center","more-space"],["src","assets/img/countryside/separator.png","alt","photo",1,"separator",2,"transform","scaleY(-1)"],[1,"text-center","ms-5","me-5"],["src","assets/img/countryside/separator.png","alt","photo",1,"separator"],[1,"d-flex","justify-content-center","mt-5","mb-5"],["src","assets/img/countryside/dateBautizo.png","alt","photo",1,"img-date-ba"],["src","assets/img/countryside/locationChurch.png","alt","photo",1,"img-photo",3,"click"],[1,"d-flex","justify-content-center","more-space"],["src","assets/img/countryside/stars-separator.png","alt","photo",1,"start-separator"],["src","assets/img/countryside/party.png","alt","photo",1,"img-photo"],[1,"text-center","m-5"],["src","assets/img/countryside/date_party.png","alt","photo",1,"img-date-party"],["src","assets/img/countryside/locationParty.png","alt","photo",1,"img-photo",3,"click"],["src","assets/img/countryside/birthday.png","alt","photo",1,"img-photo"],["class","more-space photos mt-3",4,"ngIf"],[1,"text-center"],["id","countdown",1,"d-flex","justify-content-center"],[1,"mx-3","text-center","flex-fill"],["id","days",1,"countdown__number"],[1,"countdown__text"],["id","hours",1,"countdown__number"],["id","minutes",1,"countdown__number"],["id","seconds",1,"countdown__number"],["src","assets/img/countryside/mesaRegalos.png","alt","photo",1,"img-photo"],[1,"d-flex","justify-content-center","mb-5"],[1,"card","shadow-lg","card-gift"],["src","assets/img/countryside/amazon_logo.png","alt","image1",1,"card-img-top",3,"click"],["class","d-flex justify-content-center mb-5",4,"ngIf"],["class","d-flex justify-content-center more-space",4,"ngIf"],["class","d-flex justify-content-center more-space mb-0",4,"ngIf"],[1,"row","p-5"],["class","col-12 mt-5",4,"ngFor","ngForOf"],[4,"ngIf"],["id","container-confirma",4,"ngIf"],[1,"footer-img"],["src","assets/img/countryside/footer.png",1,"gifts"],["src","assets/img/countryside/cloud.png",1,"cloud-0"],["src","assets/img/countryside/cloud.png",1,"cloud-1"],["src","assets/img/countryside/cloud.png",1,"cloud-2"],["src","assets/img/countryside/cloud.png",1,"cloud-3"],["src","assets/img/countryside/cloud.png",1,"cloud-4"],["id","commentModal","tabindex","-1","aria-labelledby","commentModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","commentModalLabel",1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off","type","text","placeholder","De parte de...",1,"form-control","modal__input-autor",3,"ngModelChange","ngModel"],["autocomplete","off","id","commentInput","rows","4","maxlength","350","placeholder","Escribe tu comentario aqu\xED...",1,"form-control","modal__input-comment",3,"ngModelChange","ngModel"],[1,"row","text-end"],["id","wordCounter",1,"text-muted"],[1,"modal-footer"],["type","button",1,"btn","modal__btnModal",3,"click"],["type","button",1,"btn","modal__btnModal",3,"click","disabled"],["id","confirmModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],[1,"modal-content",2,"margin","4rem"],[1,"row"],[1,"col-12","text-center","mt-4","mb-4"],["src","assets/svg/patch-exclamation.svg","alt","",2,"width","6rem"],["id","deleteModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],["id","confirmaModal","tabindex","-1","aria-labelledby","commentModalLabel","aria-hidden","true",1,"modal"],[1,"row","text-center"],["class","text-center",4,"ngIf"],[1,"modal-footer",2,"justify-content","center"],["type","button","class","btn modal__btnModal","style","width: 120px; height: 51px; font-size: 2rem;",3,"click",4,"ngIf"],[1,"more-space","photos","mt-3"],["src","assets/img/countryside/liverpool_logo.jpg","alt","image2",1,"card-img-top"],[1,"d-flex","justify-content-center","more-space","mb-0"],["src","assets/img/countryside/notice.png","alt","photo",1,"img-photo"],[1,"col-12","mt-5"],[1,"text-2","text-center"],["src","assets/img/countryside/voces.png","alt","photo",1,"img-photo"],["class","row w-100",4,"ngIf"],[1,"container_commnets"],["class","container_commnets__card",4,"ngFor","ngForOf"],[1,"row","w-100"],[1,"col-12","text-center"],[1,"btn-add",3,"click"],["src","assets/svg/chat-square-heart.svg","alt","addCommnet",2,"width","2.5rem"],[1,"m-0",2,"font-size","1.3rem"],[1,"container_commnets__card"],[1,"container_commnets__header"],[1,"container_commnets__name"],["class","container_coments__icons",4,"ngIf"],[1,"container_commnets__comment"],[1,"container_coments__icons"],["src","assets/svg/pencil.svg",1,"me-2",3,"click"],["src","assets/svg/trash.svg",3,"click"],["id","container-confirma"],["src","assets/img/countryside/confirma.png","alt","photo",1,"img-photo"],[1,"container-confirma","row","w-100","mb-5","pb-5"],[1,"btn-conf",3,"click"],[1,"m-0",2,"font-size","1.7rem"],["src","assets/img/countryside/gracias.png","alt","photo",1,"img-photo"],[1,"d-flex","justify-content-center","mt-4"],[1,"list-group","list-group-horizontal"],["class","list-group-item list-group-item-action",3,"id","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click","id"],[2,"font-size","2rem"],["type","button",1,"btn","modal__btnModal",2,"width","120px","height","51px","font-size","2rem",3,"click"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1),M(2,"img",2),m(),g(3,"div",1),M(4,"img",3),m(),g(5,"div",1),M(6,"img",4),m(),g(7,"div",1)(8,"button",5),F("click",function(){return r.showInvitation()}),D(9,"Ver Animaci\xF3n"),m()(),g(10,"div",6)(11,"p",7),D(12,"Mis Pap\xE1s"),m(),g(13,"div",8)(14,"p",9),D(15,"Minerva Victoria Montes Torres"),m(),g(16,"p",9),D(17,"Jos\xE9 Manuel Ram\xEDrez Mej\xEDa"),m()()(),g(18,"div",10)(19,"p",7),D(20,"Mi Madrina"),m(),g(21,"div",8)(22,"p",9),D(23,"Maria Jos\xE9 Ram\xEDrez Mej\xEDa"),m()()(),g(24,"div",1),M(25,"img",11),m(),g(26,"div",12)(27,"div",8)(28,"p",9),D(29," En este d\xEDa especial, celebramos la llegada de un nuevo miembro a la familia de Dios. "),m(),M(30,"br"),g(31,"p",9),D(32," Que su bautizo marque el inicio de una vida llena de bendiciones, amor y sabidur\xEDa divina. "),m()()(),g(33,"div",1),M(34,"img",13),m(),g(35,"div",10)(36,"p",7),D(37,"Lugar y Fecha"),m()(),g(38,"div",14),M(39,"img",15),m(),g(40,"div",14)(41,"img",16),F("click",function(){return r.openMapChurch()}),m()(),g(42,"div",17),M(43,"img",18),m(),g(44,"div",1),M(45,"img",19),m(),g(46,"div",20)(47,"div",8)(48,"p",9),D(49," Con gran alegr\xEDa y profundo agradecimiento, nos unimos para celebrar este bautizo. Que esta ocasi\xF3n tan especial irradie amor, dicha y alegr\xEDa compartida, dejando recuerdos inolvidables en nuestros corazones. "),m()()(),g(50,"div",14),M(51,"img",21),m(),g(52,"div",14)(53,"img",22),F("click",function(){return r.openMapParty()}),m()(),g(54,"div",17),M(55,"img",18),m(),g(56,"div",1),M(57,"img",23),m(),qe(58,gL,2,0,"div",24),g(59,"div",20)(60,"div",8)(61,"p",9),D(62," En su primer a\xF1o de vida, una beb\xE9 es como una flor que comienza a abrirse al mundo, llena de pureza y asombro. Sus risas y logros nos muestran la belleza de la vida en cada peque\xF1o momento. "),m()()(),g(63,"div",25)(64,"p",7),D(65,"Falta para mi cumple..."),m()(),g(66,"div",14)(67,"div",26)(68,"div",27),M(69,"div",28),g(70,"div",29),D(71,"D\xEDas"),m()(),g(72,"div",27),M(73,"div",30),g(74,"div",29),D(75,"Horas"),m()(),g(76,"div",27),M(77,"div",31),g(78,"div",29),D(79,"Minutos"),m()(),g(80,"div",27),M(81,"div",32),g(82,"div",29),D(83,"Segundos"),m()()()(),g(84,"div",17),M(85,"img",18),m(),g(86,"div",17),M(87,"img",33),m(),g(88,"div",34)(89,"div",35)(90,"img",36),F("click",function(){return r.openMesaRegalos("am")}),m()()(),qe(91,mL,3,0,"div",37)(92,vL,2,0,"div",38)(93,yL,3,0,"div",39),g(94,"div",40),qe(95,_L,3,1,"div",41),m(),qe(96,DL,8,2,"div",42),g(97,"div",17),M(98,"img",18),m(),qe(99,bL,13,0,"div",43)(100,IL,2,0,"div",38),g(101,"div",44),M(102,"img",45),m(),M(103,"img",46)(104,"img",47)(105,"img",48)(106,"img",49)(107,"img",50),m(),g(108,"div",51)(109,"div",52)(110,"div",53)(111,"div",54)(112,"h2",55),D(113,"Agrega un comentario"),m(),g(114,"button",56),F("click",function(){return r.closeModal("commentModal")}),m()(),g(115,"div",57)(116,"input",58),Gl("ngModelChange",function(o){return uh(r.commentData.autor,o)||(r.commentData.autor=o),o}),m(),g(117,"textarea",59),Gl("ngModelChange",function(o){return uh(r.commentData.comentario,o)||(r.commentData.comentario=o),o}),m(),g(118,"div",60)(119,"small",61),D(120,"350 letras restantes"),m()()(),g(121,"div",62)(122,"button",63),F("click",function(){return r.closeModal("commentModal")}),D(123,"Cancelar"),m(),g(124,"button",64),F("click",function(){return r.addCommnet()}),D(125,"Aceptar"),m()()()()(),g(126,"div",65)(127,"div",52)(128,"div",66)(129,"div",54)(130,"h2",55),D(131,"\xBFDeseas continuar?"),m(),g(132,"button",56),F("click",function(){return r.closeModal("confirmModal")}),m()(),g(133,"div",57)(134,"div",67)(135,"div",68),M(136,"img",69),m()(),g(137,"h2"),D(138,"Una vez agregado tu comentario, todos los invitados con acceso a la invitaci\xF3n podr\xE1n verlo."),m()(),g(139,"div",62)(140,"button",63),F("click",function(){return r.closeModal("confirmModal")}),D(141,"Cancelar"),m(),g(142,"button",63),F("click",function(){return r.confirmComment()}),D(143,"Aceptar"),m()()()()(),g(144,"div",70)(145,"div",52)(146,"div",66)(147,"div",54)(148,"h2",55),D(149,"\xBFDeseas continuar?"),m(),g(150,"button",56),F("click",function(){return r.closeModal("deleteModal")}),m()(),g(151,"div",57)(152,"div",67)(153,"div",68),M(154,"img",69),m()(),g(155,"h2"),D(156,"Se eliminar\xE1 tu comentario y ya no ser\xE1 visible para las dem\xE1s personas."),m()(),g(157,"div",62)(158,"button",63),F("click",function(){return r.closeModal("deleteModal")}),D(159,"Cancelar"),m(),g(160,"button",63),F("click",function(){return r.confirmDelete()}),D(161,"Aceptar"),m()()()()(),g(162,"div",71)(163,"div",52)(164,"div",53)(165,"div",54)(166,"h2",55),D(167,"Confirma asistencia"),m(),g(168,"button",56),F("click",function(){return r.closeModal("confirmaModal")}),m()(),g(169,"div",57)(170,"div",72)(171,"div",68),M(172,"img",69),m()(),qe(173,ML,6,2,"div",42)(174,TL,3,0,"div",73)(175,xL,3,0,"div",73),m(),g(176,"div",74),qe(177,AL,2,0,"button",75),m()()()()),n&2&&(re(58),ae("ngIf",r.showPhotos),re(33),ae("ngIf",!1),re(),ae("ngIf",r.avisos&&r.avisos.length>0),re(),ae("ngIf",r.avisos&&r.avisos.length>0),re(2),ae("ngForOf",r.avisos),re(),ae("ngIf",r.showComments),re(3),ae("ngIf",!r.isConfirmacion),re(),ae("ngIf",r.isConfirmacion),re(16),Wl("ngModel",r.commentData.autor),re(),Wl("ngModel",r.commentData.comentario),re(7),ae("disabled",!(r.commentData.comentario!=null&&r.commentData.comentario.length>5)),re(49),ae("ngIf",r.opcConfirm=="si"),re(),ae("ngIf",r.opcConfirm=="talvez"),re(),ae("ngIf",r.opcConfirm=="no"),re(2),ae("ngIf",r.btnOpcConfirm))},dependencies:[Lu,pE,Lc,dE,kp,Op,zo,Xl,gC,Kb],styles:['@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v27/o-0IIpQoyXQa2RxT7-5r8zRAW_0.woff2) format("woff2");unicode-range:U+0964-0965,U+0B82-0BFA,U+200C-200D,U+20B9,U+25CC}@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v27/o-0IIpQoyXQa2RxT7-5r6zRAW_0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v27/o-0IIpQoyXQa2RxT7-5r5TRA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.btn-see[_ngcontent-%COMP%]{border:0;border-radius:20px;background-color:#999ae8;color:#fff;width:150px;height:40px;font-family:Playwrite US Modern,cursive;text-align:center}.content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden;background:linear-gradient(to bottom,#f6d8d6cc,#87ceeb66)}.img-header[_ngcontent-%COMP%]{width:100%;position:relative;right:0;top:-20px}.img-title[_ngcontent-%COMP%]{width:60%;position:relative;top:-30px}.img-photo[_ngcontent-%COMP%]{width:60%}.separator[_ngcontent-%COMP%]{width:80%;margin:0}.start-separator[_ngcontent-%COMP%]{width:100%;margin:0;opacity:.3}.text-1[_ngcontent-%COMP%]{font-weight:800;font-family:Playwrite US Modern,cursive;font-size:2.5rem;margin:0;margin-bottom:1rem}.text-2[_ngcontent-%COMP%]{font-weight:300;font-family:Playwrite US Modern,cursive;font-size:1.5rem;margin:0}.more-space[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:5rem}.img-date-ba[_ngcontent-%COMP%]{width:90%}.img-date-party[_ngcontent-%COMP%]{width:60%}.countdown__number[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem}.cloud-0[_ngcontent-%COMP%], .cloud-1[_ngcontent-%COMP%], .cloud-2[_ngcontent-%COMP%], .cloud-3[_ngcontent-%COMP%], .cloud-4[_ngcontent-%COMP%]{position:fixed;opacity:.6;z-index:-1}.cloud-0[_ngcontent-%COMP%]{top:15%;right:-5%;width:20%}.cloud-1[_ngcontent-%COMP%]{top:25%;left:-20%;width:40%}.cloud-2[_ngcontent-%COMP%]{top:45%;right:-20%;width:40%}.cloud-3[_ngcontent-%COMP%]{top:65%;left:-20%;width:40%}.cloud-4[_ngcontent-%COMP%]{bottom:15%;right:-5%;width:20%}.footer-img[_ngcontent-%COMP%]{position:relative;margin-top:auto;width:100%;height:auto}.footer-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.desk-gift[_ngcontent-%COMP%]{width:60%;height:250px}.card-gift[_ngcontent-%COMP%]{width:50%}.container_commnets[_ngcontent-%COMP%]{width:100%;overflow-x:auto;display:flex;flex-direction:row;align-items:center;gap:1rem;padding:2rem}.container_commnets__card[_ngcontent-%COMP%]{flex:0 0 270px;margin-bottom:1rem;padding:1rem;box-shadow:0 4px 8px #0000001a;border:1px solid pink;display:flex;flex-direction:column;align-items:center;position:relative}.container_commnets__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}.container_commnets__name[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.container_commnets__comment[_ngcontent-%COMP%]{font-size:1rem;color:#333;width:100%;text-align:left;margin-top:1rem}.btn-add[_ngcontent-%COMP%]{margin-top:2rem;box-shadow:0 4px 8px #0000001a;border:1px solid pink;background-color:transparent;flex-direction:column;align-items:center;justify-content:center;padding:1rem}.modal-content[_ngcontent-%COMP%]{border-color:pink}.modal__input-autor[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;border-color:#999ae8;outline:none!important}.modal__input-comment[_ngcontent-%COMP%]{font-size:2rem;border-color:#999ae8;outline:none!important}.modal__btnModal[_ngcontent-%COMP%]{background-color:#999ae8;height:35px;font-size:1.5rem;color:#fff}.container-confirma[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:1rem;padding:2rem}.container-confirma[_ngcontent-%COMP%]   .btn-conf[_ngcontent-%COMP%]{flex:1;max-width:100px;height:60px;border:none;border-radius:10px;background-color:#999ae8cc;color:#fff;text-align:center;cursor:pointer;box-shadow:0 4px 8px #0003;transition:background-color .3s ease,box-shadow .3s ease}.container-confirma[_ngcontent-%COMP%]   .btn-conf[_ngcontent-%COMP%]:hover{box-shadow:0 6px 12px #0000004d}.active[_ngcontent-%COMP%]{background-color:#ffb6c1cc!important}.list-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:0;list-style:none}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;padding:10px 20px;border:1px solid #ddd;border-radius:5px;text-align:center;transition:background-color .3s,color .3s}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.list-group-item.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff}@media (min-width: 768px){.list-group[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+7){grid-column:span 1}}@media (min-width: 600px) and (max-width: 1199px){.text-1[_ngcontent-%COMP%]{font-size:5rem}.text-2[_ngcontent-%COMP%]{font-size:2.5rem}.separator[_ngcontent-%COMP%]{width:60%}.btn-see[_ngcontent-%COMP%]{width:300px;height:50px;font-size:2.3rem}.countdown__number[_ngcontent-%COMP%]{font-size:6rem}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:3rem}.btn-see[_ngcontent-%COMP%]{display:none}}@media (min-width: 1200px){.img-header[_ngcontent-%COMP%]{width:70%;position:relative;right:0;top:-60px}.img-title[_ngcontent-%COMP%]{width:30%;position:relative;top:70px}.img-photo[_ngcontent-%COMP%]{width:40%}.btn-see[_ngcontent-%COMP%]{width:350px;height:50px;font-size:2.8rem}.text-1[_ngcontent-%COMP%]{font-size:6.5rem}.text-2[_ngcontent-%COMP%]{font-size:3rem}.separator[_ngcontent-%COMP%]{width:40%}.img-date-ba[_ngcontent-%COMP%]{width:60%}.img-photo[_ngcontent-%COMP%]{width:30%}.img-date-party[_ngcontent-%COMP%]{width:40%}.card-gift[_ngcontent-%COMP%]{width:35%}.countdown__number[_ngcontent-%COMP%]{font-size:6rem}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:3rem}.cloud-0[_ngcontent-%COMP%]{top:5%;width:10%;right:-2%}.cloud-1[_ngcontent-%COMP%]{top:15%;left:-10%;width:20%}.cloud-2[_ngcontent-%COMP%]{top:40%;right:-5%;width:20%}.cloud-3[_ngcontent-%COMP%]{top:65%;left:-10%;width:20%}.cloud-4[_ngcontent-%COMP%]{bottom:0%;right:-2%;width:10%}.btn-see[_ngcontent-%COMP%]{display:none}}']})};var Bu=class e{animate=!1;viewPhotos=!1;runAnimMosaic=!1;isZoomed=!1;srcImgView="";ngAfterViewInit(){this.animate&&this.runAnimation()}ngOnChanges(t){t.animate&&!t.animate.isFirstChange()&&this.animate&&this.runAnimation()}runAnimation(){let t=document.querySelectorAll(".photo");t.forEach(n=>{n.classList.remove("centered-image")}),this.runAnimMosaic=!0,N({targets:t,scale:[3,1],opacity:[0,1],filter:["blur(5px)","blur(0)"],delay:N.stagger(200),duration:500,easing:"easeOutQuad",complete:()=>{this.runAnimMosaic=!1}})}toggleZoom(t){if(!this.viewPhotos||this.runAnimMosaic)return;let n=t;if(this.srcImgView=n.getAttribute("src")||"",this.runAnimMosaic=!0,this.isZoomed){this.isZoomed=!1;let r=document.querySelectorAll(".photo"),i=document.querySelector(".view-photo");i&&(i.style.display="none"),N({targets:r,translateX:0,opacity:1,scale:1,delay:N.stagger(100),duration:500,easing:"easeOutExpo",complete:()=>{n.classList.remove("zoomed"),this.runAnimMosaic=!1,document.querySelector(".content").style.overflowY="auto"}})}else{let r=document.querySelectorAll(".photo");document.querySelector(".content").style.overflow="hidden",N({targets:r,translateX:"100%",opacity:0,delay:N.stagger(100),duration:500,easing:"easeOutExpo",complete:()=>{this.isZoomed=!0,this.runAnimMosaic=!1;let i=document.querySelector(".view-photo");i&&(i.style.display="flex")}})}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["mosaic-photos"]],inputs:{animate:"animate",viewPhotos:"viewPhotos"},features:[$n],decls:28,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2","d-flex","align-items-center"],["src","assets/img/countryside/photos/img1.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"col-2"],[1,"col-12"],["src","assets/img/countryside/photos/img2.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"col-12","mt-3"],["src","assets/img/countryside/photos/img3.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img4.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img5.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img6.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img7.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img8.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img9.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"view-photo"],["id","view-img","alt","photo",3,"click","src"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),F("click",function(o){return r.toggleZoom(o.target)}),m()(),g(4,"div",4)(5,"div",1)(6,"div",5)(7,"img",6),F("click",function(o){return r.toggleZoom(o.target)}),m()(),g(8,"div",7)(9,"img",8),F("click",function(o){return r.toggleZoom(o.target)}),m()()()(),g(10,"div",2)(11,"img",9),F("click",function(o){return r.toggleZoom(o.target)}),m()(),g(12,"div",2)(13,"div",1)(14,"div",5)(15,"img",10),F("click",function(o){return r.toggleZoom(o.target)}),m()(),g(16,"div",7)(17,"img",11),F("click",function(o){return r.toggleZoom(o.target)}),m()()()(),g(18,"div",2)(19,"img",12),F("click",function(o){return r.toggleZoom(o.target)}),m()(),g(20,"div",4)(21,"div",1)(22,"div",5)(23,"img",13),F("click",function(o){return r.toggleZoom(o.target)}),m()(),g(24,"div",7)(25,"img",14),F("click",function(o){return r.toggleZoom(o.target)}),m()()()()()(),g(26,"div",15)(27,"img",16),F("click",function(o){return r.toggleZoom(o.target)}),m()()),n&2&&(re(27),ae("src",r.srcImgView,bi))},styles:[".centered-image[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:65%;transform:translate(-50%,-50%)!important;z-index:2;border-radius:50px}.view-photo[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:auto;max-height:90%;z-index:3;padding:1rem;display:flex;flex-direction:column;justify-content:center;align-items:center;display:none}.view-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80%;object-fit:contain;border-radius:20px}@media (min-width: 600px) and (max-width: 1199px){.view-photo[_ngcontent-%COMP%]{max-width:60%}}@media (min-width: 1200px){.view-photo[_ngcontent-%COMP%]{max-width:30%}}"]})};var Jb=[{path:"",redirectTo:"loading",pathMatch:"full"},{path:"bautizo",component:Ac},{path:"loading",component:Nc},{path:"information",component:Rc},{path:"invitacion",component:ju},{path:"mosaico",component:Bu},{path:"**",redirectTo:"loading"}];var eI={providers:[NC(),tC({eventCoalescing:!0}),bw(Jb)]};var Uu=class e{constructor(t){this.router=t}audio;animeIconMusic;playMusic=!1;open=!1;ngOnInit(){this.audio=new Audio("assets/img/countryside/music1.mp3"),this.audio.autoplay=!1,this.router.events.subscribe(t=>{t instanceof Sn&&this.onRouteChange()}),this.setTypeFromPath()}ngAfterViewInit(){setTimeout(()=>{this.getCurrentRoute().includes("/invitacion")||this.showQuestionMusic()},700)}animateMusic(){this.audio.play(),this.getCurrentRoute().includes("/loading")&&this.audio.pause(),this.animeIconMusic?this.animeIconMusic.play():this.animeIconMusic=this.animateIconMusic(1)}actionIconMusic(){this.open?this.hideQuestionMusic():this.showQuestionMusic()}showQuestionMusic(){this.open=!0,N({targets:".container-music",right:"0",background:"#EDEDFD",duration:1500,easing:"easeOutExpo"})}hideQuestionMusic(){this.open=!1,N({targets:".container-music",right:"-180px",background:"rgba(0, 0, 0, 0)",duration:1500,easing:"easeOutExpo"})}actionQuestionMusic(t){let n=document.querySelectorAll(".btn-music");n.forEach(r=>{r.style.opacity="0.7"}),n&&n.length>0&&(t==="yes"?(this.playMusic=!0,n[0].style.opacity="1",this.hideQuestionMusic(),this.animeIconMusic=this.animateIconMusic(0),this.animateMusic()):(this.playMusic=!1,this.audio.pause(),n[1].style.opacity="1",this.hideQuestionMusic(),this.animeIconMusic&&(this.animeIconMusic.pause(),this.animeIconMusic=this.animateIconMusic(1))))}animateIconMusic(t=0){return t===0?N({targets:".music",rotate:"1turn",easing:"linear",duration:6e3,loop:!0}):N({targets:".music",rotate:"0",easing:"linear",duration:1e3,loop:!1})}getCurrentRoute(){return this.router.url}onRouteChange(){console.log(this.getCurrentRoute()),this.getCurrentRoute().includes("/bautizo")&&this.playMusic&&this.audio.play()}setTypeFromPath(){let n=new URLSearchParams(window.location.search).get("t");n&&localStorage.setItem("type",n)}static \u0275fac=function(n){return new(n||e)(G(wt))};static \u0275cmp=me({type:e,selectors:[["music"]],decls:9,vars:0,consts:[[1,"container-music"],["src","assets/img/countryside/music.png",1,"music",3,"click"],[1,"container-text"],[1,"text-music"],[1,"btn-music","btn-r",3,"click"],[1,"btn-music","btn-p",3,"click"]],template:function(n,r){n&1&&(g(0,"div",0)(1,"img",1),F("click",function(){return r.actionIconMusic()}),m(),g(2,"div",2)(3,"p",3),D(4,"\xBFReproducir audio?"),m(),g(5,"button",4),F("click",function(){return r.actionQuestionMusic("yes")}),D(6,"Si"),m(),g(7,"button",5),F("click",function(){return r.actionQuestionMusic("no")}),D(8,"No"),m()()())},styles:[".music[_ngcontent-%COMP%]{width:80px;padding:20px;opacity:1}.container-music[_ngcontent-%COMP%]{width:250px;height:70px;position:fixed;top:0;right:-180px;display:flex;justify-content:left;align-items:center;border-top-left-radius:30px;border-bottom-left-radius:30px;z-index:999}.btn-music[_ngcontent-%COMP%]{background:#ed1e79;width:80px;height:30px;opacity:.5;color:#fff;border:none}.text-music[_ngcontent-%COMP%]{height:30px;margin:0;display:flex;justify-content:center;align-items:center}.btn-r[_ngcontent-%COMP%]{border-top-left-radius:15px;border-bottom-left-radius:15px}.btn-p[_ngcontent-%COMP%]{border-top-right-radius:15px;border-bottom-right-radius:15px;opacity:1}"]})};var $u=class e{title="bautizo_sofia";constructor(){document.addEventListener("contextmenu",t=>{t.preventDefault()})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&M(0,"router-outlet")(1,"music")},dependencies:[cp,Uu],encapsulation:2})};UC($u,eI).catch(e=>console.error(e));
