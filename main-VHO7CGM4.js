import{A as _a,B as yo,C as Cv,D as wv,E as Ev,F,G as Je,H as Te,I as td,J as Dv,K as _o,L as ze,M as dn,N as Ca,O as nd,P as bv,Q as Yr,R as Co,S as rd,T as Iv,U as Sv,V as Mv,W as id,X as Tv,Y as Pn,Z as xt,a as E,b as W,c as ue,d as lv,e as ma,f as cv,g as uv,h as w,i as Zr,j as va,k as dv,l as fv,m as hv,n as Oe,o as pv,p as ed,q as gv,r as Ht,s as mv,t as vv,u as ya,v as Ie,w as yv,x as _v,y as ft,z as kn}from"./chunk-BYZX6JTN.js";function Av(e,t){return Object.is(e,t)}var xe=null,wa=!1,ad=1,rt=Symbol("SIGNAL");function X(e){let t=xe;return xe=e,t}function Nv(){return xe}var Eo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Da(e){if(wa)throw new Error("");if(xe===null)return;xe.consumerOnSignalRead(e);let t=xe.nextProducerIndex++;if(Sa(xe),t<xe.producerNode.length&&xe.producerNode[t]!==e&&wo(xe)){let n=xe.producerNode[t];Ia(n,xe.producerIndexOfThis[t])}xe.producerNode[t]!==e&&(xe.producerNode[t]=e,xe.producerIndexOfThis[t]=wo(xe)?Pv(e,xe,t):0),xe.producerLastReadVersion[t]=e.version}function DI(){ad++}function Rv(e){if(!(wo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===ad)){if(!e.producerMustRecompute(e)&&!cd(e)){xv(e);return}e.producerRecomputeValue(e),xv(e)}}function Ov(e){if(e.liveConsumerNode===void 0)return;let t=wa;wa=!0;try{for(let n of e.liveConsumerNode)n.dirty||bI(n)}finally{wa=t}}function kv(){return xe?.consumerAllowSignalWrites!==!1}function bI(e){e.dirty=!0,Ov(e),e.consumerMarkedDirty?.(e)}function xv(e){e.dirty=!1,e.lastCleanEpoch=ad}function ba(e){return e&&(e.nextProducerIndex=0),X(e)}function ld(e,t){if(X(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(wo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Ia(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function cd(e){Sa(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(Rv(n),r!==n.version))return!0}return!1}function ud(e){if(Sa(e),wo(e))for(let t=0;t<e.producerNode.length;t++)Ia(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Pv(e,t,n){if(Fv(e),e.liveConsumerNode.length===0&&Lv(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Pv(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Ia(e,t){if(Fv(e),e.liveConsumerNode.length===1&&Lv(e))for(let r=0;r<e.producerNode.length;r++)Ia(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Sa(i),i.producerIndexOfThis[r]=t}}function wo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Sa(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Fv(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Lv(e){return e.producerNode!==void 0}function Vv(e){let t=Object.create(II);t.computation=e;let n=()=>{if(Rv(t),Da(t),t.value===Ea)throw t.error;return t.value};return n[rt]=t,n}var od=Symbol("UNSET"),sd=Symbol("COMPUTING"),Ea=Symbol("ERRORED"),II=W(E({},Eo),{value:od,dirty:!0,error:null,equal:Av,kind:"computed",producerMustRecompute(e){return e.value===od||e.value===sd},producerRecomputeValue(e){if(e.value===sd)throw new Error("Detected cycle in computations.");let t=e.value;e.value=sd;let n=ba(e),r,i=!1;try{r=e.computation(),X(null),i=t!==od&&t!==Ea&&r!==Ea&&e.equal(t,r)}catch(o){r=Ea,e.error=o}finally{ld(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function SI(){throw new Error}var jv=SI;function Bv(){jv()}function Uv(e){jv=e}var MI=null;function $v(e){let t=Object.create(dd);t.value=e;let n=()=>(Da(t),t.value);return n[rt]=t,n}function Ma(e,t){kv()||Bv(),e.equal(e.value,t)||(e.value=t,TI(e))}function Hv(e,t){kv()||Bv(),Ma(e,t(e.value))}var dd=W(E({},Eo),{equal:Av,value:void 0,kind:"signal"});function TI(e){e.version++,DI(),Ov(e),MI?.()}function O(e){return typeof e=="function"}function Kr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ta=Kr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function dr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ce=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(o){t=o instanceof Ta?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zv(o)}catch(s){t=t??[],s instanceof Ta?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ta(t)}}add(t){var n;if(t&&t!==this)if(this.closed)zv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&dr(n,t)}remove(t){let{_finalizers:n}=this;n&&dr(n,t),t instanceof e&&t._removeParent(this)}};Ce.EMPTY=(()=>{let e=new Ce;return e.closed=!0,e})();var fd=Ce.EMPTY;function xa(e){return e instanceof Ce||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function zv(e){O(e)?e():e.unsubscribe()}var At={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xr={setTimeout(e,t,...n){let{delegate:r}=Xr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=Xr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Aa(e){Xr.setTimeout(()=>{let{onUnhandledError:t}=At;if(t)t(e);else throw e})}function Nt(){}var Wv=hd("C",void 0,void 0);function Gv(e){return hd("E",void 0,e)}function qv(e){return hd("N",e,void 0)}function hd(e,t,n){return{kind:e,value:t,error:n}}var fr=null;function Jr(e){if(At.useDeprecatedSynchronousErrorHandling){let t=!fr;if(t&&(fr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=fr;if(fr=null,n)throw r}}else e()}function Qv(e){At.useDeprecatedSynchronousErrorHandling&&fr&&(fr.errorThrown=!0,fr.error=e)}var hr=class extends Ce{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,xa(t)&&t.add(this)):this.destination=NI}static create(t,n,r){return new fn(t,n,r)}next(t){this.isStopped?gd(qv(t),this):this._next(t)}error(t){this.isStopped?gd(Gv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?gd(Wv,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xI=Function.prototype.bind;function pd(e,t){return xI.call(e,t)}var md=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Na(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Na(r)}else Na(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Na(n)}}},fn=class extends hr{constructor(t,n,r){super();let i;if(O(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&At.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&pd(t.next,o),error:t.error&&pd(t.error,o),complete:t.complete&&pd(t.complete,o)}):i=t}this.destination=new md(i)}};function Na(e){At.useDeprecatedSynchronousErrorHandling?Qv(e):Aa(e)}function AI(e){throw e}function gd(e,t){let{onStoppedNotification:n}=At;n&&Xr.setTimeout(()=>n(e,t))}var NI={closed:!0,next:Nt,error:AI,complete:Nt};var ei=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fe(e){return e}function vd(...e){return yd(e)}function yd(e){return e.length===0?Fe:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var L=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=OI(n)?n:new fn(n,r,i);return Jr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Zv(r),new r((i,o)=>{let s=new fn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ei](){return this}pipe(...n){return yd(n)(this)}toPromise(n){return n=Zv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Zv(e){var t;return(t=e??At.Promise)!==null&&t!==void 0?t:Promise}function RI(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}function OI(e){return e&&e instanceof hr||RI(e)&&xa(e)}function _d(e){return O(e?.lift)}function j(e){return t=>{if(_d(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(e,t,n,r,i){return new Cd(e,t,n,r,i)}var Cd=class extends hr{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ti(){return j((e,t)=>{let n=null;e._refCount++;let r=B(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Fn=class extends L{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,_d(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ce;let n=this.getSubject();t.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ce.EMPTY)}return t}refCount(){return ti()(this)}};var Yv=Kr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=(()=>{class e extends L{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ra(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Yv}next(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Jr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?fd:(this.currentObservers=null,o.push(n),new Ce(()=>{this.currentObservers=null,dr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new L;return n.source=this,n}}return e.create=(t,n)=>new Ra(t,n),e})(),Ra=class extends oe{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:fd}};var Le=class extends oe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var Do={now(){return(Do.delegate||Date).now()},delegate:void 0};var bo=class extends oe{constructor(t=1/0,n=1/0,r=Do){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Oa=class extends Ce{constructor(t,n){super()}schedule(t,n=0){return this}};var Io={setInterval(e,t,...n){let{delegate:r}=Io;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Io;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var ni=class extends Oa{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Io.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Io.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,dr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var ri=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};ri.now=Do.now;var ii=class extends ri{constructor(t,n=ri.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Ln=new ii(ni),wd=Ln;var ka=class extends ni{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Pa=class extends ii{};var Ed=new Pa(ka);var Be=new L(e=>e.complete());function Fa(e){return e&&O(e.schedule)}function Dd(e){return e[e.length-1]}function oi(e){return O(Dd(e))?e.pop():void 0}function zt(e){return Fa(Dd(e))?e.pop():void 0}function Kv(e,t){return typeof Dd(e)=="number"?e.pop():t}var si=e=>e&&typeof e.length=="number"&&typeof e!="function";function La(e){return O(e?.then)}function Va(e){return O(e[ei])}function ja(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function Ba(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ua=kI();function $a(e){return O(e?.[Ua])}function Ha(e){return cv(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield ma(n.read());if(i)return yield ma(void 0);yield yield ma(r)}}finally{n.releaseLock()}})}function za(e){return O(e?.getReader)}function te(e){if(e instanceof L)return e;if(e!=null){if(Va(e))return PI(e);if(si(e))return FI(e);if(La(e))return LI(e);if(ja(e))return Xv(e);if($a(e))return VI(e);if(za(e))return jI(e)}throw Ba(e)}function PI(e){return new L(t=>{let n=e[ei]();if(O(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FI(e){return new L(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function LI(e){return new L(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Aa)})}function VI(e){return new L(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Xv(e){return new L(t=>{BI(e,t).catch(n=>t.error(n))})}function jI(e){return Xv(Ha(e))}function BI(e,t){var n,r,i,o;return lv(this,void 0,void 0,function*(){try{for(n=uv(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function et(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Wt(e,t=0){return j((n,r)=>{n.subscribe(B(r,i=>et(r,e,()=>r.next(i),t),()=>et(r,e,()=>r.complete(),t),i=>et(r,e,()=>r.error(i),t)))})}function hn(e,t=0){return j((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Jv(e,t){return te(e).pipe(hn(t),Wt(t))}function ey(e,t){return te(e).pipe(hn(t),Wt(t))}function ty(e,t){return new L(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function ny(e,t){return new L(n=>{let r;return et(n,t,()=>{r=e[Ua](),et(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function Wa(e,t){if(!e)throw new Error("Iterable cannot be null");return new L(n=>{et(n,t,()=>{let r=e[Symbol.asyncIterator]();et(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ry(e,t){return Wa(Ha(e),t)}function iy(e,t){if(e!=null){if(Va(e))return Jv(e,t);if(si(e))return ty(e,t);if(La(e))return ey(e,t);if(ja(e))return Wa(e,t);if($a(e))return ny(e,t);if(za(e))return ry(e,t)}throw Ba(e)}function ae(e,t){return t?iy(e,t):te(e)}function k(...e){let t=zt(e);return ae(e,t)}function Vn(e,t){let n=O(e)?e:()=>e,r=i=>i.error(n());return new L(t?i=>t.schedule(r,0,i):r)}function bd(e){return!!e&&(e instanceof L||O(e.lift)&&O(e.subscribe))}var pn=Kr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function oy(e){return e instanceof Date&&!isNaN(e)}function N(e,t){return j((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:UI}=Array;function $I(e,t){return UI(t)?e(...t):e(t)}function ai(e){return N(t=>$I(e,t))}var{isArray:HI}=Array,{getPrototypeOf:zI,prototype:WI,keys:GI}=Object;function Ga(e){if(e.length===1){let t=e[0];if(HI(t))return{args:t,keys:null};if(qI(t)){let n=GI(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function qI(e){return e&&typeof e=="object"&&zI(e)===WI}function qa(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Qa(...e){let t=zt(e),n=oi(e),{args:r,keys:i}=Ga(e);if(r.length===0)return ae([],t);let o=new L(QI(r,t,i?s=>qa(i,s):Fe));return n?o.pipe(ai(n)):o}function QI(e,t,n=Fe){return r=>{sy(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)sy(t,()=>{let c=ae(e[l],t),u=!1;c.subscribe(B(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function sy(e,t,n){e?et(n,e,t):t()}function ay(e,t,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},h=v=>c<r?g(v):l.push(v),g=v=>{o&&t.next(v),c++;let y=!1;te(n(v,u++)).subscribe(B(t,M=>{i?.(M),o?h(M):t.next(M)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let M=l.shift();s?et(t,s,()=>g(M)):g(M)}f()}catch(M){t.error(M)}}))};return e.subscribe(B(t,h,()=>{d=!0,f()})),()=>{a?.()}}function ye(e,t,n=1/0){return O(t)?ye((r,i)=>N((o,s)=>t(r,o,i,s))(te(e(r,i))),n):(typeof t=="number"&&(n=t),j((r,i)=>ay(r,i,e,n)))}function So(e=1/0){return ye(Fe,e)}function ly(){return So(1)}function Gt(...e){return ly()(ae(e,zt(e)))}function pr(e){return new L(t=>{te(e()).subscribe(t)})}function Id(...e){let t=oi(e),{args:n,keys:r}=Ga(e),i=new L(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;te(n[u]).subscribe(B(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?qa(r,a):a),o.complete())}))}});return t?i.pipe(ai(t)):i}var ZI=["addListener","removeListener"],YI=["addEventListener","removeEventListener"],KI=["on","off"];function li(e,t,n,r){if(O(n)&&(r=n,n=void 0),r)return li(e,t,n).pipe(ai(r));let[i,o]=eS(e)?YI.map(s=>a=>e[s](t,a,n)):XI(e)?ZI.map(cy(e,t)):JI(e)?KI.map(cy(e,t)):[];if(!i&&si(e))return ye(s=>li(s,t,n))(te(e));if(!i)throw new TypeError("Invalid event target");return new L(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function cy(e,t){return n=>r=>e[n](t,r)}function XI(e){return O(e.addListener)&&O(e.removeListener)}function JI(e){return O(e.on)&&O(e.off)}function eS(e){return O(e.addEventListener)&&O(e.removeEventListener)}function uy(e=0,t,n=wd){let r=-1;return t!=null&&(Fa(t)?n=t:r=t),new L(i=>{let o=oy(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function gn(...e){let t=zt(e),n=Kv(e,1/0),r=e;return r.length?r.length===1?te(r[0]):So(n)(ae(r,t)):Be}var gr=new L(Nt);function Se(e,t){return j((n,r)=>{let i=0;n.subscribe(B(r,o=>e.call(t,o,i++)&&r.next(o)))})}function jn(e){return j((t,n)=>{let r=null,i=!1,o;r=t.subscribe(B(n,void 0,void 0,s=>{o=te(e(s,jn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function dy(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(B(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Bn(e,t){return O(t)?ye(e,t,1):ye(e,1)}function fy(e){return new L(t=>e.subscribe(t))}var tS={connector:()=>new oe};function Za(e,t=tS){let{connector:n}=t;return j((r,i)=>{let o=n();te(e(fy(o))).subscribe(i),i.add(r.subscribe(o))})}function Un(e){return j((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Ae(e){return e<=0?()=>Be:j((t,n)=>{let r=0;t.subscribe(B(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function hy(){return j((e,t)=>{e.subscribe(B(t,Nt))})}function py(e){return N(()=>e)}function Sd(e,t){return t?n=>Gt(t.pipe(Ae(1),hy()),n.pipe(Sd(e))):ye((n,r)=>te(e(n,r)).pipe(Ae(1),py(n)))}function Md(e,t=Ln){let n=uy(e,t);return Sd(()=>n)}function Td(e,t=Fe){return e=e??nS,j((n,r)=>{let i,o=!0;n.subscribe(B(r,s=>{let a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function nS(e,t){return e===t}function Ya(e=rS){return j((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function rS(){return new pn}function mr(e){return j((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Rt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Se((i,o)=>e(i,o,r)):Fe,Ae(1),n?Un(t):Ya(()=>new pn))}function ci(e){return e<=0?()=>Be:j((t,n)=>{let r=[];t.subscribe(B(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function xd(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Se((i,o)=>e(i,o,r)):Fe,ci(1),n?Un(t):Ya(()=>new pn))}function gy(e,t){let n=O(e)?e:()=>e;return O(t)?Za(t,{connector:n}):r=>new Fn(r,n)}function Ad(e){return e?t=>Za(e)(t):t=>gy(new oe)(t)}function ui(e,t){return j(dy(e,t,arguments.length>=2,!0))}function Mo(e={}){let{connector:t=()=>new oe,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},g=()=>{let v=s;h(),v?.unsubscribe()};return j((v,y)=>{c++,!d&&!u&&f();let M=l=l??t();y.add(()=>{c--,c===0&&!d&&!u&&(a=Nd(g,i))}),M.subscribe(y),!s&&c>0&&(s=new fn({next:z=>M.next(z),error:z=>{d=!0,f(),a=Nd(h,n,z),M.error(z)},complete:()=>{u=!0,f(),a=Nd(h,r),M.complete()}}),te(v).subscribe(s))})(o)}}function Nd(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new fn({next:()=>{r.unsubscribe(),e()}});return te(t(...n)).subscribe(r)}function Ka(e,t,n){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e:r=e??1/0,Mo({connector:()=>new bo(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Rd(e){return j((t,n)=>{let r=!1,i=0;t.subscribe(B(n,o=>(r||(r=!e(o,i++)))&&n.next(o)))})}function Od(...e){let t=zt(e);return j((n,r)=>{(t?Gt(e,n,t):Gt(e,n)).subscribe(r)})}function le(e,t){return j((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(B(r,l=>{i?.unsubscribe();let c=0,u=o++;te(e(l,u)).subscribe(i=B(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Xa(e,t){return O(t)?le(()=>e,t):le(()=>e)}function kd(e){return j((t,n)=>{te(e).subscribe(B(n,()=>n.complete(),Nt)),!n.closed&&t.subscribe(n)})}function Me(e,t,n){let r=O(e)||t||n?{next:e,error:t,complete:n}:e;return r?j((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(B(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Fe}function Pd(...e){let t=oi(e);return j((n,r)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)te(e[l]).subscribe(B(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(Fe))&&(s=null))},Nt));n.subscribe(B(r,l=>{if(a){let c=[l,...o];r.next(t?t(...c):c)}}))})}var n_="https://g.co/ng/security#xss",A=class extends Error{code;constructor(t,n){super(Rl(t,n)),this.code=t}};function Rl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var r_=Symbol("InputSignalNode#UNSET"),iS=W(E({},dd),{transformFn:void 0,applyValueToInputSignal(e,t){Ma(e,t)}});function i_(e,t){let n=Object.create(iS);n.value=e,n.transformFn=t?.transform;function r(){if(Da(n),n.value===r_)throw new A(-950,!1);return n.value}return r[rt]=n,r}function Bo(e){return{toString:e}.toString()}var Ja="__parameters__";function oS(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function o_(e,t,n){return Bo(()=>{let r=oS(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Ja)?l[Ja]:Object.defineProperty(l,Ja,{value:[]})[Ja];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function de(e){for(let t in e)if(e[t]===de)return t;throw Error("Could not find renamed property on target object.")}function sS(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ge(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ge).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function my(e,t){return e?t?`${e} ${t}`:e:t||""}var aS=de({__forward_ref__:de});function Ii(e){return e.__forward_ref__=Ii,e.toString=function(){return Ge(this())},e}function We(e){return s_(e)?e():e}function s_(e){return typeof e=="function"&&e.hasOwnProperty(aS)&&e.__forward_ref__===Ii}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function _t(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ol(e){return vy(e,l_)||vy(e,c_)}function a_(e){return Ol(e)!==null}function vy(e,t){return e.hasOwnProperty(t)?e[t]:null}function lS(e){let t=e&&(e[l_]||e[c_]);return t||null}function yy(e){return e&&(e.hasOwnProperty(_y)||e.hasOwnProperty(cS))?e[_y]:null}var l_=de({\u0275prov:de}),_y=de({\u0275inj:de}),c_=de({ngInjectableDef:de}),cS=de({ngInjectorDef:de}),S=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function u_(e){return e&&!!e.\u0275providers}var uS=de({\u0275cmp:de}),dS=de({\u0275dir:de}),fS=de({\u0275pipe:de}),hS=de({\u0275mod:de}),sl=de({\u0275fac:de}),No=de({__NG_ELEMENT_ID__:de}),Cy=de({__NG_ENV_ID__:de});function kl(e){return typeof e=="string"?e:e==null?"":String(e)}function pS(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():kl(e)}function gS(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new A(-200,e)}function jf(e,t){throw new A(-201,!1)}var q=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(q||{}),Zd;function d_(){return Zd}function ht(e){let t=Zd;return Zd=e,t}function f_(e,t,n){let r=Ol(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&q.Optional)return null;if(t!==void 0)return t;jf(e,"Injector")}var mS={},Ro=mS,Yd="__NG_DI_FLAG__",al="ngTempTokenPath",vS="ngTokenPath",yS=/\n/gm,_S="\u0275",wy="__source",pi;function CS(){return pi}function $n(e){let t=pi;return pi=e,t}function wS(e,t=q.Default){if(pi===void 0)throw new A(-203,!1);return pi===null?f_(e,void 0,t):pi.get(e,t&q.Optional?null:void 0,t)}function b(e,t=q.Default){return(d_()||wS)(We(e),t)}function C(e,t=q.Default){return b(e,Pl(t))}function Pl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Kd(e){let t=[];for(let n=0;n<e.length;n++){let r=We(e[n]);if(Array.isArray(r)){if(r.length===0)throw new A(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=ES(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(b(i,o))}else t.push(b(r))}return t}function h_(e,t){return e[Yd]=t,e.prototype[Yd]=t,e}function ES(e){return e[Yd]}function DS(e,t,n,r){let i=e[al];throw t[wy]&&i.unshift(t[wy]),e.message=bS(`
`+e.message,i,n,r),e[vS]=i,e[al]=null,e}function bS(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==_S?e.slice(2):e;let i=Ge(t);if(Array.isArray(t))i=t.map(Ge).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ge(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(yS,`
  `)}`}var Fl=h_(o_("Optional"),8);var p_=h_(o_("SkipSelf"),4);function mi(e,t){let n=e.hasOwnProperty(sl);return n?e[sl]:null}function Bf(e,t){e.forEach(n=>Array.isArray(n)?Bf(n,t):t(n))}function g_(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function ll(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function IS(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function SS(e,t,n){let r=Uo(e,t);return r>=0?e[r|1]=n:(r=~r,IS(e,r,t,n)),r}function Fd(e,t){let n=Uo(e,t);if(n>=0)return e[n|1]}function Uo(e,t){return MS(e,t,1)}function MS(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var yr={},pt=[],vi=new S(""),m_=new S("",-1),v_=new S(""),cl=class{get(t,n=Ro){if(n===Ro){let r=new Error(`NullInjectorError: No provider for ${Ge(t)}!`);throw r.name="NullInjectorError",r}return n}};function y_(e,t){let n=e[hS]||null;if(!n&&t===!0)throw new Error(`Type ${Ge(e)} does not have '\u0275mod' property.`);return n}function _r(e){return e[uS]||null}function __(e){return e[dS]||null}function C_(e){return e[fS]||null}function w_(e){let t=_r(e)||__(e)||C_(e);return t!==null&&t.standalone}function Qn(e){return{\u0275providers:e}}function TS(...e){return{\u0275providers:E_(!0,e),\u0275fromNgModule:!0}}function E_(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return Bf(t,s=>{let a=s;Xd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&D_(i,o),n}function D_(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Uf(i,o=>{t(o,r)})}}function Xd(e,t,n,r){if(e=We(e),!e)return!1;let i=null,o=yy(e),s=!o&&_r(e);if(!o&&!s){let l=e.ngModule;if(o=yy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Xd(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{Bf(o.imports,u=>{Xd(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&D_(c,t)}if(!a){let c=mi(i)||(()=>new i);t({provide:i,useFactory:c,deps:pt},i),t({provide:v_,useValue:i,multi:!0},i),t({provide:vi,useValue:()=>b(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Uf(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Uf(e,t){for(let n of e)u_(n)&&(n=n.\u0275providers),Array.isArray(n)?Uf(n,t):t(n)}var xS=de({provide:String,useValue:de});function b_(e){return e!==null&&typeof e=="object"&&xS in e}function AS(e){return!!(e&&e.useExisting)}function NS(e){return!!(e&&e.useFactory)}function yi(e){return typeof e=="function"}function RS(e){return!!e.useClass}var Ll=new S(""),tl={},OS={},Ld;function $f(){return Ld===void 0&&(Ld=new cl),Ld}var Ne=class{},Oo=class extends Ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ef(t,s=>this.processProvider(s)),this.records.set(m_,di(void 0,this)),i.has("environment")&&this.records.set(Ne,di(void 0,this));let o=this.records.get(Ll);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(v_,pt,q.Self))}destroy(){xo(this),this._destroyed=!0;let t=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(t)}}onDestroy(t){return xo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){xo(this);let n=$n(this),r=ht(void 0),i;try{return t()}finally{$n(n),ht(r)}}get(t,n=Ro,r=q.Default){if(xo(this),t.hasOwnProperty(Cy))return t[Cy](this);r=Pl(r);let i,o=$n(this),s=ht(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=VS(t)&&Ol(t);c&&this.injectableDefInScope(c)?l=di(Jd(t),tl):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&q.Self?$f():this.parent;return n=r&q.Optional&&n===Ro?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[al]=a[al]||[]).unshift(Ge(t)),o)throw a;return DS(a,t,"R3InjectorError",this.source)}else throw a}finally{ht(s),$n(o)}}resolveInjectorInitializers(){let t=X(null),n=$n(this),r=ht(void 0),i;try{let o=this.get(vi,pt,q.Self);for(let s of o)s()}finally{$n(n),ht(r),X(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Ge(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=We(t);let n=yi(t)?t:We(t&&t.provide),r=PS(t);if(!yi(t)&&t.multi===!0){let i=this.records.get(n);i||(i=di(void 0,tl,!0),i.factory=()=>Kd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=X(null);try{return n.value===tl&&(n.value=OS,n.value=n.factory()),typeof n.value=="object"&&n.value&&LS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{X(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=We(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Jd(e){let t=Ol(e),n=t!==null?t.factory:mi(e);if(n!==null)return n;if(e instanceof S)throw new A(204,!1);if(e instanceof Function)return kS(e);throw new A(204,!1)}function kS(e){if(e.length>0)throw new A(204,!1);let n=lS(e);return n!==null?()=>n.factory(e):()=>new e}function PS(e){if(b_(e))return di(void 0,e.useValue);{let t=I_(e);return di(t,tl)}}function I_(e,t,n){let r;if(yi(e)){let i=We(e);return mi(i)||Jd(i)}else if(b_(e))r=()=>We(e.useValue);else if(NS(e))r=()=>e.useFactory(...Kd(e.deps||[]));else if(AS(e))r=()=>b(We(e.useExisting));else{let i=We(e&&(e.useClass||e.provide));if(FS(e))r=()=>new i(...Kd(e.deps));else return mi(i)||Jd(i)}return r}function xo(e){if(e.destroyed)throw new A(205,!1)}function di(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function FS(e){return!!e.deps}function LS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function VS(e){return typeof e=="function"||typeof e=="object"&&e instanceof S}function ef(e,t){for(let n of e)Array.isArray(n)?ef(n,t):n&&u_(n)?ef(n.\u0275providers,t):t(n)}function tt(e,t){e instanceof Oo&&xo(e);let n,r=$n(e),i=ht(void 0);try{return t()}finally{$n(r),ht(i)}}function S_(){return d_()!==void 0||CS()!=null}function M_(e){if(!S_())throw new A(-203,!1)}function jS(e){return typeof e=="function"}var _n=0,ne=1,U=2,qe=3,kt=4,Pt=5,ul=6,dl=7,vt=8,ko=9,mn=10,Re=11,Po=12,Ey=13,Si=14,Qt=15,_i=16,fi=17,Ci=18,Vl=19,T_=20,Hn=21,Vd=22,fl=23,it=24,vn=25,x_=1;var Cr=7,hl=8,pl=9,mt=10;function zn(e){return Array.isArray(e)&&typeof e[x_]=="object"}function Cn(e){return Array.isArray(e)&&e[x_]===!0}function A_(e){return(e.flags&4)!==0}function Sr(e){return e.componentOffset>-1}function Hf(e){return(e.flags&1)===1}function yn(e){return!!e.template}function gl(e){return(e[U]&512)!==0}function $o(e){return(e[U]&256)===256}var tf=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function N_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Zn=(()=>{let e=()=>R_;return e.ngInherit=!0,e})();function R_(e){return e.type.prototype.ngOnChanges&&(e.setInput=US),BS}function BS(){let e=k_(this),t=e?.current;if(t){let n=e.previous;if(n===yr)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function US(e,t,n,r,i){let o=this.declaredInputs[r],s=k_(e)||$S(e,{previous:yr,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new tf(c&&c.currentValue,n,l===yr),N_(e,t,i,n)}var O_="__ngSimpleChanges__";function k_(e){return e[O_]||null}function $S(e,t){return e[O_]=t}var Dy=null;var gt=function(e,t,n){Dy?.(e,t,n)},HS="svg",zS="math";function Zt(e){for(;Array.isArray(e);)e=e[_n];return e}function P_(e,t){return Zt(t[e])}function Ft(e,t){return Zt(t[e.index])}function F_(e,t){return e.data[t]}function Yt(e,t){let n=t[e];return zn(n)?n:n[_n]}function zf(e){return(e[U]&128)===128}function WS(e){return Cn(e[qe])}function ml(e,t){return t==null?null:e[t]}function L_(e){e[fi]=0}function Wf(e){e[U]&1024||(e[U]|=1024,zf(e)&&Bl(e))}function GS(e,t){for(;e>0;)t=t[Si],e--;return t}function jl(e){return!!(e[U]&9216||e[it]?.dirty)}function nf(e){e[mn].changeDetectionScheduler?.notify(9),e[U]&64&&(e[U]|=1024),jl(e)&&Bl(e)}function Bl(e){e[mn].changeDetectionScheduler?.notify(0);let t=wr(e);for(;t!==null&&!(t[U]&8192||(t[U]|=8192,!zf(t)));)t=wr(t)}function V_(e,t){if($o(e))throw new A(911,!1);e[Hn]===null&&(e[Hn]=[]),e[Hn].push(t)}function qS(e,t){if(e[Hn]===null)return;let n=e[Hn].indexOf(t);n!==-1&&e[Hn].splice(n,1)}function wr(e){let t=e[qe];return Cn(t)?t[qe]:t}function QS(e){return e[dl]??=[]}function ZS(e){return e.cleanup??=[]}var K={lFrame:W_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rf=!1;function YS(){return K.lFrame.elementDepthCount}function KS(){K.lFrame.elementDepthCount++}function XS(){K.lFrame.elementDepthCount--}function Gf(){return K.bindingsEnabled}function JS(){return K.skipHydrationRootTNode!==null}function eM(e){return K.skipHydrationRootTNode===e}function tM(){K.skipHydrationRootTNode=null}function ge(){return K.lFrame.lView}function ot(){return K.lFrame.tView}function wn(e){return K.lFrame.contextLView=e,e[vt]}function En(e){return K.lFrame.contextLView=null,e}function Ct(){let e=j_();for(;e!==null&&e.type===64;)e=e.parent;return e}function j_(){return K.lFrame.currentTNode}function nM(){let e=K.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Ho(e,t){let n=K.lFrame;n.currentTNode=e,n.isParent=t}function B_(){return K.lFrame.isParent}function rM(){K.lFrame.isParent=!1}function U_(){return rf}function by(e){let t=rf;return rf=e,t}function iM(){let e=K.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function oM(e){return K.lFrame.bindingIndex=e}function Ul(){return K.lFrame.bindingIndex++}function sM(e){let t=K.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function aM(){return K.lFrame.inI18n}function lM(e,t){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=e,of(t)}function cM(){return K.lFrame.currentDirectiveIndex}function of(e){K.lFrame.currentDirectiveIndex=e}function uM(e){let t=K.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function $_(e){K.lFrame.currentQueryIndex=e}function dM(e){let t=e[ne];return t.type===2?t.declTNode:t.type===1?e[Pt]:null}function H_(e,t,n){if(n&q.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&q.Host);)if(i=dM(o),i===null||(o=o[Si],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=K.lFrame=z_();return r.currentTNode=t,r.lView=e,!0}function qf(e){let t=z_(),n=e[ne];K.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function z_(){let e=K.lFrame,t=e===null?null:e.child;return t===null?W_(e):t}function W_(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function G_(){let e=K.lFrame;return K.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var q_=G_;function Qf(){let e=G_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function fM(e){return(K.lFrame.contextLView=GS(e,K.lFrame.contextLView))[vt]}function Mi(){return K.lFrame.selectedIndex}function Er(e){K.lFrame.selectedIndex=e}function Zf(){let e=K.lFrame;return F_(e.tView,e.selectedIndex)}function hM(){return K.lFrame.currentNamespace}var Q_=!0;function Yf(){return Q_}function Kf(e){Q_=e}function pM(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=R_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Z_(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function nl(e,t,n){Y_(e,t,3,n)}function rl(e,t,n,r){(e[U]&3)===n&&Y_(e,t,n,r)}function jd(e,t){let n=e[U];(n&3)===t&&(n&=16383,n+=1,e[U]=n)}function Y_(e,t,n,r){let i=r!==void 0?e[fi]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[fi]+=65536),(a<o||o==-1)&&(gM(e,n,t,l),e[fi]=(e[fi]&4294901760)+l+2),l++}function Iy(e,t){gt(4,e,t);let n=X(null);try{t.call(e)}finally{X(n),gt(5,e,t)}}function gM(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[U]>>14<e[fi]>>16&&(e[U]&3)===t&&(e[U]+=16384,Iy(a,o)):Iy(a,o)}var gi=-1,Dr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function mM(e){return e instanceof Dr}function vM(e){return(e.flags&8)!==0}function yM(e){return(e.flags&16)!==0}function _M(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];wM(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function CM(e){return e===3||e===4||e===6}function wM(e){return e.charCodeAt(0)===64}function Fo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Sy(e,n,i,null,t[++r]):Sy(e,n,i,null,null))}}return e}function Sy(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var Bd={},sf=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Pl(r);let i=this.injector.get(t,Bd,r);return i!==Bd||n===Bd?i:this.parentInjector.get(t,n,r)}};function K_(e){return e!==gi}function vl(e){return e&32767}function EM(e){return e>>16}function yl(e,t){let n=EM(e),r=t;for(;n>0;)r=r[Si],n--;return r}var af=!0;function My(e){let t=af;return af=e,t}var DM=256,X_=DM-1,J_=5,bM=0,qt={};function IM(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(No)&&(r=n[No]),r==null&&(r=n[No]=bM++);let i=r&X_,o=1<<i;t.data[e+(i>>J_)]|=o}function _l(e,t){let n=e0(e,t);if(n!==-1)return n;let r=t[ne];r.firstCreatePass&&(e.injectorIndex=t.length,Ud(r.data,e),Ud(t,null),Ud(r.blueprint,null));let i=Xf(e,t),o=e.injectorIndex;if(K_(i)){let s=vl(i),a=yl(i,t),l=a[ne].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Ud(e,t){e.push(0,0,0,0,0,0,0,0,t)}function e0(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Xf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=o0(i),r===null)return gi;if(n++,i=i[Si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return gi}function lf(e,t,n){IM(e,t,n)}function t0(e,t,n){if(n&q.Optional||e!==void 0)return e;jf(t,"NodeInjector")}function n0(e,t,n,r){if(n&q.Optional&&r===void 0&&(r=null),!(n&(q.Self|q.Host))){let i=e[ko],o=ht(void 0);try{return i?i.get(t,r,n&q.Optional):f_(t,r,n&q.Optional)}finally{ht(o)}}return t0(r,t,n)}function r0(e,t,n,r=q.Default,i){if(e!==null){if(t[U]&2048&&!(r&q.Self)){let s=AM(e,t,n,r,qt);if(s!==qt)return s}let o=i0(e,t,n,r,qt);if(o!==qt)return o}return n0(t,n,r,i)}function i0(e,t,n,r,i){let o=TM(n);if(typeof o=="function"){if(!H_(t,e,r))return r&q.Host?t0(i,n,r):n0(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&q.Optional))jf(n);else return s}finally{q_()}}else if(typeof o=="number"){let s=null,a=e0(e,t),l=gi,c=r&q.Host?t[Qt][Pt]:null;for((a===-1||r&q.SkipSelf)&&(l=a===-1?Xf(e,t):t[a+8],l===gi||!xy(r,!1)?a=-1:(s=t[ne],a=vl(l),t=yl(l,t)));a!==-1;){let u=t[ne];if(Ty(o,a,u.data)){let d=SM(a,t,n,s,r,c);if(d!==qt)return d}l=t[a+8],l!==gi&&xy(r,t[ne].data[a+8]===c)&&Ty(o,a,t)?(s=u,a=vl(l),t=yl(l,t)):a=-1}}return i}function SM(e,t,n,r,i,o){let s=t[ne],a=s.data[e+8],l=r==null?Sr(a)&&af:r!=s&&(a.type&3)!==0,c=i&q.Host&&o===a,u=MM(a,s,n,l,c);return u!==null?Cl(t,s,u,a):qt}function MM(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let g=s[h];if(h<l&&n===g||h>=l&&g.type===n)return h}if(i){let h=s[l];if(h&&yn(h)&&h.type===n)return l}return null}function Cl(e,t,n,r){let i=e[n],o=t.data;if(mM(i)){let s=i;s.resolving&&gS(pS(o[n]));let a=My(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?ht(s.injectImpl):null,u=H_(e,r,q.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&pM(n,o[n],t)}finally{c!==null&&ht(c),My(a),s.resolving=!1,q_()}}return i}function TM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(No)?e[No]:void 0;return typeof t=="number"?t>=0?t&X_:xM:t}function Ty(e,t,n){let r=1<<e;return!!(n[t+(e>>J_)]&r)}function xy(e,t){return!(e&q.Self)&&!(e&q.Host&&t)}var vr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return r0(this._tNode,this._lView,t,Pl(r),n)}};function xM(){return new vr(Ct(),ge())}function Ti(e){return Bo(()=>{let t=e.prototype.constructor,n=t[sl]||cf(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[sl]||cf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function cf(e){return s_(e)?()=>{let t=cf(We(e));return t&&t()}:mi(e)}function AM(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[U]&2048&&!gl(s);){let a=i0(o,s,n,r|q.Self,qt);if(a!==qt)return a;let l=o.parent;if(!l){let c=s[T_];if(c){let u=c.get(n,qt,r);if(u!==qt)return u}l=o0(s),s=s[Si]}o=l}return i}function o0(e){let t=e[ne],n=t.type;return n===2?t.declTNode:n===1?e[Pt]:null}function Ay(e,t=null,n=null,r){let i=s0(e,t,n,r);return i.resolveInjectorInitializers(),i}function s0(e,t=null,n=null,r,i=new Set){let o=[n||pt,TS(e)];return r=r||(typeof e=="object"?void 0:Ge(e)),new Oo(o,t||$f(),r||null,i)}var Qe=class e{static THROW_IF_NOT_FOUND=Ro;static NULL=new cl;static create(t,n){if(Array.isArray(t))return Ay({name:""},n,t,"");{let r=t.name??"";return Ay({name:r},t.parent,t.providers,r)}}static \u0275prov=T({token:e,providedIn:"any",factory:()=>b(m_)});static __NG_ELEMENT_ID__=-1};var NM=new S("");NM.__NG_ELEMENT_ID__=e=>{let t=Ct();if(t===null)throw new A(204,!1);if(t.type&2)return t.value;if(e&q.Optional)return null;throw new A(204,!1)};var a0=!1,zo=(()=>{class e{static __NG_ELEMENT_ID__=RM;static __NG_ENV_ID__=n=>n}return e})(),uf=class extends zo{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return V_(this._lView,t),()=>qS(this._lView,t)}};function RM(){return new uf(ge())}var wi=class{},$l=new S("",{providedIn:"root",factory:()=>!1});var l0=new S(""),c0=new S(""),Dn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Le(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),Jf=(()=>{class e{internalPendingTasks=C(Dn);scheduler=C(wi);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(n))}}run(n){return ue(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})(),df=class extends oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,S_()&&(this.destroyRef=C(zo,{optional:!0})??void 0,this.pendingTasks=C(Dn,{optional:!0})??void 0)}emit(t){let n=X(null);try{super.next(t)}finally{X(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof Ce&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ve=df;function wl(...e){}function u0(e){let t,n;function r(){e=wl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Ny(e){return queueMicrotask(()=>e()),()=>{e=wl}}var eh="isAngularZone",El=eh+"_ID",OM=0,J=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ve(!1);onMicrotaskEmpty=new Ve(!1);onStable=new Ve(!1);onError=new Ve(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=a0}=t;if(typeof Zone>"u")throw new A(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,FM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(eh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new A(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new A(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,kM,wl,wl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},kM={};function th(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function PM(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){u0(()=>{e.callbackScheduled=!1,ff(e),e.isCheckStableRunning=!0,th(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),ff(e)}function FM(e){let t=()=>{PM(e)},n=OM++;e._inner=e._inner.fork({name:"angular",properties:{[eh]:!0,[El]:n,[El+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(LM(l))return r.invokeTask(o,s,a,l);try{return Ry(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Oy(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return Ry(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!VM(l)&&t(),Oy(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,ff(e),th(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function ff(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Ry(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Oy(e){e._nesting--,th(e)}var hf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ve;onMicrotaskEmpty=new Ve;onStable=new Ve;onError=new Ve;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function LM(e){return d0(e,"__ignore_ng_zone__")}function VM(e){return d0(e,"__scheduler_tick__")}function d0(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Wn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},jM=new S("",{providedIn:"root",factory:()=>{let e=C(J),t=C(Wn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function ky(e,t){return i_(e,t)}function BM(e){return i_(r_,e)}var f0=(ky.required=BM,ky);function UM(){return Hl(Ct(),ge())}function Hl(e,t){return new bn(Ft(e,t))}var bn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=UM}return e})();var Py=new Set;function xi(e){Py.has(e)||(Py.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function $M(e){return typeof e=="function"&&e[rt]!==void 0}function Wo(e,t){xi("NgSignals");let n=$v(e),r=n[rt];return t?.equal&&(r.equal=t.equal),n.set=i=>Ma(r,i),n.update=i=>Hv(r,i),n.asReadonly=HM.bind(n),n}function HM(){let e=this[rt];if(e.readonlyFn===void 0){let t=()=>this();t[rt]=e,e.readonlyFn=t}return e.readonlyFn}function h0(e){return $M(e)&&typeof e.set=="function"}function p0(e){return(e.flags&128)===128}var g0=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(g0||{}),m0=new Map,zM=0;function WM(){return zM++}function GM(e){m0.set(e[Vl],e)}function pf(e){m0.delete(e[Vl])}var Fy="__ngContext__";function Ai(e,t){zn(t)?(e[Fy]=t[Vl],GM(t)):e[Fy]=t}function v0(e){return _0(e[Po])}function y0(e){return _0(e[kt])}function _0(e){for(;e!==null&&!Cn(e);)e=e[kt];return e}var gf;function C0(e){gf=e}function qM(){if(gf!==void 0)return gf;if(typeof document<"u")return document;throw new A(210,!1)}var nh=new S("",{providedIn:"root",factory:()=>QM}),QM="ng",rh=new S(""),wt=new S("",{providedIn:"platform",factory:()=>"unknown"});var ih=new S("",{providedIn:"root",factory:()=>qM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ZM="h",YM="b";var w0=!1,KM=new S("",{providedIn:"root",factory:()=>w0});var E0=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(E0||{}),zl=new S("");var XM=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}return e})();var JM=()=>null;function D0(e,t,n=!1){return JM(e,t,n)}function b0(e,t){let n=e.contentQueries;if(n!==null){let r=X(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];$_(o),a.contentQueries(2,t[s],s)}}}finally{X(r)}}}function mf(e,t,n){$_(0);let r=X(null);try{t(e,n)}finally{X(r)}}function I0(e,t,n){if(A_(t)){let r=X(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{X(r)}}}var Kt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Kt||{});var Dl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${n_})`}};function Wl(e){return e instanceof Dl?e.changingThisBreaksApplicationSecurity:e}function S0(e,t){let n=eT(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${n_})`)}return n===t}function eT(e){return e instanceof Dl&&e.getTypeName()||null}var tT=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function M0(e){return e=String(e),e.match(tT)?e:"unsafe:"+e}var oh=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(oh||{});function Ni(e){let t=nT();return t?t.sanitize(oh.URL,e)||"":S0(e,"URL")?Wl(e):M0(kl(e))}function nT(){let e=ge();return e&&e[mn].sanitizer}function T0(e){return e.ownerDocument.defaultView}function x0(e){return e.ownerDocument}function A0(e){return e instanceof Function?e():e}function rT(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var N0="ng-template";function iT(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&rT(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(sh(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function sh(e){return e.type===4&&e.value!==N0}function oT(e,t,n){let r=e.type===4&&!n?N0:e.value;return t===r}function sT(e,t,n){let r=4,i=e.attrs,o=i!==null?cT(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!Ot(r)&&!Ot(l))return!1;if(s&&Ot(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!oT(e,l,n)||l===""&&t.length===1){if(Ot(r))return!1;s=!0}}else if(r&8){if(i===null||!iT(e,i,l,n)){if(Ot(r))return!1;s=!0}}else{let c=t[++a],u=aT(l,i,sh(e),n);if(u===-1){if(Ot(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(Ot(r))return!1;s=!0}}}}return Ot(r)||s}function Ot(e){return(e&1)===0}function aT(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return uT(t,e)}function lT(e,t,n=!1){for(let r=0;r<t.length;r++)if(sT(e,t[r],n))return!0;return!1}function cT(e){for(let t=0;t<e.length;t++){let n=e[t];if(CM(n))return t}return e.length}function uT(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function Ly(e,t){return e?":not("+t.trim()+")":t}function dT(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ot(s)&&(t+=Ly(o,i),i=""),r=s,o=o||!Ot(r);n++}return i!==""&&(t+=Ly(o,i)),t}function fT(e){return e.map(dT).join(",")}function hT(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Ot(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var Mr={};function pT(e,t){return e.createText(t)}function gT(e,t,n){e.setValue(t,n)}function R0(e,t,n){return e.createElement(t,n)}function bl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function O0(e,t,n){e.appendChild(t,n)}function Vy(e,t,n,r,i){r!==null?bl(e,t,n,r,i):O0(e,t,n)}function mT(e,t,n){e.removeChild(null,t,n)}function vT(e,t,n){e.setAttribute(t,"style",n)}function yT(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function k0(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&_M(e,t,r),i!==null&&yT(e,t,i),o!==null&&vT(e,t,o)}function ah(e,t,n,r,i,o,s,a,l,c,u){let d=vn+r,f=d+i,h=_T(d,f),g=typeof c=="function"?c():c;return h[ne]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:u}}function _T(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:Mr);return n}function CT(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ah(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function lh(e,t,n,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[_n]=i,d[U]=r|4|128|8|64|1024,(c!==null||e&&e[U]&2048)&&(d[U]|=2048),L_(d),d[qe]=d[Si]=e,d[vt]=n,d[mn]=s||e&&e[mn],d[Re]=a||e&&e[Re],d[ko]=l||e&&e[ko]||null,d[Pt]=o,d[Vl]=WM(),d[ul]=u,d[T_]=c,d[Qt]=t.type==2?e[Qt]:d,d}function wT(e,t,n){let r=Ft(t,e),i=CT(n),o=e[mn].rendererFactory,s=ch(e,lh(e,i,null,P0(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function P0(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function F0(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ch(e,t){return e[Po]?e[Ey][kt]=t:e[Po]=t,e[Ey]=t,t}function ee(e=1){L0(ot(),ge(),Mi()+e,!1)}function L0(e,t,n,r){if(!r)if((t[U]&3)===3){let o=e.preOrderCheckHooks;o!==null&&nl(t,o,n)}else{let o=e.preOrderHooks;o!==null&&rl(t,o,0,n)}Er(n)}var Gl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Gl||{});function V0(e,t,n,r){let i=X(null);try{let[o,s,a]=e.inputs[n],l=null;s&Gl.SignalBased&&(l=t[o][rt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):N_(t,l,o,r)}finally{X(i)}}function j0(e,t,n,r,i){let o=Mi(),s=r&2;try{Er(-1),s&&t.length>vn&&L0(e,t,vn,!1),gt(s?2:0,i),n(r,i)}finally{Er(o),gt(s?3:1,i)}}function B0(e,t,n){Gf()&&(Ai(Ft(n,t),t),U0(e,t,n))}function U0(e,t,n){MT(e,t,n),(n.flags&64)===64&&TT(e,t,n)}function $0(e,t,n=Ft){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function ET(e,t,n,r){let o=r.get(KM,w0)||n===Kt.ShadowDom,s=e.selectRootElement(t,o);return DT(s),s}function DT(e){bT(e)}var bT=()=>null;function IT(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function H0(e,t,n,r,i,o,s,a){let l=t.inputs,c;if(!a&&l!=null&&(c=l[r]))uh(e,n,c,r,i),Sr(t)&&ST(n,t.index);else if(t.type&3){let u=Ft(t,n);r=IT(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(u,r,i)}else t.type&12}function ST(e,t){let n=Yt(t,e);n[U]&16||(n[U]|=64)}function MT(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Sr(n)&&wT(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||_l(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=Cl(t,e,s,n);if(Ai(l,t),o!==null&&RT(t,s-r,l,a,n,o),yn(a)){let c=Yt(n.index,t);c[vt]=Cl(t,e,s,n)}}}function TT(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=cM();try{Er(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];of(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&xT(l,c)}}finally{Er(-1),of(s)}}function xT(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function z0(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];lT(t,o.selectors,!1)&&(r??=[],yn(o)?r.unshift(o):r.push(o))}return r}function AT(e,t,n,r,i,o){let s=Ft(e,t);NT(t[Re],s,o,e.value,n,r,i)}function NT(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?kl(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function RT(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];V0(r,n,l,c)}}function W0(e,t){let n=e[ko],r=n?n.get(Wn,null):null;r&&r.handleError(t)}function uh(e,t,n,r,i){for(let o=0;o<n.length;o+=2){let s=n[o],a=n[o+1],l=t[s],c=e.data[s];V0(c,l,a,i)}}function OT(e,t){let n=Yt(t,e),r=n[ne];kT(r,n);let i=n[_n];i!==null&&n[ul]===null&&(n[ul]=D0(i,n[ko])),dh(r,n,n[vt])}function kT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function dh(e,t,n){qf(t);try{let r=e.viewQuery;r!==null&&mf(1,r,n);let i=e.template;i!==null&&j0(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Ci]?.finishViewCreation(e),e.staticContentQueries&&b0(e,t),e.staticViewQueries&&mf(2,e.viewQuery,n);let o=e.components;o!==null&&PT(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[U]&=-5,Qf()}}function PT(e,t){for(let n=0;n<t.length;n++)OT(e,t[n])}function FT(e,t,n,r){let i=X(null);try{let o=t.tView,a=e[U]&4096?4096:16,l=lh(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[_i]=c;let u=e[Ci];return u!==null&&(l[Ci]=u.createEmbeddedView(o)),dh(o,l,n),l}finally{X(i)}}function jy(e,t){return!t||t.firstChild===null||p0(e)}var LT;function fh(e,t){return LT(e,t)}var Xt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Xt||{});function G0(e){return(e.flags&32)===32}function hi(e,t,n,r,i){if(r!=null){let o,s=!1;Cn(r)?o=r:zn(r)&&(s=!0,r=r[_n]);let a=Zt(r);e===0&&n!==null?i==null?O0(t,n,a):bl(t,n,a,i||null,!0):e===1&&n!==null?bl(t,n,a,i||null,!0):e===2?mT(t,a,s):e===3&&t.destroyNode(a),o!=null&&ZT(t,e,o,n,i)}}function VT(e,t){q0(e,t),t[_n]=null,t[Pt]=null}function jT(e,t,n,r,i,o){r[_n]=i,r[Pt]=t,ql(e,r,n,1,i,o)}function q0(e,t){t[mn].changeDetectionScheduler?.notify(10),ql(e,t,t[Re],2,null,null)}function BT(e){let t=e[Po];if(!t)return $d(e[ne],e);for(;t;){let n=null;if(zn(t))n=t[Po];else{let r=t[mt];r&&(n=r)}if(!n){for(;t&&!t[kt]&&t!==e;)zn(t)&&$d(t[ne],t),t=t[qe];t===null&&(t=e),zn(t)&&$d(t[ne],t),n=t&&t[kt]}t=n}}function hh(e,t){let n=e[pl],r=n.indexOf(t);n.splice(r,1)}function Q0(e,t){if($o(t))return;let n=t[Re];n.destroyNode&&ql(e,t,n,3,null,null),BT(t)}function $d(e,t){if($o(t))return;let n=X(null);try{t[U]&=-129,t[U]|=256,t[it]&&ud(t[it]),$T(e,t),UT(e,t),t[ne].type===1&&t[Re].destroy();let r=t[_i];if(r!==null&&Cn(t[qe])){r!==t[qe]&&hh(r,t);let i=t[Ci];i!==null&&i.detachView(e)}pf(t)}finally{X(n)}}function UT(e,t){let n=e.cleanup,r=t[dl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[dl]=null);let i=t[Hn];if(i!==null){t[Hn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[fl];if(o!==null){t[fl]=null;for(let s of o)s.destroy()}}function $T(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Dr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];gt(4,a,l);try{l.call(a)}finally{gt(5,a,l)}}else{gt(4,i,o);try{o.call(i)}finally{gt(5,i,o)}}}}}function HT(e,t,n){return zT(e,t.parent,n)}function zT(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[_n];if(Sr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Kt.None||i===Kt.Emulated)return null}return Ft(r,n)}function WT(e,t,n){return qT(e,t,n)}function GT(e,t,n){return e.type&40?Ft(e,n):null}var qT=GT,By;function ph(e,t,n,r){let i=HT(e,r,t),o=t[Re],s=r.parent||t[Pt],a=WT(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Vy(o,i,n[l],a,!1);else Vy(o,i,n,a,!1);By!==void 0&&By(o,r,t,n,i)}function Ao(e,t){if(t!==null){let n=t.type;if(n&3)return Ft(t,e);if(n&4)return vf(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ao(e,r);{let i=e[t.index];return Cn(i)?vf(-1,i):Zt(i)}}else{if(n&128)return Ao(e,t.next);if(n&32)return fh(t,e)()||Zt(e[t.index]);{let r=Z0(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=wr(e[Qt]);return Ao(i,r)}else return Ao(e,t.next)}}}return null}function Z0(e,t){if(t!==null){let r=e[Qt][Pt],i=t.projection;return r.projection[i]}return null}function vf(e,t){let n=mt+e+1;if(n<t.length){let r=t[n],i=r[ne].firstChild;if(i!==null)return Ao(r,i)}return t[Cr]}function gh(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&Ai(Zt(a),r),n.flags|=2),!G0(n))if(l&8)gh(e,t,n.child,r,i,o,!1),hi(t,e,i,a,o);else if(l&32){let c=fh(n,r),u;for(;u=c();)hi(t,e,i,u,o);hi(t,e,i,a,o)}else l&16?QT(e,t,r,n,i,o):hi(t,e,i,a,o);n=s?n.projectionNext:n.next}}function ql(e,t,n,r,i,o){gh(n,r,e.firstChild,t,i,o,!1)}function QT(e,t,n,r,i,o){let s=n[Qt],l=s[Pt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];hi(t,e,i,u,o)}else{let c=l,u=s[qe];p0(r)&&(c.flags|=128),gh(e,t,c,u,i,o,!0)}}function ZT(e,t,n,r,i){let o=n[Cr],s=Zt(n);o!==s&&hi(t,e,r,o,i);for(let a=mt;a<n.length;a++){let l=n[a];ql(l[ne],l,e,t,r,o)}}function YT(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Xt.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Xt.Important),e.setStyle(n,r,i,o))}}function Il(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Zt(o)),Cn(o)&&KT(o,r);let s=n.type;if(s&8)Il(e,t,n.child,r);else if(s&32){let a=fh(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=Z0(t,n);if(Array.isArray(a))r.push(...a);else{let l=wr(t[Qt]);Il(l[ne],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function KT(e,t){for(let n=mt;n<e.length;n++){let r=e[n],i=r[ne].firstChild;i!==null&&Il(r[ne],r,i,t)}e[Cr]!==e[_n]&&t.push(e[Cr])}var Y0=[];function XT(e){return e[it]??JT(e)}function JT(e){let t=Y0.pop()??Object.create(tx);return t.lView=e,t}function ex(e){e.lView[it]!==e&&(e.lView=null,Y0.push(e))}var tx=W(E({},Eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Bl(e.lView)},consumerOnSignalRead(){this.lView[it]=this}});function nx(e){let t=e[it]??Object.create(rx);return t.lView=e,t}var rx=W(E({},Eo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=wr(e.lView);for(;t&&!K0(t[ne]);)t=wr(t);t&&Wf(t)},consumerOnSignalRead(){this.lView[it]=this}});function K0(e){return e.type!==2}function X0(e){if(e[fl]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[fl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[U]&8192)}}var ix=100;function J0(e,t=!0,n=0){let i=e[mn].rendererFactory,o=!1;o||i.begin?.();try{ox(e,n)}catch(s){throw t&&W0(e,s),s}finally{o||i.end?.()}}function ox(e,t){let n=U_();try{by(!0),yf(e,t);let r=0;for(;jl(e);){if(r===ix)throw new A(103,!1);r++,yf(e,1)}}finally{by(n)}}function sx(e,t,n,r){if($o(t))return;let i=t[U],o=!1,s=!1;qf(t);let a=!0,l=null,c=null;o||(K0(e)?(c=XT(t),l=ba(c)):Nv()===null?(a=!1,c=nx(t),l=ba(c)):t[it]&&(ud(t[it]),t[it]=null));try{L_(t),oM(e.bindingStartIndex),n!==null&&j0(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&nl(t,h,null)}else{let h=e.preOrderHooks;h!==null&&rl(t,h,0,null),jd(t,0)}if(s||ax(t),X0(t),eC(t,0),e.contentQueries!==null&&b0(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&nl(t,h)}else{let h=e.contentHooks;h!==null&&rl(t,h,1),jd(t,1)}cx(e,t);let d=e.components;d!==null&&nC(t,d,0);let f=e.viewQuery;if(f!==null&&mf(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&nl(t,h)}else{let h=e.viewHooks;h!==null&&rl(t,h,2),jd(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Vd]){for(let h of t[Vd])h();t[Vd]=null}o||(t[U]&=-73)}catch(u){throw o||Bl(t),u}finally{c!==null&&(ld(c,l),a&&ex(c)),Qf()}}function eC(e,t){for(let n=v0(e);n!==null;n=y0(n))for(let r=mt;r<n.length;r++){let i=n[r];tC(i,t)}}function ax(e){for(let t=v0(e);t!==null;t=y0(t)){if(!(t[U]&2))continue;let n=t[pl];for(let r=0;r<n.length;r++){let i=n[r];Wf(i)}}}function lx(e,t,n){let r=Yt(t,e);tC(r,n)}function tC(e,t){zf(e)&&yf(e,t)}function yf(e,t){let r=e[ne],i=e[U],o=e[it],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&cd(o)),s||=!1,o&&(o.dirty=!1),e[U]&=-9217,s)sx(r,e,r.template,e[vt]);else if(i&8192){X0(e),eC(e,1);let a=r.components;a!==null&&nC(e,a,1)}}function nC(e,t,n){for(let r=0;r<t.length;r++)lx(e,t[r],n)}function cx(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Er(~i);else{let o=i,s=n[++r],a=n[++r];lM(s,o);let l=t[o];gt(24,l),a(2,l),gt(25,l)}}}finally{Er(-1)}}function mh(e,t){let n=U_()?64:1088;for(e[mn].changeDetectionScheduler?.notify(t);e;){e[U]|=n;let r=wr(e);if(gl(e)&&!r)return e;e=r}return null}function rC(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function ux(e,t,n,r=!0){let i=t[ne];if(dx(i,t,e,n),r){let s=vf(n,e),a=t[Re],l=a.parentNode(e[Cr]);l!==null&&jT(i,e[Pt],a,t,l,s)}let o=t[ul];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function _f(e,t){if(e.length<=mt)return;let n=mt+t,r=e[n];if(r){let i=r[_i];i!==null&&i!==e&&hh(i,r),t>0&&(e[n-1][kt]=r[kt]);let o=ll(e,mt+t);VT(r[ne],r);let s=o[Ci];s!==null&&s.detachView(o[ne]),r[qe]=null,r[kt]=null,r[U]&=-129}return r}function dx(e,t,n,r){let i=mt+r,o=n.length;r>0&&(n[i-1][kt]=t),r<o-mt?(t[kt]=n[i],g_(n,mt+r,t)):(n.push(t),t[kt]=null),t[qe]=n;let s=t[_i];s!==null&&n!==s&&iC(s,t);let a=t[Ci];a!==null&&a.insertView(e),nf(t),t[U]|=128}function iC(e,t){let n=e[pl],r=t[qe];if(zn(r))e[U]|=2;else{let i=r[qe][Qt];t[Qt]!==i&&(e[U]|=2)}n===null?e[pl]=[t]:n.push(t)}var br=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[ne];return Il(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[vt]}get dirty(){return!!(this._lView[U]&9280)||!!this._lView[it]?.dirty}set context(t){this._lView[vt]=t}get destroyed(){return $o(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[qe];if(Cn(t)){let n=t[hl],r=n?n.indexOf(this):-1;r>-1&&(_f(t,r),ll(n,r))}this._attachedToViewContainer=!1}Q0(this._lView[ne],this._lView)}onDestroy(t){V_(this._lView,t)}markForCheck(){mh(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Wf(this._cdRefInjectingView||this._lView)}detach(){this._lView[U]&=-129}reattach(){nf(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,J0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new A(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=gl(this._lView),n=this._lView[_i];n!==null&&!t&&hh(n,this._lView),q0(this._lView[ne],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new A(902,!1);this._appRef=t;let n=gl(this._lView),r=this._lView[_i];r!==null&&!n&&iC(r,this._lView),nf(this._lView)}},Ql=(()=>{class e{static __NG_ELEMENT_ID__=px}return e})(),fx=Ql,hx=class extends fx{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=FT(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new br(i)}};function px(){return gx(Ct(),ge())}function gx(e,t){return e.type&4?new hx(t,e,Hl(e,t)):null}function vh(e,t,n,r,i){let o=e.data[t];if(o===null)o=mx(e,t,n,r,i),aM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=nM();o.injectorIndex=s===null?-1:s.injectorIndex}return Ho(o,!0),o}function mx(e,t,n,r,i){let o=j_(),s=B_(),a=s?o:o&&o.parent,l=e.data[t]=yx(e,a,n,t,r,i);return vx(e,l,o,s),l}function vx(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function yx(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return JS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var hz=new RegExp(`^(\\d+)*(${YM}|${ZM})*(.*)`);var _x=()=>null;function Uy(e,t){return _x(e,t)}var Cf=class{},Sl=class{},wf=class{resolveComponentFactory(t){throw Error(`No component factory found for ${Ge(t)}.`)}},Ei=class{static NULL=new wf},Di=class{},Yn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>Cx()}return e})();function Cx(){let e=ge(),t=Ct(),n=Yt(t.index,e);return(zn(n)?n:e)[Re]}var wx=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>null})}return e})();function $y(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=my(i,a);else if(o==2){let l=a,c=t[++s];r=my(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function G(e,t=q.Default){let n=ge();if(n===null)return b(e,t);let r=Ct();return r0(r,n,We(e),t)}function oC(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let[a,l]=Dx(e,n,s);Ix(e,t,n,a,o,l)}o!==null&&r!==null&&Ex(n,r,o)}function Ex(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new A(-301,!1);r.push(t[i],o)}}function Dx(e,t,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),yn(o)&&(r.push(o),bx(e,t,r.length-1));return Sr(t)?r.push(...n.slice(1)):r.push(...n),[r,i]}function bx(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Ix(e,t,n,r,i,o){for(let c=0;c<r.length;c++)lf(_l(n,t),e,r[c].type);Rx(n,e.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=F0(e,t,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Fo(n.mergedAttrs,u.hostAttrs),Tx(e,n,t,l,u),Nx(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}Sx(e,n,o)}function Sx(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;l=Hy(0,d.inputs,u,l,h),c=Hy(1,d.outputs,u,c,g);let v=l!==null&&s!==null&&!sh(t)?Mx(l,u,s):null;a.push(v)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function Hy(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a=o;if(i!==null){if(!i.hasOwnProperty(o))continue;a=i[o]}e===0?zy(r,n,a,o):zy(r,n,a,s)}return r}function zy(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Mx(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){let s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r??=[],r.push(s[a+1],n[i+1]);break}}i+=2}return r}function Tx(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=mi(i.type,!0)),s=new Dr(o,yn(i),G);e.blueprint[r]=s,n[r]=s,xx(e,t,r,F0(e,n,i.hostVars,Mr),i)}function xx(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;Ax(s)!=a&&s.push(a),s.push(n,r,o)}}function Ax(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function Nx(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;yn(t)&&(n[""]=e)}}function Rx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function sC(e,t,n,r,i,o,s,a){let l=t.consts,c=ml(l,s),u=vh(t,e,2,r,c);return o&&oC(t,n,u,ml(l,a),i),u.mergedAttrs=Fo(u.mergedAttrs,u.attrs),u.attrs!==null&&$y(u,u.attrs,!1),u.mergedAttrs!==null&&$y(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function aC(e,t){Z_(e,t),A_(t)&&e.queries.elementEnd(t)}var Ml=class extends Ei{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=_r(t);return new Lo(n,this.ngModule)}};function Ox(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Gl.SignalBased)!==0};return i&&(o.transform=i),o})}function kx(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function Px(e,t,n){let r=t instanceof Ne?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new sf(n,r):n}function Fx(e){let t=e.get(Di,null);if(t===null)throw new A(407,!1);let n=e.get(wx,null),r=e.get(wi,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function Lx(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return R0(t,n,n==="svg"?HS:n==="math"?zS:null)}var Lo=class extends Sl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){return Ox(this.componentDef.inputs)}get outputs(){return kx(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=fT(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){let o=X(null);try{let s=this.componentDef,a=r?["ng-version","19.1.7"]:hT(this.componentDef.selectors[0]),l=ah(0,null,null,1,0,null,null,null,null,[a],null),c=Px(s,i||this.ngModule,t),u=Fx(c),d=u.rendererFactory.createRenderer(null,s),f=r?ET(d,r,s.encapsulation,c):Lx(s,d),h=lh(null,l,null,512|P0(s),null,null,u,d,c,null,D0(f,c,!0));h[vn]=f,qf(h);let g=null;try{let v=sC(vn,l,h,"#host",()=>[this.componentDef],!0,0);f&&(k0(d,f,v),Ai(f,h)),U0(l,h,v),I0(l,v,h),aC(l,v),n!==void 0&&Vx(v,this.ngContentSelectors,n),g=Yt(v.index,h),h[vt]=g[vt],dh(l,h,null)}catch(v){throw g!==null&&pf(g),pf(h),v}finally{Qf()}return new Ef(this.componentType,h)}finally{X(o)}}},Ef=class extends Cf{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=F_(n[ne],vn),this.location=Hl(this._tNode,n),this.instance=Yt(this._tNode.index,n)[vt],this.hostView=this.changeDetectorRef=new br(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;uh(o[ne],o,i,t,n),this.previousInputValues.set(t,n);let s=Yt(this._tNode.index,o);mh(s,1)}}get injector(){return new vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Vx(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ri=(()=>{class e{static __NG_ELEMENT_ID__=jx}return e})();function jx(){let e=Ct();return Ux(e,ge())}var Bx=Ri,lC=class extends Bx{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Hl(this._hostTNode,this._hostLView)}get injector(){return new vr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Xf(this._hostTNode,this._hostLView);if(K_(t)){let n=yl(t,this._hostLView),r=vl(t),i=n[ne].data[r+8];return new vr(i,n)}else return new vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Wy(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Uy(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,jy(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!jS(t),a;if(s)a=n;else{let g=n||{};a=g.index,r=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let l=s?t:new Lo(_r(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let v=(s?c:this.parentInjector).get(Ne,null);v&&(o=v)}let u=_r(l.componentType??{}),d=Uy(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,jy(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(WS(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[qe],c=new lC(l,l[Pt],l[qe]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return ux(s,i,o,r),t.attachToViewContainerRef(),g_(Hd(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Wy(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=_f(this._lContainer,n);r&&(ll(Hd(this._lContainer),n),Q0(r[ne],r))}detach(t){let n=this._adjustIndex(t,-1),r=_f(this._lContainer,n);return r&&ll(Hd(this._lContainer),n)!=null?new br(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Wy(e){return e[hl]}function Hd(e){return e[hl]||(e[hl]=[])}function Ux(e,t){let n,r=t[e.index];return Cn(r)?n=r:(n=rC(r,t,null,e),t[e.index]=n,ch(t,n)),Hx(n,t,e,r),new lC(n,e,t)}function $x(e,t){let n=e[Re],r=n.createComment(""),i=Ft(t,e),o=n.parentNode(i);return bl(n,o,r,n.nextSibling(i),!1),r}var Hx=Gx,zx=()=>!1;function Wx(e,t,n){return zx(e,t,n)}function Gx(e,t,n,r){if(e[Cr])return;let i;n.type&8?i=Zt(r):i=$x(t,n),e[Cr]=i}var Gn=class{},Vo=class{};var Df=class extends Gn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Ml(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=y_(t);this._bootstrapComponents=A0(o.bootstrap),this._r3Injector=s0(t,n,[{provide:Gn,useValue:this},{provide:Ei,useValue:this.componentFactoryResolver},...r],Ge(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},bf=class extends Vo{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Df(this.moduleType,t,[])}};var Tl=class extends Gn{injector;componentFactoryResolver=new Ml(this);instance=null;constructor(t){super();let n=new Oo([...t.providers,{provide:Gn,useValue:this},{provide:Ei,useValue:this.componentFactoryResolver}],t.parent||$f(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function yh(e,t,n=null){return new Tl({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var qx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=E_(!1,n.type),i=r.length>0?yh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(b(Ne))})}return e})();function me(e){return Bo(()=>{let t=cC(e),n=W(E({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===g0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(qx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Kt.Emulated,styles:e.styles||pt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&xi("NgStandalone"),uC(n);let r=e.dependencies;return n.directiveDefs=Gy(r,!1),n.pipeDefs=Gy(r,!0),n.id=Xx(n),n})}function Qx(e){return _r(e)||__(e)}function Zx(e){return e!==null}function Et(e){return Bo(()=>({type:e.type,bootstrap:e.bootstrap||pt,declarations:e.declarations||pt,imports:e.imports||pt,exports:e.exports||pt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Yx(e,t){if(e==null)return yr;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=Gl.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function Kx(e){if(e==null)return yr;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ze(e){return Bo(()=>{let t=cC(e);return uC(t),t})}function cC(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||yr,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||pt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yx(e.inputs,t),outputs:Kx(e.outputs),debugInfo:null}}function uC(e){e.features?.forEach(t=>t(e))}function Gy(e,t){if(!e)return null;let n=t?C_:Qx;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Zx)}function Xx(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Jx(e){return Object.getPrototypeOf(e.prototype).constructor}function Tr(e){let t=Jx(e.type),n=!0,r=[e];for(;t;){let i;if(yn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new A(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=zd(e.inputs),s.declaredInputs=zd(e.declaredInputs),s.outputs=zd(e.outputs);let a=i.hostBindings;a&&iA(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&nA(e,l),c&&rA(e,c),eA(e,i),sS(e.outputs,i.outputs),yn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===Tr&&(n=!1)}}t=Object.getPrototypeOf(t)}tA(r)}function eA(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function tA(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Fo(i.hostAttrs,n=Fo(n,i.hostAttrs))}}function zd(e){return e===yr?{}:e===pt?[]:e}function nA(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function rA(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function iA(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function dC(e){return _h(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function oA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function _h(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function sA(e,t,n){return e[t]=n}function aA(e,t){return e[t]}function Go(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function lA(e,t,n,r,i,o,s,a,l){let c=t.consts,u=vh(t,e,4,s||null,a||null);Gf()&&oC(t,n,u,ml(c,l),z0),u.mergedAttrs=Fo(u.mergedAttrs,u.attrs),Z_(t,u);let d=u.tView=ah(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function cA(e,t,n,r,i,o,s,a,l,c){let u=n+vn,d=t.firstCreatePass?lA(u,t,e,r,i,o,s,a,l):t.data[u];Ho(d,!1);let f=uA(t,e,d,n);Yf()&&ph(t,e,f,d),Ai(f,e);let h=rC(f,e,f,d);return e[u]=h,ch(e,h),Wx(h,d,e),Hf(d)&&B0(t,e,d),l!=null&&$0(e,d,c),d}function Ue(e,t,n,r,i,o,s,a){let l=ge(),c=ot(),u=ml(c.consts,o);return cA(l,c,e,t,n,r,i,u,s,a),Ue}var uA=dA;function dA(e,t,n,r){return Kf(!0),t[Re].createComment("")}var Ch=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var fC=new S("");function xr(e){return!!e&&typeof e.then=="function"}function hC(e){return!!e&&typeof e.subscribe=="function"}var Zl=new S("");var pC=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(Zl,{optional:!0})??[];injector=C(Qe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=tt(this.injector,i);if(xr(o))n.push(o);else if(hC(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fA=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:()=>new If})}return e})(),If=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}},Yl=new S("");function hA(){Uv(()=>{throw new A(600,!1)})}function pA(e){return e.isBoundToModule}var gA=10;var yt=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(jM);afterRenderManager=C(XM);zonelessEnabled=C($l);rootEffectScheduler=C(fA);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new oe;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(Dn).hasPendingTasks.pipe(N(n=>!n));constructor(){C(zl,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(Ne);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Sl;if(!this._injector.get(pC).done){let f=!i&&w_(n),h=!1;throw new A(405,h)}let s;i?s=n:s=this._injector.get(Ei).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=pA(s)?void 0:this._injector.get(Gn),l=r||s.selector,c=s.create(Qe.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(fC,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),il(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(E0.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new A(101,!1);let n=X(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,X(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Di,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<gA;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)mA(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>jl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;il(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Yl,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>il(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new A(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function il(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function mA(e,t,n,r){if(!n&&!jl(e))return;J0(e,t,n&&!r?0:1)}function Kl(e,t,n,r){let i=ge(),o=Ul();if(Go(i,o,t)){let s=ot(),a=Zf();AT(a,i,e,t,n,r)}return Kl}function vA(e,t,n,r){return Go(e,Ul(),n)?t+kl(n)+r:Mr}function el(e,t){return e<<17|t<<2}function Ir(e){return e>>17&32767}function yA(e){return(e&2)==2}function _A(e,t){return e&131071|t<<17}function Sf(e){return e|2}function bi(e){return(e&131068)>>2}function Wd(e,t){return e&-131069|t<<2}function CA(e){return(e&1)===1}function Mf(e){return e|1}function wA(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Ir(s),l=bi(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Uo(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=Ir(e[a+1]);e[r+1]=el(f,a),f!==0&&(e[f+1]=Wd(e[f+1],r)),e[a+1]=_A(e[a+1],r)}else e[r+1]=el(a,0),a!==0&&(e[a+1]=Wd(e[a+1],r)),a=r;else e[r+1]=el(l,0),a===0?a=r:e[l+1]=Wd(e[l+1],r),l=r;c&&(e[r+1]=Sf(e[r+1])),qy(e,u,r,!0),qy(e,u,r,!1),EA(t,u,e,r,o),s=el(a,l),o?t.classBindings=s:t.styleBindings=s}function EA(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Uo(o,t)>=0&&(n[r+1]=Mf(n[r+1]))}function qy(e,t,n,r){let i=e[n+1],o=t===null,s=r?Ir(i):bi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];DA(l,t)&&(a=!0,e[s+1]=r?Mf(c):Sf(c)),s=r?Ir(c):bi(c)}a&&(e[n+1]=r?Sf(i):Mf(i))}function DA(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Uo(e,t)>=0:!1}function se(e,t,n){let r=ge(),i=Ul();if(Go(r,i,t)){let o=ot(),s=Zf();H0(o,s,r,e,t,r[Re],n,!1)}return se}function Qy(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";uh(e,n,o[s],s,r)}function wh(e,t){return bA(e,t,null,!0),wh}function bA(e,t,n,r){let i=ge(),o=ot(),s=sM(2);if(o.firstUpdatePass&&SA(o,e,s,r),t!==Mr&&Go(i,s,t)){let a=o.data[Mi()];NA(o,a,i,i[Re],e,i[s+1]=RA(t,n),r,s)}}function IA(e,t){return t>=e.expandoStartIndex}function SA(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Mi()],s=IA(e,n);OA(o,r)&&t===null&&!s&&(t=!1),t=MA(i,o,t,r),wA(i,o,t,n,s,r)}}function MA(e,t,n,r){let i=uM(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Gd(null,e,t,n,r),n=jo(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Gd(i,e,t,n,r),o===null){let l=TA(e,t,r);l!==void 0&&Array.isArray(l)&&(l=Gd(null,e,t,l[1],r),l=jo(l,t.attrs,r),xA(e,t,r,l))}else o=AA(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function TA(e,t,n){let r=n?t.classBindings:t.styleBindings;if(bi(r)!==0)return e[Ir(r)]}function xA(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Ir(i)]=r}function AA(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=jo(r,s,n)}return jo(r,t.attrs,n)}function Gd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=jo(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function jo(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),SS(e,s,n?!0:t[++o]))}return e===void 0?null:e}function NA(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=CA(c)?Zy(l,t,n,i,bi(c),s):void 0;if(!xl(u)){xl(o)||yA(c)&&(o=Zy(l,null,n,i,a,s));let d=P_(Mi(),n);YT(r,s,d,i,o)}}function Zy(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===Mr&&(f=d?pt:void 0);let h=d?Fd(f,r):u===r?f:void 0;if(c&&!xl(h)&&(h=Fd(l,r)),xl(h)&&(a=h,s))return a;let g=e[i+1];i=s?Ir(g):bi(g)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=Fd(l,r))}return a}function xl(e){return e!==void 0}function RA(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Ge(Wl(e)))),e}function OA(e,t){return(e.flags&(t?8:16))!==0}function p(e,t,n,r){let i=ge(),o=ot(),s=vn+e,a=i[Re],l=o.firstCreatePass?sC(s,o,i,t,z0,Gf(),n,r):o.data[s],c=kA(o,i,l,a,t,e);i[s]=c;let u=Hf(l);return Ho(l,!0),k0(a,c,l),!G0(l)&&Yf()&&ph(o,i,c,l),YS()===0&&Ai(c,i),KS(),u&&(B0(o,i,l),I0(o,l,i)),r!==null&&$0(i,l),p}function m(){let e=Ct();B_()?rM():(e=e.parent,Ho(e,!1));let t=e;eM(t)&&tM(),XS();let n=ot();return n.firstCreatePass&&aC(n,t),t.classesWithoutHost!=null&&vM(t)&&Qy(n,t,ge(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&yM(t)&&Qy(n,t,ge(),t.stylesWithoutHost,!1),m}function I(e,t,n,r){return p(e,t,n,r),m(),I}var kA=(e,t,n,r,i,o)=>(Kf(!0),R0(r,i,hM()));function Oi(){return ge()}var Al="en-US";var PA=Al;function FA(e){typeof e=="string"&&(PA=e.toLowerCase().replace(/_/g,"-"))}var LA=(e,t,n)=>{};function V(e,t,n,r){let i=ge(),o=ot(),s=Ct();return gC(o,i,i[Re],s,e,t,r),V}function VA(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[dl],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function gC(e,t,n,r,i,o,s){let a=Hf(r),c=e.firstCreatePass&&ZS(e),u=t[vt],d=QS(t),f=!0;if(r.type&3||s){let v=Ft(r,t),y=s?s(v):v,M=d.length,z=s?x=>s(Zt(x[r.index])):r.index,_=null;if(!s&&a&&(_=VA(e,t,i,r.index)),_!==null){let x=_.__ngLastListenerFn__||_;x.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1}else{o=Ky(r,t,u,o),LA(v,i,o);let x=n.listen(y,i,o);d.push(o,x),c&&c.push(i,z,M,M+1)}}else o=Ky(r,t,u,o);let h=r.outputs,g;if(f&&h!==null&&(g=h[i])){let v=g.length;if(v)for(let y=0;y<v;y+=2){let M=g[y],z=g[y+1],he=t[M][z].subscribe(o),He=d.length;d.push(o,he),c&&c.push(i,r.index,He,-(He+1))}}}function Yy(e,t,n,r){let i=X(null);try{return gt(6,t,n),n(r)!==!1}catch(o){return W0(e,o),!1}finally{gt(7,t,n),X(i)}}function Ky(e,t,n,r){return function i(o){if(o===Function)return r;let s=Sr(e)?Yt(e.index,t):t;mh(s,5);let a=Yy(t,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Yy(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Dt(e=1){return fM(e)}function D(e,t=""){let n=ge(),r=ot(),i=e+vn,o=r.firstCreatePass?vh(r,i,1,t,null):r.data[i],s=jA(r,n,o,t,e);n[i]=s,Yf()&&ph(r,n,s,o),Ho(o,!1)}var jA=(e,t,n,r,i)=>(Kf(!0),pT(t[Re],r));function qo(e){return Xl("",e,""),qo}function Xl(e,t,n){let r=ge(),i=vA(r,e,t,n);return i!==Mr&&BA(r,Mi(),i),Xl}function BA(e,t,n){let r=P_(t,e);gT(e[Re],r,n)}function Jl(e,t,n){h0(t)&&(t=t());let r=ge(),i=Ul();if(Go(r,i,t)){let o=ot(),s=Zf();H0(o,s,r,e,t,r[Re],n,!1)}return Jl}function Eh(e,t){let n=h0(e);return n&&e.set(t),n}function ec(e,t){let n=ge(),r=ot(),i=Ct();return gC(r,n,n[Re],i,e,t),ec}function UA(e,t,n){let r=ot();if(r.firstCreatePass){let i=yn(e);Tf(n,r.data,r.blueprint,i,!0),Tf(t,r.data,r.blueprint,i,!1)}}function Tf(e,t,n,r,i){if(e=We(e),Array.isArray(e))for(let o=0;o<e.length;o++)Tf(e[o],t,n,r,i);else{let o=ot(),s=ge(),a=Ct(),l=yi(e)?e:We(e.provide),c=I_(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(yi(e)||!e.multi){let h=new Dr(c,i,G),g=Qd(l,t,i?u:u+f,d);g===-1?(lf(_l(a,s),o,l),qd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[g]=h,s[g]=h)}else{let h=Qd(l,t,u+f,d),g=Qd(l,t,u,u+f),v=h>=0&&n[h],y=g>=0&&n[g];if(i&&!y||!i&&!v){lf(_l(a,s),o,l);let M=zA(i?HA:$A,n.length,i,r,c);!i&&y&&(n[g].providerFactory=M),qd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(M),s.push(M)}else{let M=mC(n[i?g:h],c,!i&&r);qd(o,e,h>-1?h:g,M)}!i&&r&&y&&n[g].componentProviders++}}}function qd(e,t,n,r){let i=yi(t),o=RS(t);if(i||o){let l=(o?We(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function mC(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qd(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function $A(e,t,n,r){return xf(this.multi,[])}function HA(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Cl(n,n[ne],this.providerFactory.index,r);o=a.slice(0,s),xf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],xf(i,o);return o}function xf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function zA(e,t,n,r,i){let o=new Dr(e,n,G);return o.multi=[],o.index=t,o.componentProviders=0,mC(o,i,r&&!n),o}function tc(e,t=[]){return n=>{n.providersResolver=(r,i)=>UA(r,i?i(e):e,t)}}function vC(e,t,n){let r=iM()+e,i=ge();return i[r]===Mr?sA(i,r,n?t.call(n):t()):aA(i,r)}var qn=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}};var Af=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Dh=(()=>{class e{compileModuleSync(n){return new bf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=y_(n),o=A0(i.declarations).reduce((s,a)=>{let l=_r(a);return l&&s.push(new Lo(l)),s},[]);return new Af(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var WA=(()=>{class e{zone=C(J);changeDetectionScheduler=C(wi);applicationRef=C(yt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),GA=new S("",{factory:()=>!1});function yC({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new J(W(E({},CC()),{scheduleInRootZone:n})),[{provide:J,useFactory:e},{provide:vi,multi:!0,useFactory:()=>{let r=C(WA,{optional:!0});return()=>r.initialize()}},{provide:vi,multi:!0,useFactory:()=>{let r=C(qA);return()=>{r.initialize()}}},t===!0?{provide:l0,useValue:!0}:[],{provide:c0,useValue:n??a0}]}function _C(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=yC({ngZoneFactory:()=>{let i=CC(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&xi("NgZone_CoalesceEvent"),new J(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Qn([{provide:GA,useValue:!0},{provide:$l,useValue:!1},r])}function CC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var qA=(()=>{class e{subscription=new Ce;initialized=!1;zone=C(J);pendingTasks=C(Dn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{J.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{J.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var QA=(()=>{class e{appRef=C(yt);taskService=C(Dn);ngZone=C(J);zonelessEnabled=C($l);tracing=C(zl,{optional:!0});disableScheduling=C(l0,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ce;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(El):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(c0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof hf||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Ny:u0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(El+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ny(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ZA(){return typeof $localize<"u"&&$localize.locale||Al}var bh=new S("",{providedIn:"root",factory:()=>C(bh,q.Optional|q.SkipSelf)||ZA()});var Nf=new S(""),YA=new S("");function To(e){return!e.moduleRef}function KA(e){let t=To(e)?e.r3Injector:e.moduleRef.injector,n=t.get(J);return n.run(()=>{To(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Wn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),To(e)){let o=()=>t.destroy(),s=e.platformInjector.get(Nf);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(Nf);s.add(o),e.moduleRef.onDestroy(()=>{il(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return JA(r,n,()=>{let o=t.get(pC);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(bh,Al);if(FA(s||Al),!t.get(YA,!0))return To(e)?t.get(yt):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(To(e)){let l=t.get(yt);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return XA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function XA(e,t){let n=e.injector.get(yt);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new A(-403,!1);t.push(e)}function JA(e,t,n){try{let r=n();return xr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var ol=null;function eN(e=[],t){return Qe.create({name:t,providers:[{provide:Ll,useValue:"platform"},{provide:Nf,useValue:new Set([()=>ol=null])},...e]})}function tN(e=[]){if(ol)return ol;let t=eN(e);return ol=t,hA(),nN(t),t}function nN(e){let t=e.get(rh,null);tt(e,()=>{t?.forEach(n=>n())})}function Kn(){return!1}var Ar=(()=>{class e{static __NG_ELEMENT_ID__=rN}return e})();function rN(e){return iN(Ct(),ge(),(e&16)===16)}function iN(e,t,n){if(Sr(e)&&!n){let r=Yt(e.index,t);return new br(r,r)}else if(e.type&175){let r=t[Qt];return new br(r,t)}return null}var Rf=class{constructor(){}supports(t){return dC(t)}create(t){return new Of(t)}},oN=(e,t)=>t,Of=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||oN}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Xy(r,i,o)?n:r,a=Xy(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,g=h+f;u<=g&&g<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!dC(t))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,oA(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new kf(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new Nl),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},kf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Pf=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Nl=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Pf,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xy(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Ff=class{constructor(){}supports(t){return t instanceof Map||_h(t)}create(){return new Lf}},Lf=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||_h(t)))throw new A(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Vf(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},Vf=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function Jy(){return new Ih([new Rf])}var Ih=(()=>{class e{factories;static \u0275prov=T({token:e,providedIn:"root",factory:Jy});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Jy()),deps:[[e,new p_,new Fl]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new A(901,!1)}}return e})();function e_(){return new Sh([new Ff])}var Sh=(()=>{class e{static \u0275prov=T({token:e,providedIn:"root",factory:e_});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||e_()),deps:[[e,new p_,new Fl]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new A(901,!1)}}return e})();function wC(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=tN(r),o=[yC({}),{provide:wi,useExisting:QA},...n||[]],s=new Tl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return KA({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function nc(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Qo(e,t){xi("NgSignals");let n=Vv(e);return t?.equal&&(n[rt].equal=t.equal),n}function In(e){let t=X(null);try{return e()}finally{X(t)}}var t_=class{[rt];constructor(t){this[rt]=t}destroy(){this[rt].destroy()}};var MC=null;function Sn(){return MC}function TC(e){MC??=e}var rc=class{};var nt=new S(""),xC=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>C(aN),providedIn:"platform"})}return e})();var aN=(()=>{class e extends xC{_location;_history;_doc=C(nt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sn().getBaseHref(this._doc)}onPopState(n){let r=Sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function AC(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function EC(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Nr(e){return e&&e[0]!=="?"?`?${e}`:e}var ic=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>C(NC),providedIn:"root"})}return e})(),lN=new S(""),NC=(()=>{class e extends ic{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return AC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Nr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(b(xC),b(lN,8))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Zo=(()=>{class e{_subject=new oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=dN(EC(DC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Nr(r))}normalize(n){return e.stripTrailingSlash(uN(this._basePath,DC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Nr;static joinWithSlash=AC;static stripTrailingSlash=EC;static \u0275fac=function(r){return new(r||e)(b(ic))};static \u0275prov=T({token:e,factory:()=>cN(),providedIn:"root"})}return e})();function cN(){return new Zo(b(ic))}function uN(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function DC(e){return e.replace(/\/index.html$/,"")}function dN(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function oc(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var Mh=/\s+/,bC=[],RC=(()=>{class e{_ngEl;_renderer;initialClasses=bC;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(Mh):bC}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Mh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Mh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(G(bn),G(Yn))};static \u0275dir=Ze({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var Th=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sc=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Th(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),IC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);IC(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(G(Ri),G(Ql),G(Ih))};static \u0275dir=Ze({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function IC(e,t){e.context.$implicit=t.item}var OC=(()=>{class e{_viewContainer;_context=new xh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){SC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){SC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(G(Ri),G(Ql))};static \u0275dir=Ze({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),xh=class{$implicit=null;ngIf=null};function SC(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Ge(t)}'.`)}var kC=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Xt.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(G(bn),G(Sh),G(Yn))};static \u0275dir=Ze({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();var Yo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Et({type:e});static \u0275inj=_t({})}return e})(),PC="browser",fN="server";function Ko(e){return e===fN}var ki=class{};var Jo=class{},lc=class{},Rr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var Rh=class{encodeKey(t){return FC(t)}encodeValue(t){return FC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function hN(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var pN=/%(\d[a-f0-9])/gi,gN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FC(e){return encodeURIComponent(e).replace(pN,(t,n)=>gN[n]??t)}function ac(e){return`${e}`}var Xn=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new Rh,t.fromString){if(t.fromObject)throw new A(2805,!1);this.map=hN(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(ac):[ac(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(ac(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(ac(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Oh=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function mN(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function LC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function VC(e){return typeof Blob<"u"&&e instanceof Blob}function jC(e){return typeof FormData<"u"&&e instanceof FormData}function vN(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var BC="Content-Type",UC="Accept",zC="X-Request-URL",WC="text/plain",GC="application/json",yN=`${GC}, ${WC}, */*`,Xo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(mN(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Rr,this.context??=new Oh,!this.params)this.params=new Xn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||LC(this.body)||VC(this.body)||jC(this.body)||vN(this.body)?this.body:this.body instanceof Xn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||jC(this.body)?null:VC(this.body)?this.body.type||null:LC(this.body)?null:typeof this.body=="string"?WC:this.body instanceof Xn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?GC:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new e(n,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Pi=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Pi||{}),es=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Rr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},kh=class e extends es{constructor(t={}){super(t)}type=Pi.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},cc=class e extends es{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Pi.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},uc=class extends es{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},_N=200,CN=204;function Nh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var wN=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Xo)o=n;else{let l;i.headers instanceof Rr?l=i.headers:l=new Rr(i.headers);let c;i.params&&(i.params instanceof Xn?c=i.params:c=new Xn({fromObject:i.params})),o=new Xo(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=k(o).pipe(Bn(l=>this.handler.handle(l)));if(n instanceof Xo||i.observe==="events")return s;let a=s.pipe(Se(l=>l instanceof cc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(N(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new A(2806,!1);return l.body}));case"blob":return a.pipe(N(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new A(2807,!1);return l.body}));case"text":return a.pipe(N(l=>{if(l.body!==null&&typeof l.body!="string")throw new A(2808,!1);return l.body}));case"json":default:return a.pipe(N(l=>l.body))}case"response":return a;default:throw new A(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Xn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Nh(i,r))}post(n,r,i={}){return this.request("POST",n,Nh(i,r))}put(n,r,i={}){return this.request("PUT",n,Nh(i,r))}static \u0275fac=function(r){return new(r||e)(b(Jo))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();var EN=new S("");function DN(e,t){return t(e)}function bN(e,t,n){return(r,i)=>tt(n,()=>t(r,o=>e(o,i)))}var qC=new S(""),IN=new S(""),SN=new S("",{providedIn:"root",factory:()=>!0});var $C=(()=>{class e extends Jo{backend;injector;chain=null;pendingTasks=C(Dn);contributeToStability=C(SN);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(qC),...this.injector.get(IN,[])]));this.chain=r.reduceRight((i,o)=>bN(i,o,this.injector),DN)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(mr(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(b(lc),b(Ne))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();var MN=/^\)\]\}',?\n/,TN=RegExp(`^${zC}:`,"m");function xN(e){return"responseURL"in e&&e.responseURL?e.responseURL:TN.test(e.getAllResponseHeaders())?e.getResponseHeader(zC):null}var HC=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new A(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ae(r.\u0275loadImpl()):k(null)).pipe(le(()=>new L(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((v,y)=>s.setRequestHeader(v,y.join(","))),n.headers.has(UC)||s.setRequestHeader(UC,yN),!n.headers.has(BC)){let v=n.detectContentTypeHeader();v!==null&&s.setRequestHeader(BC,v)}if(n.responseType){let v=n.responseType.toLowerCase();s.responseType=v!=="json"?v:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let v=s.statusText||"OK",y=new Rr(s.getAllResponseHeaders()),M=xN(s)||n.url;return l=new kh({headers:y,status:s.status,statusText:v,url:M}),l},u=()=>{let{headers:v,status:y,statusText:M,url:z}=c(),_=null;y!==CN&&(_=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=_?_N:0);let x=y>=200&&y<300;if(n.responseType==="json"&&typeof _=="string"){let he=_;_=_.replace(MN,"");try{_=_!==""?JSON.parse(_):null}catch(He){_=he,x&&(x=!1,_={error:He,text:_})}}x?(o.next(new cc({body:_,headers:v,status:y,statusText:M,url:z||void 0})),o.complete()):o.error(new uc({error:_,headers:v,status:y,statusText:M,url:z||void 0}))},d=v=>{let{url:y}=c(),M=new uc({error:v,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(M)},f=!1,h=v=>{f||(o.next(c()),f=!0);let y={type:Pi.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),n.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},g=v=>{let y={type:Pi.UploadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),o.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),o.next({type:Pi.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(b(ki))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),QC=new S(""),AN="XSRF-TOKEN",NN=new S("",{providedIn:"root",factory:()=>AN}),RN="X-XSRF-TOKEN",ON=new S("",{providedIn:"root",factory:()=>RN}),dc=class{},kN=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=oc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(b(nt),b(wt),b(NN))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function PN(e,t){let n=e.url.toLowerCase();if(!C(QC)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=C(dc).getToken(),i=C(ON);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function ZC(...e){let t=[wN,HC,$C,{provide:Jo,useExisting:$C},{provide:lc,useFactory:()=>C(EN,{optional:!0})??C(HC)},{provide:qC,useValue:PN,multi:!0},{provide:QC,useValue:!0},{provide:dc,useClass:kN}];for(let n of e)t.push(...n.\u0275providers);return Qn(t)}var Fh=class extends rc{supportsDOMEvents=!0},Lh=class e extends Fh{static makeCurrent(){TC(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=FN();return n==null?null:LN(n)}resetBaseElement(){ts=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return oc(document.cookie,t)}},ts=null;function FN(){return ts=ts||document.querySelector("base"),ts?ts.getAttribute("href"):null}function LN(e){return new URL(e,document.baseURI).pathname}var VN=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Vh=new S(""),tw=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new A(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(b(Vh),b(J))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),hc=class{_doc;constructor(t){this._doc=t}manager},fc="ng-app-id";function YC(e){for(let t of e)t.remove()}function KC(e,t){let n=t.createElement("style");return n.textContent=e,n}function jN(e,t,n,r){let i=e.head?.querySelectorAll(`style[${fc}="${t}"],link[${fc}="${t}"]`);if(i)for(let o of i)o.removeAttribute(fc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function jh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var nw=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Ko(o),jN(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,KC);r?.forEach(i=>this.addUsage(i,this.external,jh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(YC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])YC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,KC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,jh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(fc,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(b(nt),b(nh),b(ih,8),b(wt))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),Ph={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uh=/%COMP%/g;var rw="%COMP%",BN=`_nghost-${rw}`,UN=`_ngcontent-${rw}`,$N=!0,HN=new S("",{providedIn:"root",factory:()=>$N});function zN(e){return UN.replace(Uh,e)}function WN(e){return BN.replace(Uh,e)}function iw(e,t){return t.map(n=>n.replace(Uh,e))}var XC=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Ko(a),this.defaultRenderer=new ns(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Kt.ShadowDom&&(r=W(E({},r),{encapsulation:Kt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof pc?i.applyToHost(n):i instanceof rs&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Kt.Emulated:o=new pc(l,c,r,this.appId,u,s,a,d,f);break;case Kt.ShadowDom:return new Bh(l,c,n,r,s,a,this.nonce,d,f);default:o=new rs(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(b(tw),b(nw),b(nh),b(HN),b(nt),b(wt),b(J),b(ih),b(zl,8))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),ns=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Ph[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(JC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(JC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new A(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Ph[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Ph[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Xt.DashCase|Xt.Important)?t.style.setProperty(n,r,i&Xt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Xt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Sn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function JC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Bh=class extends ns{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=iw(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=jh(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},rs=class extends ns{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?iw(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},pc=class extends rs{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=zN(u),this.hostAttr=WN(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},GN=(()=>{class e extends hc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(b(nt))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),ew=["alt","control","meta","shift"],qN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ZN=(()=>{class e extends hc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),ew.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=qN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),ew.forEach(s=>{if(s!==i){let a=QN[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(b(nt))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();function ow(e,t){return wC(E({rootComponent:e},YN(t)))}function YN(e){return{appProviders:[...tR,...e?.providers??[]],platformProviders:eR}}function KN(){Lh.makeCurrent()}function XN(){return new Wn}function JN(){return C0(document),document}var eR=[{provide:wt,useValue:PC},{provide:rh,useValue:KN,multi:!0},{provide:nt,useFactory:JN,deps:[]}];var tR=[{provide:Ll,useValue:"root"},{provide:Wn,useFactory:XN,deps:[]},{provide:Vh,useClass:GN,multi:!0,deps:[nt]},{provide:Vh,useClass:ZN,multi:!0,deps:[nt]},XC,nw,tw,{provide:Di,useExisting:XC},{provide:ki,useClass:VN,deps:[]},[]];var sw=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(b(nt))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var H="primary",_s=Symbol("RouteTitle"),Gh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ui(e){return new Gh(e)}function rR(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function iR(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Jt(e[n],t[n]))return!1;return!0}function Jt(e,t){let n=e?qh(e):void 0,r=t?qh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!pw(e[i],t[i]))return!1;return!0}function qh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function pw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function gw(e){return e.length>0?e[e.length-1]:null}function Jn(e){return bd(e)?e:xr(e)?ae(Promise.resolve(e)):k(e)}var oR={exact:vw,subset:yw},mw={exact:sR,subset:aR,ignored:()=>!0};function aw(e,t,n){return oR[n.paths](e.root,t.root,n.matrixParams)&&mw[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function sR(e,t){return Jt(e,t)}function vw(e,t,n){if(!kr(e.segments,t.segments)||!vc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!vw(e.children[r],t.children[r],n))return!1;return!0}function aR(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>pw(e[n],t[n]))}function yw(e,t,n){return _w(e,t,t.segments,n)}function _w(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!kr(i,n)||t.hasChildren()||!vc(i,n,r))}else if(e.segments.length===n.length){if(!kr(e.segments,n)||!vc(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!yw(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!kr(e.segments,i)||!vc(e.segments,i,r)||!e.children[H]?!1:_w(e.children[H],t,o,r)}}function vc(e,t,n){return t.every((r,i)=>mw[n](e[i].parameters,r.parameters))}var Tn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ce([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ui(this.queryParams),this._queryParamMap}toString(){return uR.serialize(this)}},ce=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yc(this)}},Or=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ui(this.parameters),this._parameterMap}toString(){return ww(this)}};function lR(e,t){return kr(e,t)&&e.every((n,r)=>Jt(n.parameters,t[r].parameters))}function kr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function cR(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===H&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==H&&(n=n.concat(t(i,r)))}),n}var _p=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>new cs,providedIn:"root"})}return e})(),cs=class{parse(t){let n=new Zh(t);return new Tn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${is(t.root,!0)}`,r=hR(t.queryParams),i=typeof t.fragment=="string"?`#${dR(t.fragment)}`:"";return`${n}${r}${i}`}},uR=new cs;function yc(e){return e.segments.map(t=>ww(t)).join("/")}function is(e,t){if(!e.hasChildren())return yc(e);if(t){let n=e.children[H]?is(e.children[H],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${is(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=cR(e,(r,i)=>i===H?[is(e.children[H],!1)]:[`${i}:${is(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[H]!=null?`${yc(e)}/${n[0]}`:`${yc(e)}/(${n.join("//")})`}}function Cw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gc(e){return Cw(e).replace(/%3B/gi,";")}function dR(e){return encodeURI(e)}function Qh(e){return Cw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _c(e){return decodeURIComponent(e)}function lw(e){return _c(e.replace(/\+/g,"%20"))}function ww(e){return`${Qh(e.path)}${fR(e.parameters)}`}function fR(e){return Object.entries(e).map(([t,n])=>`;${Qh(t)}=${Qh(n)}`).join("")}function hR(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${gc(n)}=${gc(i)}`).join("&"):`${gc(n)}=${gc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var pR=/^[^\/()?;#]+/;function $h(e){let t=e.match(pR);return t?t[0]:""}var gR=/^[^\/()?;=#]+/;function mR(e){let t=e.match(gR);return t?t[0]:""}var vR=/^[^=?&#]+/;function yR(e){let t=e.match(vR);return t?t[0]:""}var _R=/^[^&#]+/;function CR(e){let t=e.match(_R);return t?t[0]:""}var Zh=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[H]=new ce(t,n)),r}parseSegment(){let t=$h(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new A(4009,!1);return this.capture(t),new Or(_c(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=mR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=$h(this.remaining);i&&(r=i,this.capture(r))}t[_c(n)]=_c(r)}parseQueryParam(t){let n=yR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=CR(this.remaining);s&&(r=s,this.capture(r))}let i=lw(n),o=lw(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=$h(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new A(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=H);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[H]:new ce([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new A(4011,!1)}};function Ew(e){return e.segments.length>0?new ce([],{[H]:e}):e}function Dw(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=Dw(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ce(e.segments,t);return wR(n)}function wR(e){if(e.numberOfChildren===1&&e.children[H]){let t=e.children[H];return new ce(e.segments.concat(t.segments),t.children)}return e}function us(e){return e instanceof Tn}function ER(e,t,n=null,r=null){let i=bw(e);return Iw(i,t,n,r)}function bw(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new ce(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=Ew(r);return t??i}function Iw(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Hh(i,i,i,n,r);let o=DR(t);if(o.toRoot())return Hh(i,i,new ce([],{}),n,r);let s=bR(o,i,e),a=s.processChildren?ss(s.segmentGroup,s.index,o.commands):Mw(s.segmentGroup,s.index,o.commands);return Hh(i,s.segmentGroup,a,n,r)}function Cc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ds(e){return typeof e=="object"&&e!=null&&e.outlets}function Hh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=Sw(e,t,n);let a=Ew(Dw(s));return new Tn(a,o,i)}function Sw(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=Sw(o,t,n)}),new ce(e.segments,r)}var wc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Cc(r[0]))throw new A(4003,!1);let i=r.find(ds);if(i&&i!==gw(r))throw new A(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function DR(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new wc(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new wc(n,t,r)}var Vi=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function bR(e,t,n){if(e.isAbsolute)return new Vi(t,!0,0);if(!n)return new Vi(t,!1,NaN);if(n.parent===null)return new Vi(n,!0,0);let r=Cc(e.commands[0])?0:1,i=n.segments.length-1+r;return IR(n,i,e.numberOfDoubleDots)}function IR(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new A(4005,!1);i=r.segments.length}return new Vi(r,!1,i-o)}function SR(e){return ds(e[0])?e[0].outlets:{[H]:e}}function Mw(e,t,n){if(e??=new ce([],{}),e.segments.length===0&&e.hasChildren())return ss(e,t,n);let r=MR(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ce(e.segments.slice(0,r.pathIndex),{});return o.children[H]=new ce(e.segments.slice(r.pathIndex),e.children),ss(o,0,i)}else return r.match&&i.length===0?new ce(e.segments,{}):r.match&&!e.hasChildren()?Yh(e,t,n):r.match?ss(e,0,i):Yh(e,t,n)}function ss(e,t,n){if(n.length===0)return new ce(e.segments,{});{let r=SR(n),i={};if(Object.keys(r).some(o=>o!==H)&&e.children[H]&&e.numberOfChildren===1&&e.children[H].segments.length===0){let o=ss(e.children[H],t,n);return new ce(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Mw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ce(e.segments,i)}}function MR(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(ds(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!uw(l,c,s))return o;r+=2}else{if(!uw(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Yh(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ds(o)){let l=TR(o.outlets);return new ce(r,l)}if(i===0&&Cc(n[0])){let l=e.segments[t];r.push(new Or(l.path,cw(n[0]))),i++;continue}let s=ds(o)?o.outlets[H]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Cc(a)?(r.push(new Or(s,cw(a))),i+=2):(r.push(new Or(s,{})),i++)}return new ce(r,{})}function TR(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Yh(new ce([],{}),0,r))}),t}function cw(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function uw(e,t,n){return e==n.path&&Jt(t,n.parameters)}var as="imperative",je=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(je||{}),bt=class{id;url;constructor(t,n){this.id=t,this.url=n}},fs=class extends bt{type=je.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xn=class extends bt{urlAfterRedirects;type=je.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},at=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(at||{}),Kh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Kh||{}),Mn=class extends bt{reason;code;type=je.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pr=class extends bt{reason;code;type=je.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},hs=class extends bt{error;target;type=je.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ec=class extends bt{urlAfterRedirects;state;type=je.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xh=class extends bt{urlAfterRedirects;state;type=je.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class extends bt{urlAfterRedirects;state;shouldActivate;type=je.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ep=class extends bt{urlAfterRedirects;state;type=je.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tp=class extends bt{urlAfterRedirects;state;type=je.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},np=class{route;type=je.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rp=class{route;type=je.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ip=class{snapshot;type=je.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},op=class{snapshot;type=je.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sp=class{snapshot;type=je.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ap=class{snapshot;type=je.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ps=class{},$i=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function xR(e,t){return e.providers&&!e._injector&&(e._injector=yh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Lt(e){return e.outlet||H}function AR(e,t){let n=e.filter(r=>Lt(r)===t);return n.push(...e.filter(r=>Lt(r)!==t)),n}function Cs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var lp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Cs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new xc(this.rootInjector)}},xc=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new lp(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(b(Ne))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=cp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=cp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=up(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return up(t,this._root).map(n=>n.value)}};function cp(e,t){if(e===t.value)return t;for(let n of t.children){let r=cp(e,n);if(r)return r}return null}function up(e,t){if(e===t.value)return[t];for(let n of t.children){let r=up(e,n);if(r.length)return r.unshift(t),r}return[]}var st=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Li(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var bc=class extends Dc{snapshot;constructor(t,n){super(t),this.snapshot=n,Cp(this,t)}toString(){return this.snapshot.toString()}};function Tw(e){let t=NR(e),n=new Le([new Or("",{})]),r=new Le({}),i=new Le({}),o=new Le({}),s=new Le(""),a=new Hi(n,r,o,s,i,H,e,t.root);return a.snapshot=t.root,new bc(new st(a,[]),t)}function NR(e){let t={},n={},r={},i="",o=new ji([],t,r,i,n,H,e,null,{});return new Sc("",new st(o,[]))}var Hi=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(N(c=>c[_s]))??k(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(N(t=>Ui(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(N(t=>Ui(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ic(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:E(E({},t.params),e.params),data:E(E({},t.data),e.data),resolve:E(E(E(E({},e.data),t.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&Aw(i)&&(r.resolve[_s]=i.title),r}var ji=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[_s]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ui(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ui(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Sc=class extends Dc{url;constructor(t,n){super(n),this.url=t,Cp(this,n)}toString(){return xw(this._root)}};function Cp(e,t){t.value._routerState=e,t.children.forEach(n=>Cp(e,n))}function xw(e){let t=e.children.length>0?` { ${e.children.map(xw).join(", ")} } `:"";return`${e.value}${t}`}function zh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Jt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Jt(t.params,n.params)||e.paramsSubject.next(n.params),iR(t.url,n.url)||e.urlSubject.next(n.url),Jt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function dp(e,t){let n=Jt(e.params,t.params)&&lR(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||dp(e.parent,t.parent))}function Aw(e){return typeof e.title=="string"||e.title===null}var RR=new S(""),wp=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new Ve;deactivateEvents=new Ve;attachEvents=new Ve;detachEvents=new Ve;routerOutletData=f0(void 0);parentContexts=C(xc);location=C(Ri);changeDetector=C(Ar);inputBinder=C(Ep,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new A(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new A(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new A(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new A(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new fp(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Zn]})}return e})(),fp=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Hi?this.route:t===xc?this.childContexts:t===RR?this.outletData:this.parent.get(t,n)}},Ep=new S("");function OR(e,t,n){let r=gs(e,t._root,n?n._root:void 0);return new bc(r,t)}function gs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=kR(e,t,n);return new st(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>gs(e,a)),s}}let r=PR(t.value),i=t.children.map(o=>gs(e,o));return new st(r,i)}}function kR(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return gs(e,r,i);return gs(e,r)})}function PR(e){return new Hi(new Le(e.url),new Le(e.params),new Le(e.queryParams),new Le(e.fragment),new Le(e.data),e.outlet,e.component,e)}var ms=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},Nw="ngNavigationCancelingError";function Mc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=us(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Rw(!1,at.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Rw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[Nw]=!0,n.cancellationCode=t,n}function FR(e){return Ow(e)&&us(e.url)}function Ow(e){return!!e&&e[Nw]}var LR=(e,t,n,r)=>N(i=>(new hp(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),hp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),zh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Li(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Li(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Li(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Li(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ap(o.value.snapshot))}),t.children.length&&this.forwardEvent(new op(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(zh(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zh(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},Tc=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Bi=class{component;route;constructor(t,n){this.component=t,this.route=n}};function VR(e,t,n){let r=e._root,i=t?t._root:null;return os(r,i,n,[r.value])}function jR(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Wi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!a_(e)?e:t.get(e):r}function os(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Li(t);return e.children.forEach(s=>{BR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ls(a,n.getContext(s),i)),i}function BR(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=UR(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new Tc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?os(e,t,a?a.children:null,r,i):os(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Bi(a.outlet.component,s))}else s&&ls(t,a,i),i.canActivateChecks.push(new Tc(r)),o.component?os(e,null,a?a.children:null,r,i):os(e,null,n,r,i);return i}function UR(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!kr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!kr(e.url,t.url)||!Jt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dp(e,t)||!Jt(e.queryParams,t.queryParams);case"paramsChange":default:return!dp(e,t)}}function ls(e,t,n){let r=Li(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?ls(s,t.children.getContext(o),n):ls(s,null,n):ls(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Bi(t.outlet.component,i)):n.canDeactivateChecks.push(new Bi(null,i)):n.canDeactivateChecks.push(new Bi(null,i))}function ws(e){return typeof e=="function"}function $R(e){return typeof e=="boolean"}function HR(e){return e&&ws(e.canLoad)}function zR(e){return e&&ws(e.canActivate)}function WR(e){return e&&ws(e.canActivateChild)}function GR(e){return e&&ws(e.canDeactivate)}function qR(e){return e&&ws(e.canMatch)}function kw(e){return e instanceof pn||e?.name==="EmptyError"}var mc=Symbol("INITIAL_VALUE");function zi(){return le(e=>Qa(e.map(t=>t.pipe(Ae(1),Od(mc)))).pipe(N(t=>{for(let n of t)if(n!==!0){if(n===mc)return mc;if(n===!1||QR(n))return n}return!0}),Se(t=>t!==mc),Ae(1)))}function QR(e){return us(e)||e instanceof ms}function ZR(e,t){return ye(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?k(W(E({},n),{guardsResult:!0})):YR(s,r,i,e).pipe(ye(a=>a&&$R(a)?KR(r,o,e,t):k(a)),N(a=>W(E({},n),{guardsResult:a})))})}function YR(e,t,n,r){return ae(e).pipe(ye(i=>n1(i.component,i.route,n,t,r)),Rt(i=>i!==!0,!0))}function KR(e,t,n,r){return ae(t).pipe(Bn(i=>Gt(JR(i.route.parent,r),XR(i.route,r),t1(e,i.path,n),e1(e,i.route,n))),Rt(i=>i!==!0,!0))}function XR(e,t){return e!==null&&t&&t(new sp(e)),k(!0)}function JR(e,t){return e!==null&&t&&t(new ip(e)),k(!0)}function e1(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return k(!0);let i=r.map(o=>pr(()=>{let s=Cs(t)??n,a=Wi(o,s),l=zR(a)?a.canActivate(t,e):tt(s,()=>a(t,e));return Jn(l).pipe(Rt())}));return k(i).pipe(zi())}function t1(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>jR(s)).filter(s=>s!==null).map(s=>pr(()=>{let a=s.guards.map(l=>{let c=Cs(s.node)??n,u=Wi(l,c),d=WR(u)?u.canActivateChild(r,e):tt(c,()=>u(r,e));return Jn(d).pipe(Rt())});return k(a).pipe(zi())}));return k(o).pipe(zi())}function n1(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return k(!0);let s=o.map(a=>{let l=Cs(t)??i,c=Wi(a,l),u=GR(c)?c.canDeactivate(e,t,n,r):tt(l,()=>c(e,t,n,r));return Jn(u).pipe(Rt())});return k(s).pipe(zi())}function r1(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return k(!0);let o=i.map(s=>{let a=Wi(s,e),l=HR(a)?a.canLoad(t,n):tt(e,()=>a(t,n));return Jn(l)});return k(o).pipe(zi(),Pw(r))}function Pw(e){return vd(Me(t=>{if(typeof t!="boolean")throw Mc(e,t)}),N(t=>t===!0))}function i1(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return k(!0);let o=i.map(s=>{let a=Wi(s,e),l=qR(a)?a.canMatch(t,n):tt(e,()=>a(t,n));return Jn(l)});return k(o).pipe(zi(),Pw(r))}var vs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},ys=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Fi(e){return Vn(new vs(e))}function o1(e){return Vn(new A(4e3,!1))}function s1(e){return Vn(Rw(!1,at.GuardRejected))}var pp=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return k(r);if(i.numberOfChildren>1||!i.children[H])return o1(`${t.redirectTo}`);i=i.children[H]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:g,title:v}=i,y=tt(o,()=>a({params:h,data:g,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:v}));if(y instanceof Tn)throw new ys(y);n=y}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new ys(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Tn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new ce(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new A(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},gp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a1(e,t,n,r,i){let o=Fw(e,t,n);return o.matched?(r=xR(t,r),i1(r,t,n,i).pipe(N(s=>s===!0?o:E({},gp)))):k(o)}function Fw(e,t,n){if(t.path==="**")return l1(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?E({},gp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||rR)(n,e,t);if(!i)return E({},gp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function l1(e){return{matched:!0,parameters:e.length>0?gw(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function dw(e,t,n,r){return n.length>0&&d1(e,n,r)?{segmentGroup:new ce(t,u1(r,new ce(n,e.children))),slicedSegments:[]}:n.length===0&&f1(e,n,r)?{segmentGroup:new ce(e.segments,c1(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ce(e.segments,e.children),slicedSegments:n}}function c1(e,t,n,r){let i={};for(let o of n)if(Ac(e,t,o)&&!r[Lt(o)]){let s=new ce([],{});i[Lt(o)]=s}return E(E({},r),i)}function u1(e,t){let n={};n[H]=t;for(let r of e)if(r.path===""&&Lt(r)!==H){let i=new ce([],{});n[Lt(r)]=i}return n}function d1(e,t,n){return n.some(r=>Ac(e,t,r)&&Lt(r)!==H)}function f1(e,t,n){return n.some(r=>Ac(e,t,r))}function Ac(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function h1(e,t,n){return t.length===0&&!e.children[n]}var mp=class{};function p1(e,t,n,r,i,o,s="emptyOnly"){return new vp(e,t,n,r,i,s,o).recognize()}var g1=31,vp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new pp(this.urlSerializer,this.urlTree)}noMatchError(t){return new A(4002,`'${t.segmentGroup}'`)}recognize(){let t=dw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(N(({children:n,rootSnapshot:r})=>{let i=new st(r,n),o=new Sc("",i),s=ER(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new ji([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,H,n).pipe(N(r=>({children:r,rootSnapshot:n})),jn(r=>{if(r instanceof ys)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vs?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(N(s=>s instanceof st?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ae(o).pipe(Bn(s=>{let a=r.children[s],l=AR(n,s);return this.processSegmentGroup(t,l,a,s,i)}),ui((s,a)=>(s.push(...a),s)),Un(null),xd(),ye(s=>{if(s===null)return Fi(r);let a=Lw(s);return m1(a),k(a)}))}processSegment(t,n,r,i,o,s,a){return ae(n).pipe(Bn(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(jn(c=>{if(c instanceof vs)return k(null);throw c}))),Rt(l=>!!l),jn(l=>{if(kw(l))return h1(r,i,o)?k(new mp):Fi(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return Lt(r)!==s&&(s===H||!Ac(i,o,r))?Fi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):Fi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=Fw(n,i,o);if(!l)return Fi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>g1&&(this.allowRedirects=!1));let h=new ji(o,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,fw(i),Lt(i),i.component??i._loadedComponent??null,i,hw(i)),g=Ic(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(g.params),h.data=Object.freeze(g.data);let v=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,v).pipe(ye(y=>this.processSegment(t,r,n,y.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=a1(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(le(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(le(({routes:c})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=l,g=new ji(f,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,fw(r),Lt(r),r.component??r._loadedComponent??null,r,hw(r)),v=Ic(g,s,this.paramsInheritanceStrategy);g.params=Object.freeze(v.params),g.data=Object.freeze(v.data);let{segmentGroup:y,slicedSegments:M}=dw(n,f,h,c);if(M.length===0&&y.hasChildren())return this.processChildren(u,c,y,g).pipe(N(_=>new st(g,_)));if(c.length===0&&M.length===0)return k(new st(g,[]));let z=Lt(r)===o;return this.processSegment(u,c,y,M,z?H:o,!0,g).pipe(N(_=>new st(g,_ instanceof st?[_]:[])))}))):Fi(n)))}getChildConfig(t,n,r){return n.children?k({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?k({routes:n._loadedRoutes,injector:n._loadedInjector}):r1(t,n,r,this.urlSerializer).pipe(ye(i=>i?this.configLoader.loadChildren(t,n).pipe(Me(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):s1(n))):k({routes:[],injector:t})}};function m1(e){e.sort((t,n)=>t.value.outlet===H?-1:n.value.outlet===H?1:t.value.outlet.localeCompare(n.value.outlet))}function v1(e){let t=e.value.routeConfig;return t&&t.path===""}function Lw(e){let t=[],n=new Set;for(let r of e){if(!v1(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=Lw(r.children);t.push(new st(r.value,i))}return t.filter(r=>!n.has(r))}function fw(e){return e.data||{}}function hw(e){return e.resolve||{}}function y1(e,t,n,r,i,o){return ye(s=>p1(e,t,n,r,s.extractedUrl,i,o).pipe(N(({state:a,tree:l})=>W(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function _1(e,t){return ye(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return k(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Vw(l))s.add(c);let a=0;return ae(s).pipe(Bn(l=>o.has(l)?C1(l,r,e,t):(l.data=Ic(l,l.parent,e).resolve,k(void 0))),Me(()=>a++),ci(1),ye(l=>a===s.size?k(n):Be))})}function Vw(e){let t=e.children.map(n=>Vw(n)).flat();return[e,...t]}function C1(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!Aw(i)&&(o[_s]=i.title),w1(o,e,t,r).pipe(N(s=>(e._resolvedData=s,e.data=Ic(e,e.parent,n).resolve,null)))}function w1(e,t,n,r){let i=qh(e);if(i.length===0)return k({});let o={};return ae(i).pipe(ye(s=>E1(e[s],t,n,r).pipe(Rt(),Me(a=>{if(a instanceof ms)throw Mc(new cs,a);o[s]=a}))),ci(1),N(()=>o),jn(s=>kw(s)?Be:Vn(s)))}function E1(e,t,n,r){let i=Cs(t)??r,o=Wi(e,i),s=o.resolve?o.resolve(t,n):tt(i,()=>o(t,n));return Jn(s)}function Wh(e){return le(t=>{let n=e(t);return n?ae(n).pipe(N(()=>t)):k(t)})}var jw=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===H);return r}getResolvedTitleForRoute(n){return n.data[_s]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>C(D1),providedIn:"root"})}return e})(),D1=(()=>{class e extends jw{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(b(sw))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dp=new S("",{providedIn:"root",factory:()=>({})}),b1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=me({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&I(0,"router-outlet")},dependencies:[wp],encapsulation:2})}return e})();function bp(e){let t=e.children&&e.children.map(bp),n=t?W(E({},e),{children:t}):E({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=b1),n}var Ip=new S(""),I1=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(Dh);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return k(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Jn(n.loadComponent()).pipe(N(Bw),Me(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),mr(()=>{this.componentLoaders.delete(n)})),i=new Fn(r,()=>new oe).pipe(ti());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return k({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=S1(r,this.compiler,n,this.onLoadEndListener).pipe(mr(()=>{this.childrenLoaders.delete(r)})),s=new Fn(o,()=>new oe).pipe(ti());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function S1(e,t,n,r){return Jn(e.loadChildren()).pipe(N(Bw),ye(i=>i instanceof Vo||Array.isArray(i)?k(i):ae(t.compileModuleAsync(i))),N(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ip,[],{optional:!0,self:!0}).flat()),{routes:s.map(bp),injector:o}}))}function M1(e){return e&&typeof e=="object"&&"default"in e}function Bw(e){return M1(e)?e.default:e}var Sp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>C(T1),providedIn:"root"})}return e})(),T1=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),x1=new S("");var A1=new S(""),N1=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new oe;transitionAbortSubject=new oe;configLoader=C(I1);environmentInjector=C(Ne);destroyRef=C(zo);urlSerializer=C(_p);rootContexts=C(xc);location=C(Zo);inputBindingEnabled=C(Ep,{optional:!0})!==null;titleStrategy=C(jw);options=C(Dp,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(Sp);createViewTransition=C(x1,{optional:!0});navigationErrorHandler=C(A1,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>k(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new np(i)),r=i=>this.events.next(new rp(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(W(E(E({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Le({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:as,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Se(o=>o.id!==0),N(o=>W(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),le(o=>{let s=!1,a=!1;return k(o).pipe(le(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",at.SupersededByNewNavigation),Be;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?W(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Pr(l.id,this.urlSerializer.serialize(l.rawUrl),d,Kh.IgnoredSameUrlNavigation)),l.resolve(!1),Be}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return k(l).pipe(le(d=>{let f=this.transitions?.getValue();return this.events.next(new fs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Be:Promise.resolve(d)}),y1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=W(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Ec(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:g,extras:v}=l,y=new fs(d,this.urlSerializer.serialize(f),h,g);this.events.next(y);let M=Tw(this.rootComponentType).snapshot;return this.currentTransition=o=W(E({},l),{targetSnapshot:M,urlAfterRedirects:f,extras:W(E({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,k(o)}else{let d="";return this.events.next(new Pr(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Kh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Be}}),Me(l=>{let c=new Xh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),N(l=>(this.currentTransition=o=W(E({},l),{guards:VR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),ZR(this.environmentInjector,l=>this.events.next(l)),Me(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Mc(this.urlSerializer,l.guardsResult);let c=new Jh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Se(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",at.GuardRejected),!1)),Wh(l=>{if(l.guards.canActivateChecks.length)return k(l).pipe(Me(c=>{let u=new ep(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),le(c=>{let u=!1;return k(c).pipe(_1(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",at.NoDataFromResolver)}}))}),Me(c=>{let u=new tp(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Wh(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Me(f=>{u.component=f}),N(()=>{})));for(let f of u.children)d.push(...c(f));return d};return Qa(c(l.targetSnapshot.root)).pipe(Un(null),Ae(1))}),Wh(()=>this.afterPreactivation()),le(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ae(u).pipe(N(()=>o)):k(o)}),N(l=>{let c=OR(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=W(E({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Me(()=>{this.events.next(new ps)}),LR(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ae(1),Me({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),kd(this.transitionAbortSubject.pipe(Me(l=>{throw l}))),mr(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",at.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),jn(l=>{if(this.destroyed)return o.resolve(!1),Be;if(a=!0,Ow(l))this.events.next(new Mn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),FR(l)?this.events.next(new $i(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new hs(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof ms){let{message:d,cancellationCode:f}=Mc(this.urlSerializer,u);this.events.next(new Mn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new $i(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Be}))}))}cancelNavigationTransition(n,r,i){let o=new Mn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function R1(e){return e!==as}var O1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>C(k1),providedIn:"root"})}return e})(),yp=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},k1=(()=>{class e extends yp{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ti(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uw=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:()=>C(P1),providedIn:"root"})}return e})(),P1=(()=>{class e extends Uw{location=C(Zo);urlSerializer=C(_p);options=C(Dp,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=C(Sp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Tn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Tw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof fs)this.stateMemento=this.createStateMemento();else if(n instanceof Pr)this.rawUrlTree=r.initialUrl;else if(n instanceof Ec){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ps?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Mn&&(n.code===at.GuardRejected||n.code===at.NoDataFromResolver)?this.restoreHistory(r):n instanceof hs?this.restoreHistory(r,!0):n instanceof xn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Tn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ti(e)))(i||e)}})();static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function F1(e,t){e.events.pipe(Se(n=>n instanceof xn||n instanceof Mn||n instanceof hs||n instanceof Pr),N(n=>n instanceof xn||n instanceof Pr?0:(n instanceof Mn?n.code===at.Redirect||n.code===at.SupersededByNewNavigation:!1)?2:1),Se(n=>n!==2),Ae(1)).subscribe(()=>{t()})}var L1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},V1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},It=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(Ch);stateManager=C(Uw);options=C(Dp,{optional:!0})||{};pendingTasks=C(Dn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(N1);urlSerializer=C(_p);location=C(Zo);urlHandlingStrategy=C(Sp);_events=new oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(O1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(Ip,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(Ep,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ce;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mn&&r.code!==at.Redirect&&r.code!==at.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xn)this.navigated=!0;else if(r instanceof $i){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||R1(i.source)},s);this.scheduleNavigation(a,as,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}B1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),as,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(bp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=bw(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return Iw(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=us(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,as,null,r)}navigate(n,r={skipLocationChange:!1}){return j1(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=E({},L1):r===!1?i=E({},V1):i=r,us(n))return aw(this.currentUrlTree,n,i);let o=this.parseUrl(n);return aw(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return F1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function j1(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new A(4008,!1)}function B1(e){return!(e instanceof ps)&&!(e instanceof $i)}var U1=new S("");function $w(e,...t){return Qn([{provide:Ip,multi:!0,useValue:e},[],{provide:Hi,useFactory:$1,deps:[It]},{provide:Yl,multi:!0,useFactory:H1},t.map(n=>n.\u0275providers)])}function $1(e){return e.routerState.root}function H1(){let e=C(Qe);return t=>{let n=e.get(yt);if(t!==n.components[0])return;let r=e.get(It),i=e.get(z1);e.get(W1)===1&&r.initialNavigation(),e.get(G1,null,q.Optional)?.setUpPreloading(),e.get(U1,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var z1=new S("",{factory:()=>new oe}),W1=new S("",{providedIn:"root",factory:()=>1});var G1=new S("");var Qw={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},Ap={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},q1=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Nc={CSS:{},springs:{}};function en(e,t,n){return Math.min(Math.max(e,t),n)}function Ds(e,t){return e.indexOf(t)>-1}function Mp(e,t){return e.apply(null,t)}var P={arr:function(e){return Array.isArray(e)},obj:function(e){return Ds(Object.prototype.toString.call(e),"Object")},pth:function(e){return P.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||P.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return P.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return P.hex(e)||P.rgb(e)||P.hsl(e)},key:function(e){return!Qw.hasOwnProperty(e)&&!Ap.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function Zw(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function Yw(e,t){var n=Zw(e),r=en(P.und(n[0])?1:n[0],.1,100),i=en(P.und(n[1])?100:n[1],.1,100),o=en(P.und(n[2])?10:n[2],.1,100),s=en(P.und(n[3])?0:n[3],.1,100),a=Math.sqrt(i/r),l=o/(2*Math.sqrt(i*r)),c=l<1?a*Math.sqrt(1-l*l):0,u=1,d=l<1?(l*a+-s)/c:-s+a;function f(g){var v=t?t*g/1e3:g;return l<1?v=Math.exp(-v*l*a)*(u*Math.cos(c*v)+d*Math.sin(c*v)):v=(u+d*v)*Math.exp(-v*a),g===0||g===1?g:1-v}function h(){var g=Nc.springs[e];if(g)return g;for(var v=1/6,y=0,M=0;;)if(y+=v,f(y)===1){if(M++,M>=16)break}else M=0;var z=y*v*1e3;return Nc.springs[e]=z,z}return t?f:h}function Q1(e){return e===void 0&&(e=10),function(t){return Math.ceil(en(t,1e-6,1)*e)*(1/e)}}var Z1=function(){var e=11,t=1/(e-1);function n(u,d){return 1-3*d+3*u}function r(u,d){return 3*d-6*u}function i(u){return 3*u}function o(u,d,f){return((n(d,f)*u+r(d,f))*u+i(d))*u}function s(u,d,f){return 3*n(d,f)*u*u+2*r(d,f)*u+i(d)}function a(u,d,f,h,g){var v,y,M=0;do y=d+(f-d)/2,v=o(y,h,g)-u,v>0?f=y:d=y;while(Math.abs(v)>1e-7&&++M<10);return y}function l(u,d,f,h){for(var g=0;g<4;++g){var v=s(d,f,h);if(v===0)return d;var y=o(d,f,h)-u;d-=y/v}return d}function c(u,d,f,h){if(!(0<=u&&u<=1&&0<=f&&f<=1))return;var g=new Float32Array(e);if(u!==d||f!==h)for(var v=0;v<e;++v)g[v]=o(v*t,u,f);function y(M){for(var z=0,_=1,x=e-1;_!==x&&g[_]<=M;++_)z+=t;--_;var he=(M-g[_])/(g[_+1]-g[_]),He=z+he*t,De=s(He,u,f);return De>=.001?l(M,He,u,f):De===0?He:a(M,z,z+t,u,f)}return function(M){return u===d&&f===h||M===0||M===1?M:o(y(M),d,h)}}return c}(),Kw=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Expo:function(){return function(r){return r?Math.pow(2,10*r-10):0}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,o=4;r<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var o=en(r,1,10),s=en(i,.1,2);return function(a){return a===0||a===1?a:-o*Math.pow(2,10*(a-1))*Math.sin((a-1-s/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/s)}}},n=["Quad","Cubic","Quart","Quint"];return n.forEach(function(r,i){t[r]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(t).forEach(function(r){var i=t[r];e["easeIn"+r]=i,e["easeOut"+r]=function(o,s){return function(a){return 1-i(o,s)(1-a)}},e["easeInOut"+r]=function(o,s){return function(a){return a<.5?i(o,s)(a*2)/2:1-i(o,s)(a*-2+2)/2}},e["easeOutIn"+r]=function(o,s){return function(a){return a<.5?(1-i(o,s)(1-a*2))/2:(i(o,s)(a*2-1)+1)/2}}}),e}();function Np(e,t){if(P.fnc(e))return e;var n=e.split("(")[0],r=Kw[n],i=Zw(e);switch(n){case"spring":return Yw(e,t);case"cubicBezier":return Mp(Z1,i);case"steps":return Mp(Q1,i);default:return Mp(r,i)}}function Xw(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Rc(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(r,s,o,e)&&i.push(s)}return i}function Oc(e){return e.reduce(function(t,n){return t.concat(P.arr(n)?Oc(n):n)},[])}function Hw(e){return P.arr(e)?e:(P.str(e)&&(e=Xw(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function Rp(e,t){return e.some(function(n){return n===t})}function Op(e){var t={};for(var n in e)t[n]=e[n];return t}function Tp(e,t){var n=Op(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function kc(e,t){var n=Op(e);for(var r in t)n[r]=P.und(e[r])?t[r]:e[r];return n}function Y1(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function K1(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(a,l,c,u){return l+l+c+c+u+u}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),o=parseInt(r[2],16),s=parseInt(r[3],16);return"rgba("+i+","+o+","+s+",1)"}function X1(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,o=t[4]||1;function s(f,h,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?f+(h-f)*6*g:g<1/2?h:g<2/3?f+(h-f)*(2/3-g)*6:f}var a,l,c;if(r==0)a=l=c=i;else{var u=i<.5?i*(1+r):i+r-i*r,d=2*i-u;a=s(d,u,n+1/3),l=s(d,u,n),c=s(d,u,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+o+")"}function J1(e){if(P.rgb(e))return Y1(e);if(P.hex(e))return K1(e);if(P.hsl(e))return X1(e)}function An(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function eO(e){if(Ds(e,"translate")||e==="perspective")return"px";if(Ds(e,"rotate")||Ds(e,"skew"))return"deg"}function xp(e,t){return P.fnc(e)?e(t.target,t.id,t.total):e}function tn(e,t){return e.getAttribute(t)}function kp(e,t,n){var r=An(t);if(Rp([n,"deg","rad","turn"],r))return t;var i=Nc.CSS[t+n];if(!P.und(i))return i;var o=100,s=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(s),s.style.position="absolute",s.style.width=o+n;var l=o/s.offsetWidth;a.removeChild(s);var c=l*parseFloat(t);return Nc.CSS[t+n]=c,c}function Jw(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?kp(e,i,n):i}}function Pp(e,t){if(P.dom(e)&&!P.inp(e)&&(!P.nil(tn(e,t))||P.svg(e)&&e[t]))return"attribute";if(P.dom(e)&&Rp(q1,t))return"transform";if(P.dom(e)&&t!=="transform"&&Jw(e,t))return"css";if(e[t]!=null)return"object"}function eE(e){if(P.dom(e)){for(var t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(t);)r.set(i[1],i[2]);return r}}function tO(e,t,n,r){var i=Ds(t,"scale")?1:0+eO(t),o=eE(e).get(t)||i;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),r?kp(e,o,r):o}function Fp(e,t,n,r){switch(Pp(e,t)){case"transform":return tO(e,t,r,n);case"css":return Jw(e,t,n);case"attribute":return tn(e,t);default:return e[t]||0}}function Lp(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=An(e)||0,i=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function tE(e,t){if(P.col(e))return J1(e);if(/\s/g.test(e))return e;var n=An(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function Vp(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function nO(e){return Math.PI*2*tn(e,"r")}function rO(e){return tn(e,"width")*2+tn(e,"height")*2}function iO(e){return Vp({x:tn(e,"x1"),y:tn(e,"y1")},{x:tn(e,"x2"),y:tn(e,"y2")})}function nE(e){for(var t=e.points,n=0,r,i=0;i<t.numberOfItems;i++){var o=t.getItem(i);i>0&&(n+=Vp(r,o)),r=o}return n}function oO(e){var t=e.points;return nE(e)+Vp(t.getItem(t.numberOfItems-1),t.getItem(0))}function rE(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return nO(e);case"rect":return rO(e);case"line":return iO(e);case"polyline":return nE(e);case"polygon":return oO(e)}}function sO(e){var t=rE(e);return e.setAttribute("stroke-dasharray",t),t}function aO(e){for(var t=e.parentNode;P.svg(t)&&P.svg(t.parentNode);)t=t.parentNode;return t}function iE(e,t){var n=t||{},r=n.el||aO(e),i=r.getBoundingClientRect(),o=tn(r,"viewBox"),s=i.width,a=i.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function lO(e,t){var n=P.str(e)?Xw(e)[0]:e,r=t||100;return function(i){return{property:i,el:n,svg:iE(n),totalLength:rE(n)*(r/100)}}}function cO(e,t,n){function r(u){u===void 0&&(u=0);var d=t+u>=1?t+u:0;return e.el.getPointAtLength(d)}var i=iE(e.el,e.svg),o=r(),s=r(-1),a=r(1),l=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(e.property){case"x":return(o.x-i.x)*l;case"y":return(o.y-i.y)*c;case"angle":return Math.atan2(a.y-s.y,a.x-s.x)*180/Math.PI}}function zw(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=tE(P.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:P.str(e)||t?r.split(n):[]}}function jp(e){var t=e?Oc(P.arr(e)?e.map(Hw):Hw(e)):[];return Rc(t,function(n,r,i){return i.indexOf(n)===r})}function oE(e){var t=jp(e);return t.map(function(n,r){return{target:n,id:r,total:t.length,transforms:{list:eE(n)}}})}function uO(e,t){var n=Op(t);if(/^spring/.test(n.easing)&&(n.duration=Yw(n.easing)),P.arr(e)){var r=e.length,i=r===2&&!P.obj(e[0]);i?e={value:e}:P.fnc(t.duration)||(n.duration=t.duration/r)}var o=P.arr(e)?e:[e];return o.map(function(s,a){var l=P.obj(s)&&!P.pth(s)?s:{value:s};return P.und(l.delay)&&(l.delay=a?0:t.delay),P.und(l.endDelay)&&(l.endDelay=a===o.length-1?t.endDelay:0),l}).map(function(s){return kc(s,n)})}function dO(e){for(var t=Rc(Oc(e.map(function(o){return Object.keys(o)})),function(o){return P.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),n={},r=function(o){var s=t[o];n[s]=e.map(function(a){var l={};for(var c in a)P.key(c)?c==s&&(l.value=a[c]):l[c]=a[c];return l})},i=0;i<t.length;i++)r(i);return n}function fO(e,t){var n=[],r=t.keyframes;r&&(t=kc(dO(r),t));for(var i in t)P.key(i)&&n.push({name:i,tweens:uO(t[i],e)});return n}function hO(e,t){var n={};for(var r in e){var i=xp(e[r],t);P.arr(i)&&(i=i.map(function(o){return xp(o,t)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function pO(e,t){var n;return e.tweens.map(function(r){var i=hO(r,t),o=i.value,s=P.arr(o)?o[1]:o,a=An(s),l=Fp(t.target,e.name,a,t),c=n?n.to.original:l,u=P.arr(o)?o[0]:c,d=An(u)||An(l),f=a||d;return P.und(s)&&(s=c),i.from=zw(u,f),i.to=zw(Lp(s,u),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=Np(i.easing,i.duration),i.isPath=P.pth(o),i.isPathTargetInsideSVG=i.isPath&&P.svg(t.target),i.isColor=P.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var sE={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var o="";r.list.forEach(function(s,a){o+=a+"("+s+") "}),e.style.transform=o}}};function aE(e,t){var n=oE(e);n.forEach(function(r){for(var i in t){var o=xp(t[i],r),s=r.target,a=An(o),l=Fp(s,i,a,r),c=a||An(l),u=Lp(tE(o,c),l),d=Pp(s,i);sE[d](s,i,u,r.transforms,!0)}})}function gO(e,t){var n=Pp(e.target,t.name);if(n){var r=pO(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function mO(e,t){return Rc(Oc(e.map(function(n){return t.map(function(r){return gO(n,r)})})),function(n){return!P.und(n)})}function lE(e,t){var n=e.length,r=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map(function(o){return r(o)+o.duration})):t.duration,i.delay=n?Math.min.apply(Math,e.map(function(o){return r(o)+o.delay})):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map(function(o){return r(o)+o.duration-o.endDelay})):t.endDelay,i}var Ww=0;function vO(e){var t=Tp(Qw,e),n=Tp(Ap,e),r=fO(n,e),i=oE(e.targets),o=mO(i,r),s=lE(o,n),a=Ww;return Ww++,kc(t,{id:a,children:[],animatables:i,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}var Vt=[],cE=function(){var e;function t(){!e&&(!Gw()||!we.suspendWhenDocumentHidden)&&Vt.length>0&&(e=requestAnimationFrame(n))}function n(i){for(var o=Vt.length,s=0;s<o;){var a=Vt[s];a.paused?(Vt.splice(s,1),o--):(a.tick(i),s++)}e=s>0?requestAnimationFrame(n):void 0}function r(){we.suspendWhenDocumentHidden&&(Gw()?e=cancelAnimationFrame(e):(Vt.forEach(function(i){return i._onDocumentVisibility()}),cE()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function Gw(){return!!document&&document.hidden}function we(e){e===void 0&&(e={});var t=0,n=0,r=0,i,o=0,s=null;function a(_){var x=window.Promise&&new Promise(function(he){return s=he});return _.finished=x,x}var l=vO(e),c=a(l);function u(){var _=l.direction;_!=="alternate"&&(l.direction=_!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,i.forEach(function(x){return x.reversed=l.reversed})}function d(_){return l.reversed?l.duration-_:_}function f(){t=0,n=d(l.currentTime)*(1/we.speed)}function h(_,x){x&&x.seek(_-x.timelineOffset)}function g(_){if(l.reversePlayback)for(var he=o;he--;)h(_,i[he]);else for(var x=0;x<o;x++)h(_,i[x])}function v(_){for(var x=0,he=l.animations,He=he.length;x<He;){var De=he[x],ha=De.animatable,ur=De.tweens,qr=ur.length-1,be=ur[qr];qr&&(be=Rc(ur,function(EI){return _<EI.end})[0]||be);for(var pa=en(_-be.start-be.delay,0,be.duration)/be.duration,un=isNaN(pa)?1:be.easing(pa),ga=be.to.strings,Ku=be.round,Xu=[],wI=be.to.numbers.length,Qr=void 0,go=0;go<wI;go++){var mo=void 0,iv=be.to.numbers[go],ov=be.from.numbers[go]||0;be.isPath?mo=cO(be.value,un*iv,be.isPathTargetInsideSVG):mo=ov+un*(iv-ov),Ku&&(be.isColor&&go>2||(mo=Math.round(mo*Ku)/Ku)),Xu.push(mo)}var sv=ga.length;if(!sv)Qr=Xu[0];else{Qr=ga[0];for(var vo=0;vo<sv;vo++){var fV=ga[vo],av=ga[vo+1],Ju=Xu[vo];isNaN(Ju)||(av?Qr+=Ju+av:Qr+=Ju+" ")}}sE[De.type](ha.target,De.property,Qr,ha.transforms),De.currentValue=Qr,x++}}function y(_){l[_]&&!l.passThrough&&l[_](l)}function M(){l.remaining&&l.remaining!==!0&&l.remaining--}function z(_){var x=l.duration,he=l.delay,He=x-l.endDelay,De=d(_);l.progress=en(De/x*100,0,100),l.reversePlayback=De<l.currentTime,i&&g(De),!l.began&&l.currentTime>0&&(l.began=!0,y("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,y("loopBegin")),De<=he&&l.currentTime!==0&&v(0),(De>=He&&l.currentTime!==x||!x)&&v(x),De>he&&De<He?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,y("changeBegin")),y("change"),v(De)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,y("changeComplete")),l.currentTime=en(De,0,x),l.began&&y("update"),_>=x&&(n=0,M(),l.remaining?(t=r,y("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&u()):(l.paused=!0,l.completed||(l.completed=!0,y("loopComplete"),y("complete"),!l.passThrough&&"Promise"in window&&(s(),c=a(l)))))}return l.reset=function(){var _=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=_==="reverse",l.remaining=l.loop,i=l.children,o=i.length;for(var x=o;x--;)l.children[x].reset();(l.reversed&&l.loop!==!0||_==="alternate"&&l.loop===1)&&l.remaining++,v(l.reversed?l.duration:0)},l._onDocumentVisibility=f,l.set=function(_,x){return aE(_,x),l},l.tick=function(_){r=_,t||(t=r),z((r+(n-t))*we.speed)},l.seek=function(_){z(d(_))},l.pause=function(){l.paused=!0,f()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Vt.push(l),f(),cE())},l.reverse=function(){u(),l.completed=!l.reversed,f()},l.restart=function(){l.reset(),l.play()},l.remove=function(_){var x=jp(_);uE(x,l)},l.reset(),l.autoplay&&l.play(),l}function qw(e,t){for(var n=t.length;n--;)Rp(e,t[n].animatable.target)&&t.splice(n,1)}function uE(e,t){var n=t.animations,r=t.children;qw(e,n);for(var i=r.length;i--;){var o=r[i],s=o.animations;qw(e,s),!s.length&&!o.children.length&&r.splice(i,1)}!n.length&&!r.length&&t.pause()}function yO(e){for(var t=jp(e),n=Vt.length;n--;){var r=Vt[n];uE(t,r)}}function _O(e,t){t===void 0&&(t={});var n=t.direction||"normal",r=t.easing?Np(t.easing):null,i=t.grid,o=t.axis,s=t.from||0,a=s==="first",l=s==="center",c=s==="last",u=P.arr(e),d=parseFloat(u?e[0]:e),f=u?parseFloat(e[1]):0,h=An(u?e[1]:e)||0,g=t.start||0+(u?d:0),v=[],y=0;return function(M,z,_){if(a&&(s=0),l&&(s=(_-1)/2),c&&(s=_-1),!v.length){for(var x=0;x<_;x++){if(!i)v.push(Math.abs(s-x));else{var he=l?(i[0]-1)/2:s%i[0],He=l?(i[1]-1)/2:Math.floor(s/i[0]),De=x%i[0],ha=Math.floor(x/i[0]),ur=he-De,qr=He-ha,be=Math.sqrt(ur*ur+qr*qr);o==="x"&&(be=-ur),o==="y"&&(be=-qr),v.push(be)}y=Math.max.apply(Math,v)}r&&(v=v.map(function(un){return r(un/y)*y})),n==="reverse"&&(v=v.map(function(un){return o?un<0?un*-1:-un:Math.abs(y-un)}))}var pa=u?(f-d)/y:d;return g+pa*(Math.round(v[z]*100)/100)+h}}function CO(e){e===void 0&&(e={});var t=we(e);return t.duration=0,t.add=function(n,r){var i=Vt.indexOf(t),o=t.children;i>-1&&Vt.splice(i,1);function s(f){f.passThrough=!0}for(var a=0;a<o.length;a++)s(o[a]);var l=kc(n,Tp(Ap,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=P.und(r)?c:Lp(r,c),s(t),t.seek(l.timelineOffset);var u=we(l);s(u),o.push(u);var d=lE(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}we.version="3.2.1";we.speed=1;we.suspendWhenDocumentHidden=!0;we.running=Vt;we.remove=yO;we.get=Fp;we.set=aE;we.convertPx=kp;we.path=lO;we.setDashoffset=sO;we.stagger=_O;we.timeline=CO;we.easing=Np;we.penner=Kw;we.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var R=we;var Pc=class e{ngAfterViewInit(){R({targets:[".container-clouds",".sun"],top:"-300%",duration:0}),setTimeout(()=>{R({targets:".container-clouds",top:"10%",duration:2e3,easing:"easeInOutQuad"}),R({targets:".sun",top:"-50px",duration:2e3,easing:"easeInOutQuad"})},0);let t=()=>Math.random()*3e4+7e3,n=()=>Math.random()*500-250,r=()=>Math.random()*50-25;R({targets:".cloud_icon1",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),R({targets:".cloud_icon2",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),R({targets:".cloud_icon3",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),R({targets:".cloud_icon4",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),R({targets:".cloud_icon5",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),R({targets:".sun",translateX:[{value:"0px",duration:0},{value:"calc(100vw - 20px)",duration:65e3,easing:"easeInOutQuad"}],rotateZ:[{value:0,duration:0},{value:60,duration:63e3,easing:"easeInOutQuad"}]})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["sky-clouds"]],decls:6,vars:0,consts:[["src","assets/img/sol.png","alt","cloud",1,"sun"],[1,"container-clouds"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon1"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon3"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon4"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon5"]],template:function(n,r){n&1&&(I(0,"img",0),p(1,"div",1),I(2,"img",2)(3,"img",3)(4,"img",4)(5,"img",5),m())},styles:[".container-clouds[_ngcontent-%COMP%]{top:0;position:absolute;left:0;width:100%;height:100%}.cloud_icon1[_ngcontent-%COMP%], .cloud_icon2[_ngcontent-%COMP%], .cloud_icon3[_ngcontent-%COMP%], .cloud_icon4[_ngcontent-%COMP%], .cloud_icon5[_ngcontent-%COMP%]{position:absolute}.cloud_icon1[_ngcontent-%COMP%]{top:10%;left:5%;width:100px;opacity:.3}.cloud_icon2[_ngcontent-%COMP%]{top:20%;left:10%;width:200px;opacity:.8}.cloud_icon3[_ngcontent-%COMP%]{top:-3%;right:30%;width:150px;opacity:.5}.cloud_icon4[_ngcontent-%COMP%]{top:5%;right:-5%;width:140px;opacity:.6}.cloud_icon5[_ngcontent-%COMP%]{top:20%;right:15%;width:100px;opacity:.7}.sun[_ngcontent-%COMP%]{position:absolute;top:-50px;left:-60px;width:210px;opacity:1}@media (min-width: 768px){.cloud_icon1[_ngcontent-%COMP%]{top:1%;left:5%;width:150px}.cloud_icon2[_ngcontent-%COMP%]{top:10%;left:20%;width:220px}.cloud_icon3[_ngcontent-%COMP%]{top:-5%;right:35%;width:200px}.cloud_icon4[_ngcontent-%COMP%]{top:1%;right:-5%;width:180px}.cloud_icon5[_ngcontent-%COMP%]{top:13%;right:25%;width:100px;opacity:.6}}@media (min-width: 1024px){.cloud_icon1[_ngcontent-%COMP%]{top:-2%;left:5%;width:200px;opacity:.6}.cloud_icon2[_ngcontent-%COMP%]{top:10%;left:20%;width:270px}.cloud_icon3[_ngcontent-%COMP%]{top:-6%;right:35%;width:220px}.cloud_icon4[_ngcontent-%COMP%]{top:12%;right:15%;width:210px}.cloud_icon5[_ngcontent-%COMP%]{top:5%;right:5%;width:100px;opacity:.6}}"]})};var Fc=class e{constructor(t){this.router=t;this.currentOrientation=window.innerWidth>window.innerHeight?"landscape":"portrait"}currentOrientation;timeline;ngAfterViewInit(){return ue(this,null,function*(){this.checkScreenSizeAndRedirect(),this.timelineAnimations()})}timelineAnimations(){return ue(this,null,function*(){this.timeline=R.timeline({easing:"easeInOutElastic",duration:1500}),this.timeline.add({targets:".countryside",opacity:1,duration:3e3,easing:"easeInQuart"}).add({targets:".bush",opacity:1,easing:"easeInQuart"},"-=2000").add({targets:".msg1-1",bottom:["-200px","30px"],left:["190px","140px"],rotate:["90deg","-10deg"],opacity:[0,1],delay:500}).add({targets:".msg1-1",bottom:"-100px",left:"190px",rotate:"90deg",opacity:0,delay:2e3}).add({targets:".msg1-2",bottom:["-200px","40px"],left:["80px","30px"],rotate:["-90deg","10deg"],opacity:[0,1],delay:100}).add({targets:".msg1-3",bottom:["-200px","20px"],left:["230px","170px"],rotate:["90deg","-10deg"],opacity:[0,1],delay:500},"-=1000").add({delay:2500}).add({targets:".msg1-2, .msg1-3",bottom:"-200px",rotate:"-90deg",opacity:0,delay:R.stagger(200)}).add({targets:".msg1-4",bottom:["-200px","30px"],left:["190px","140px"],rotate:["90deg","-10deg"],opacity:[0,1]},"-=1000").add({targets:".msg1-4",bottom:"-100px",left:"190px",rotate:"90deg",opacity:0,delay:2e3}).add({targets:".bush",left:"-300px",easing:"easeInOutQuad",duration:2500}).add({targets:".countryside",left:"-550px",easing:"easeInOutQuad"},"-=1800").add({targets:".msg4",left:"130%",opacity:1,duration:8e3,easing:"linear"}).add({targets:".msg3",bottom:"140px",opacity:1,duration:500,easing:"easeInOutQuad"},"-=5000").add({targets:".msg3",bottom:"180px",scale:.1,opacity:0,duration:500,easing:"easeInOutQuad"}).add({targets:".countryside",left:"-950px",easing:"easeInOutQuad"}).add({targets:".msg5",bottom:"30%",opacity:1,duration:2e3,easing:"easeInOutQuad"}).add({targets:".msg6",right:"130%",duration:8e3,easing:"linear",delay:1e3},"-=2000").add({targets:".msg5",right:"100%",opacity:1,duration:1500,easing:"easeInOutQuad"}).add({targets:".countryside",left:"-1300px",easing:"easeInOutQuad",opacity:1},"-=1500").add({targets:".msg7",bottom:"80%",right:"100%",width:["40%","60%","30%"],duration:8e3,easing:"easeInOutSine"}).add({targets:".countryside",bottom:"-340px",easing:"easeInOutQuad",delay:7e3},"-=8000").add({targets:".party",top:"30%",scale:1,opacity:1,easing:"easeInOutQuad",duration:2e3},"-=1800").add({duration:2e3,complete:()=>{this.router.navigate(["/invitacion"])}}).finished})}onResize(){let t=window.innerWidth,n=window.innerHeight,r=t>n?"landscape":"portrait";r!==this.currentOrientation&&(this.currentOrientation=r,r==="portrait"&&window.location.reload())}checkScreenSizeAndRedirect(){window.innerWidth>=768&&this.router.navigate(["/invitacion"])}static \u0275fac=function(n){return new(n||e)(G(It))};static \u0275cmp=me({type:e,selectors:[["countryside"]],hostBindings:function(n,r){n&1&&V("resize",function(o){return r.onResize(o)},!1,T0)},decls:17,vars:0,consts:[[1,"container-inv"],["src","assets/img/countryside/countryside_bkg.png",1,"countryside"],["src","assets/img/countryside/msg1_1.png",1,"msg1-1","msg-rabbit"],["src","assets/img/countryside/msg1_2.png",1,"msg1-2","msg-rabbit"],["src","assets/img/countryside/msg1_3.png",1,"msg1-3","msg-rabbit"],["src","assets/img/countryside/msg1_4.png",1,"msg1-4","msg-rabbit"],["src","assets/img/countryside/bush.png",1,"bush"],["src","assets/img/countryside/msg3.png",1,"msg3"],["src","assets/img/countryside/msg4.png",1,"msg4"],["src","assets/img/countryside/msg5.png",1,"msg5"],["src","assets/img/countryside/msg6.png",1,"msg6"],["src","assets/img/countryside/msg7.png",1,"msg7"],[1,"d-flex","justify-content-center"],["src","assets/img/countryside/bautizo.png",1,"party"],[1,"rotate-screen"]],template:function(n,r){n&1&&(p(0,"div",0),I(1,"img",1)(2,"img",2)(3,"img",3)(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9)(10,"img",10)(11,"img",11),p(12,"div",12),I(13,"img",13),m()(),p(14,"div",14)(15,"p"),D(16,"Por favor voltea el dispositivo para continuar con la invitaci\xF3n"),m()())},styles:['@charset "UTF-8";.countryside[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:1920px;height:1080px;opacity:0}@media (max-width: 767px){.bush[_ngcontent-%COMP%]{position:absolute;bottom:-10px;left:20px;width:70%;transform:scaleX(-1);opacity:0}.countryside[_ngcontent-%COMP%]{position:absolute;bottom:-120px;left:-160px;opacity:0}.msg-rabbit[_ngcontent-%COMP%]{position:absolute;width:35%}.msg3[_ngcontent-%COMP%]{position:absolute;width:30%;bottom:160px;left:160px;opacity:0}.msg4[_ngcontent-%COMP%]{position:absolute;width:70%;top:30%;left:-70%}.msg5[_ngcontent-%COMP%]{position:absolute;width:70%;bottom:40%;right:0%;opacity:0}.msg6[_ngcontent-%COMP%]{position:absolute;width:70%;top:15%;right:-100%;opacity:1}.msg7[_ngcontent-%COMP%]{position:absolute;width:20%;bottom:100px;right:-20%;transform:rotate(10deg)}.party[_ngcontent-%COMP%]{position:absolute;top:50%;width:70%;opacity:0;transform:translate(-50%,-50%) scale(0)}}@media (min-width: 768px) and (max-width: 1024px){.countryside[_ngcontent-%COMP%]{position:absolute;bottom:300px;left:700px;width:1920px;height:1080px;opacity:0;transform:scale(2)}.container-inv[_ngcontent-%COMP%]{display:none;overflow:hidden;width:100%;height:100%}}@media (min-width: 1025px){.countryside[_ngcontent-%COMP%]{width:100%;height:100%;opacity:1}.container-inv[_ngcontent-%COMP%]{display:none}}.rotate-screen[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#f6d8d6;color:#000;text-align:center;justify-content:center;align-items:center;z-index:1000;overflow:hidden}@media (orientation: landscape){.rotate-screen[_ngcontent-%COMP%]{display:flex}}']})};function wO(e,t){if(e&1&&(p(0,"div",15),I(1,"img",16),m()),e&2){let n=t.$implicit;se("ngClass",n.className),ee(),se("src",n.src,Ni)("ngStyle",n.style)}}var Lc=class e{constructor(t){this.router=t}butterflies=[];maxButterflies=100;addButterfly(t){if(this.butterflies.length<this.maxButterflies){let r={name:".butterfly",className:`container_bfly${this.butterflies.length+1}`,src:"assets/svg/butterfly.svg",style:{top:`${t.clientY-100}px`,left:`${t.clientX}px`}};this.butterflies.push(r),setTimeout(()=>{this.animateButterfly(r)},100),setTimeout(()=>{R({targets:`.${r.className}`,opacity:0,duration:4e3,easing:"easeInBack",complete:()=>{let i=this.butterflies.indexOf(r);i>-1&&this.butterflies.splice(i,1)}})},5e3)}}animateButterfly(t){R({targets:`${t.name}`,scaleX:[{value:1.1,duration:200},{value:.9,duration:200},{value:1.1,duration:200},{value:1,duration:200}],scaleY:[{value:.9,duration:200},{value:1.1,duration:200},{value:.9,duration:200},{value:1,duration:200}],easing:"easeInOutSine",duration:800,loop:!0}),R({targets:`.${t.className}`,translateX:function(){return R.random(-200,200)},translateY:function(){return R.random(-200,200)},translateZ:function(){return R.random(-200,200)},easing:"easeInOutSine",duration:function(){return R.random(3e3,6e3)},direction:"alternate",loop:!0,delay:function(n,r,i){return R.random(0,1e3)},endDelay:function(n,r,i){return R.random(0,1e3)}})}clickCount=0;clickTimeout;onClick(t){this.clickCount++,clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout(()=>{this.clickCount=0},1e3),this.clickCount===15&&this.openModal()}openModal(){let t=document.getElementById("confirmModal");t.style.display="block",R({targets:"#confirmModal",scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}closeModal(){let t=document.getElementById("confirmModal");R({targets:"#confirmModal",scale:[1,0],opacity:[1,0],duration:300,easing:"easeOutQuad",oncomplete:()=>{t.style.display="none"}})}skipAnimation(){this.closeModal(),setTimeout(()=>{this.router.navigate(["/invitacion"])},1e3)}static \u0275fac=function(n){return new(n||e)(G(It))};static \u0275cmp=me({type:e,selectors:[["butterflies"]],hostBindings:function(n,r){n&1&&V("click",function(o){return r.onClick(o)},!1,x0)},decls:19,vars:1,consts:[[1,"butterfly-container",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],["id","confirmModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"margin","4rem"],[1,"modal-header"],["id","commentModalLabel",1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","text-center","mb-3"],["src","assets/svg/skip-forward.svg","alt","",2,"width","3.5rem"],[1,"col-12","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-modal",3,"click"],[3,"ngClass"],[1,"butterfly",3,"src","ngStyle"]],template:function(n,r){n&1&&(p(0,"div",0),V("click",function(o){return r.addButterfly(o)}),Ue(1,wO,2,3,"div",1),m(),p(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),D(7,"Omitir Animaci\xF3n"),m(),p(8,"button",7),V("click",function(){return r.closeModal()}),m()(),p(9,"div",8)(10,"div",9)(11,"div",10),I(12,"img",11),m(),p(13,"div",12)(14,"h2"),D(15,"\xBFOmitir animaci\xF3n y continuar a la invitaci\xF3n?"),m()()()(),p(16,"div",13)(17,"button",14),V("click",function(){return r.skipAnimation()}),D(18,"Continuar"),m()()()()()),n&2&&(ee(),se("ngForOf",r.butterflies))},dependencies:[Yo,RC,sc,kC],styles:[".butterfly[_ngcontent-%COMP%]{position:absolute;width:5%;pointer-events:none}.butterfly-container[_ngcontent-%COMP%]{width:100%;height:85vh;position:absolute;bottom:0}.btn-modal[_ngcontent-%COMP%]{background-color:#999ae8;height:35px;font-size:1.5rem;color:#fff}"]})};var Vc=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["app-bautizo"]],decls:4,vars:0,consts:[[1,"container-sky"]],template:function(n,r){n&1&&(p(0,"div",0),I(1,"countryside")(2,"sky-clouds")(3,"butterflies"),m())},dependencies:[Pc,Fc,Lc],encapsulation:2})};var jc=class e{constructor(t){this.router=t}ngAfterViewInit(){setTimeout(()=>{this.showContainerBlack()},1e3);let t=R({targets:"#loading_icon",scaleX:[{value:1.1,duration:200},{value:.9,duration:200},{value:1.1,duration:200},{value:1,duration:200}],scaleY:[{value:.9,duration:200},{value:1.1,duration:200},{value:.9,duration:200},{value:1,duration:200}],easing:"easeInOutSine",duration:800,loop:!0}),n=R({targets:".loading__icon",keyframes:Array.from({length:16},()=>({translateX:Math.random()*100-50,translateY:Math.random()*100-50,translateZ:Math.random()*80-40,opacity:[1,.8]})),easing:"easeInOutQuad",duration:15e3,loop:!0,direction:"alternate"});setTimeout(()=>{R({targets:".container-sky",backgroundColor:"#f6d8d6",duration:2e3,easing:"easeInOutSine"})},1500),setTimeout(()=>{n.pause(),R({targets:".loading__icon",translateX:0,translateY:0,duration:1e3,easing:"easeInOutSine",complete:()=>{R({targets:"#loading_icon",scale:.1,opacity:0,duration:2e3,easing:"easeInOutSine",complete:()=>{try{document.getElementById("loading_icon").style.display="none",this.router.navigate(["/bautizo"])}catch{}}})}})},15e3)}ngOnInit(){localStorage.getItem("entro")==="1"?this.router.navigate(["/invitacion"]):localStorage.setItem("entro","1")}showContainerBlack(){R({targets:".container-black",opacity:[0,.7],duration:1e3,easing:"easeInOutSine"})}static \u0275fac=function(n){return new(n||e)(G(It))};static \u0275cmp=me({type:e,selectors:[["app-loading"]],decls:8,vars:0,consts:[[1,"container-black"],[1,"bi","bi-arrow-up-right",2,"font-size","5rem"],[1,"container-sky"],[1,"loading"],[1,"loading__icon"],["id","loading_icon","src","assets/svg/butterfly.svg","alt",""]],template:function(n,r){n&1&&(p(0,"div",0),I(1,"i",1),p(2,"p"),D(3,"Elige si quieres reproducir el audio de la invitaci\xF3n"),m()(),p(4,"div",2)(5,"div",3)(6,"div",4),I(7,"img",5),m()()())},styles:[".loading[_ngcontent-%COMP%]{height:100vh;width:100vw;flex-direction:column;display:flex;justify-content:center;align-items:center}.loading__icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem}.loading__text[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.5rem;font-weight:700;color:#000}.container-black[_ngcontent-%COMP%]{opacity:0;position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000c;z-index:2;display:flex;flex-direction:column;justify-content:start;align-items:center;padding-top:25%}.container-black[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8rem;color:#fff}.container-black[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-size:2rem;color:#fff;text-align:center;padding-right:4rem;padding-left:4rem}"]})};var Bc=class e{flagHImage=0;imgHeader="assets/img/countryside/bautizo.png";isAnimating=!1;imgsHeader=["assets/img/countryside/bautizo.png","assets/img/countryside/party.png"];constructor(){}ngOnInit(){let t=document.querySelector(".container-info");t&&t.addEventListener("scroll",this.checkVisibility.bind(this))}isElementInViewport(t){let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}checkVisibility(){document.querySelectorAll(".view").forEach(n=>{if(this.isElementInViewport(n)){let i=n.getAttribute("data-id")==="ba"?this.imgsHeader[0]:this.imgsHeader[1];if(this.isAnimating||this.imgHeader===i)return;this.isAnimating=!0,R({targets:".header-img",top:"-50px",opacity:0,duration:300,easing:"easeInOutQuad",complete:()=>{this.imgHeader=i,R({targets:".header-img",top:"20px",opacity:1,duration:300,easing:"easeInOutQuad",complete:()=>{this.isAnimating=!1}})}})}})}ngAfterViewInit(){this.startAnimation()}startAnimation(){R.timeline({easing:"easeInOutQuad",duration:1e3}).add({targets:".header-img",top:"20px"}).add({targets:".card",translateX:[-1e3,0],duration:1e3,easing:"easeInOutQuad",delay:R.stagger(100)},"-=700")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["information"]],decls:93,vars:1,consts:[[1,"container-sky"],[1,"container-header"],[1,"header-img",3,"src"],[1,"container-info"],[1,"card","no-card"],[1,"card__content-h"],[1,"card__img"],[1,"img-content"],["src","assets/img/countryside/sofia.png","alt",""],[1,"card__text"],[1,"card__content-v"],[1,"card__title"],[1,"card__content"],["data-id","ba",1,"card","view"],[1,"card__img-aux-l"],[1,"card__footer"],[1,"card__btn-send"],[1,"card"],[1,"card__img-aux-r"],[1,"card","no-card","card__small"],["data-id","bi",1,"card","view"],[1,"footer-img"],["src","assets/img/countryside/footer.png",1,"party"]],template:function(n,r){n&1&&(p(0,"div",0)(1,"div",1),I(2,"img",2),m(),p(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),I(8,"img",8),m()(),p(9,"div",9),D(10," ANGELA SOFIA RAMIREZ MONTES "),m()()(),p(11,"div",4)(12,"div",10)(13,"div",11)(14,"h1"),D(15,"Mis Pap\xE1s"),m()(),p(16,"div",10)(17,"p"),D(18,"Minerva Victoria Montes Torres"),m(),p(19,"p"),D(20,"Jos\xE9 Manuel Ram\xEDrez Mej\xEDa"),m()()()(),p(21,"div",4)(22,"div",10)(23,"div",11)(24,"h1"),D(25,"Mi Madrina"),m()(),p(26,"div",12)(27,"p"),D(28,"Maria Jos\xE9 Ram\xEDrez Mej\xEDa"),m()()()(),p(29,"div",13)(30,"div",5),I(31,"div",14),p(32,"div",9)(33,"div",11)(34,"h1"),D(35,"Bautizo"),m()(),p(36,"p"),D(37,"Iglesia de la sagrada familia"),m(),I(38,"br"),p(39,"p"),D(40,"12 de Julio del 20205"),m(),I(41,"br"),p(42,"p"),D(43,"02:00 p.m."),m()()(),p(44,"div",15)(45,"button",16),D(46,"\xBFComo llegar?"),m()()(),p(47,"div",17)(48,"div",5)(49,"div",9)(50,"div",11)(51,"h1"),D(52,"Recepci\xF3n"),m()(),p(53,"p"),D(54,"Sal\xF3n de fiestas XYZ"),m(),I(55,"br"),p(56,"p"),D(57,"12 de Julio del 20205"),m(),I(58,"br"),p(59,"p"),D(60,"04:00 p.m."),m()(),I(61,"div",18),m(),p(62,"div",15)(63,"button",16),D(64,"\xBFComo llegar?"),m()()(),p(65,"div",19)(66,"div",12),D(67,' "En este d\xEDa especial, celebramos la llegada de un nuevo miembro a la familia de Dios. Que su bautizo marque el inicio de una vida llena de bendiciones, amor y sabidur\xEDa divina." '),m()(),p(68,"div",17)(69,"div",11),D(70," Falta para mi fiesta... "),m(),I(71,"div",12),m(),p(72,"div",20)(73,"div",11),D(74," Falta para mi cumplea\xF1os... "),m(),I(75,"div",12),m(),p(76,"div",19)(77,"div",12),D(78,' "En su primer a\xF1o de vida, una beb\xE9 es como una flor que comienza a abrirse al mundo, llena de pureza y asombro.Sus risas y logros nos muestran la belleza de la vida en cada peque\xF1o momento." '),m()(),p(79,"div",17)(80,"div",12)(81,"h1"),D(82,"Mesa de regalos"),m()()(),p(83,"div",17)(84,"div",12)(85,"h1"),D(86,"Anuncios"),m()()(),p(87,"div",17)(88,"div",12)(89,"h1"),D(90,"Deja un comentario"),m()()(),p(91,"div",21),I(92,"img",22),m()()()),n&2&&(ee(2),se("src",r.imgHeader,Ni))},styles:["h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.header-img[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%);width:300px;height:150px;z-index:1}.container-info[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 240px);position:absolute;z-index:0;overflow:auto;display:flex;flex-direction:column;align-items:stretch;gap:10px;bottom:0}.card[_ngcontent-%COMP%]{width:90%;background-color:#ededfd;flex-shrink:0;border-radius:20px;margin:5%;display:flex;flex-direction:column;box-shadow:0 15px 10px #00000080}.card__content-h[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.card__content-v[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.card__title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;width:100%}.card__small[_ngcontent-%COMP%]{height:100px}.card__img[_ngcontent-%COMP%]{flex:0 0 50%;display:flex;justify-content:center}.card__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}.card__text[_ngcontent-%COMP%]{flex:0 0 50%;display:flex;flex-direction:column;justify-content:center;padding:10px}.card__img-aux-l[_ngcontent-%COMP%]{background-image:url(/assets/img/countryside/church.jpg);background-repeat:no-repeat;background-size:300%;background-position:center;width:100%;height:100%;border-top-left-radius:20px}.card__img-aux-r[_ngcontent-%COMP%]{background-image:url(/assets/img/countryside/church.jpg);background-repeat:no-repeat;background-size:200%;background-position:center;width:100%;height:100%;border-top-right-radius:20px}.card__footer[_ngcontent-%COMP%]{width:100%}.card__btn-send[_ngcontent-%COMP%]{border-bottom-right-radius:20px;border-bottom-left-radius:20px;background-color:#f4b0e5;border:0;color:#fff;height:40px;width:100%}.no-card[_ngcontent-%COMP%]{background-color:#f6d8d6;box-shadow:none}.img-content[_ngcontent-%COMP%]{background-color:#ededfd;padding:5px;border-radius:20px}.footer-img[_ngcontent-%COMP%]{position:relative;margin-top:auto;width:100%;height:auto}.footer-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}"]})};var Fr=class{id;autor;comentario;fecha;constructor(t,n,r,i){this.id=t,this.autor=n,this.comentario=r,this.fecha=i}};var _E=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(G(Yn),G(bn))};static \u0275dir=Ze({type:e})}return e})(),EO=(()=>{class e extends _E{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ti(e)))(i||e)}})();static \u0275dir=Ze({type:e,features:[Tr]})}return e})(),CE=new S("");var DO={provide:CE,useExisting:Ii(()=>Wc),multi:!0};function bO(){let e=Sn()?Sn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var IO=new S(""),Wc=(()=>{class e extends _E{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!bO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(G(Yn),G(bn),G(IO,8))};static \u0275dir=Ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&V("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[tc([DO]),Tr]})}return e})();function SO(e){return e!=null&&typeof e.length=="number"}var wE=new S(""),MO=new S("");function TO(e){return t=>SO(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function dE(e){return null}function EE(e){return e!=null}function DE(e){return xr(e)?ae(e):e}function bE(e){let t={};return e.forEach(n=>{t=n!=null?E(E({},t),n):t}),Object.keys(t).length===0?null:t}function IE(e,t){return t.map(n=>n(e))}function xO(e){return!e.validate}function SE(e){return e.map(t=>xO(t)?t:n=>t.validate(n))}function AO(e){if(!e)return null;let t=e.filter(EE);return t.length==0?null:function(n){return bE(IE(n,t))}}function ME(e){return e!=null?AO(SE(e)):null}function NO(e){if(!e)return null;let t=e.filter(EE);return t.length==0?null:function(n){let r=IE(n,t).map(DE);return Id(r).pipe(N(bE))}}function TE(e){return e!=null?NO(SE(e)):null}function fE(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function RO(e){return e._rawValidators}function OO(e){return e._rawAsyncValidators}function Bp(e){return e?Array.isArray(e)?e:[e]:[]}function $c(e,t){return Array.isArray(e)?e.includes(t):e===t}function hE(e,t){let n=Bp(t);return Bp(e).forEach(i=>{$c(n,i)||n.push(i)}),n}function pE(e,t){return Bp(t).filter(n=>!$c(e,n))}var Hc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ME(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=TE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Up=class extends Hc{name;get formDirective(){return null}get path(){return null}},Ts=class extends Hc{_parent=null;name=null;valueAccessor=null},$p=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},kO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},LW=W(E({},kO),{"[class.ng-submitted]":"isSubmitted"}),xE=(()=>{class e extends $p{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(G(Ts,2))};static \u0275dir=Ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&wh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Tr]})}return e})();var bs="VALID",Uc="INVALID",Gi="PENDING",Is="DISABLED",Qi=class{},zc=class extends Qi{value;source;constructor(t,n){super(),this.value=t,this.source=n}},Ss=class extends Qi{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},Ms=class extends Qi{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},qi=class extends Qi{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function PO(e){return(Gc(e)?e.validators:e)||null}function FO(e){return Array.isArray(e)?ME(e):e||null}function LO(e,t){return(Gc(t)?t.asyncValidators:e)||null}function VO(e){return Array.isArray(e)?TE(e):e||null}function Gc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var Hp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return In(this.statusReactive)}set status(t){In(()=>this.statusReactive.set(t))}_status=Qo(()=>this.statusReactive());statusReactive=Wo(void 0);get valid(){return this.status===bs}get invalid(){return this.status===Uc}get pending(){return this.status==Gi}get disabled(){return this.status===Is}get enabled(){return this.status!==Is}errors;get pristine(){return In(this.pristineReactive)}set pristine(t){In(()=>this.pristineReactive.set(t))}_pristine=Qo(()=>this.pristineReactive());pristineReactive=Wo(!0);get dirty(){return!this.pristine}get touched(){return In(this.touchedReactive)}set touched(t){In(()=>this.touchedReactive.set(t))}_touched=Qo(()=>this.touchedReactive());touchedReactive=Wo(!1);get untouched(){return!this.touched}_events=new oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(hE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(hE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(pE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(pE(t,this._rawAsyncValidators))}hasValidator(t){return $c(this._rawValidators,t)}hasAsyncValidator(t){return $c(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(W(E({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ms(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ms(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(W(E({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new Ss(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new Ss(!0,r))}markAsPending(t={}){this.status=Gi;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new qi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(W(E({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Is,this.errors=null,this._forEachChild(i=>{i.disable(W(E({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new zc(this.value,r)),this._events.next(new qi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(E({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=bs,this._forEachChild(r=>{r.enable(W(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(W(E({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bs||this.status===Gi)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new zc(this.value,n)),this._events.next(new qi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(W(E({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Is:bs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Gi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=DE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new qi(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?Is:this.errors?Uc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gi)?Gi:this._anyControlsHaveStatus(Uc)?Uc:bs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new Ss(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ms(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=FO(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=VO(this._rawAsyncValidators)}};var AE=new S("",{providedIn:"root",factory:()=>zp}),zp="always";function jO(e,t){return[...t.path,e]}function BO(e,t,n=zp){$O(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),HO(e,t),WO(e,t),zO(e,t),UO(e,t)}function gE(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function UO(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function $O(e,t){let n=RO(e);t.validator!==null?e.setValidators(fE(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=OO(e);t.asyncValidator!==null?e.setAsyncValidators(fE(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();gE(t._rawValidators,i),gE(t._rawAsyncValidators,i)}function HO(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&NE(e,t)})}function zO(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&NE(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function NE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function WO(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function GO(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function qO(e){return Object.getPrototypeOf(e.constructor)===EO}function QO(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Wc?n=o:qO(o)?r=o:i=o}),i||r||n||null}function mE(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function vE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var ZO=class extends Hp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(PO(n),LO(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){mE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){mE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){vE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var YO={provide:Ts,useExisting:Ii(()=>Wp)},yE=Promise.resolve(),Wp=(()=>{class e extends Ts{_changeDetectorRef;callSetDisabledState;control=new ZO;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ve;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=QO(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),GO(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){BO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){yE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&nc(r);yE.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?jO(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(G(Up,9),G(wE,10),G(MO,10),G(CE,10),G(Ar,8),G(AE,8))};static \u0275dir=Ze({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[tc([YO]),Tr,Zn]})}return e})();function KO(e){return typeof e=="number"?e:parseInt(e,10)}var XO=(()=>{class e{_validator=dE;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):dE,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ze({type:e,features:[Zn]})}return e})();var JO={provide:wE,useExisting:Ii(()=>Gp),multi:!0},Gp=(()=>{class e extends XO{maxlength;inputName="maxlength";normalizeInput=n=>KO(n);createValidator=n=>TO(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Ti(e)))(i||e)}})();static \u0275dir=Ze({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Kl("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[tc([JO]),Tr]})}return e})();var ek=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Et({type:e});static \u0275inj=_t({})}return e})();var RE=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:AE,useValue:n.callSetDisabledState??zp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Et({type:e});static \u0275inj=_t({imports:[ek]})}return e})();var nk="firebase",rk="11.5.0";Pn(nk,rk,"app");function rn(e){e===void 0&&(M_(rn),e=C(Qe));let t=e.get(Jf);return n=>new L(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Qp=new qn("ANGULARFIRE2_VERSION");var OE=(e,t)=>{let n=t?[t]:Tv(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},qp=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(qp||{}),n4=Kn()&&typeof Zone<"u"?qp.WARN:qp.SILENT;var qc=class{zone;delegate;constructor(t,n=Ed){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},xs=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=C(J);this.outsideAngular=n.runOutsideAngular(()=>new qc(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new qc(typeof Zone>"u"?void 0:Zone.current,Ln))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ik=new Map,ok={activated:!1,tokenObservers:[]},sk={initialized:!1,enabled:!1};function jt(e){return ik.get(e)||Object.assign({},ok)}function VE(){return sk}var ak="https://content-firebaseappcheck.googleapis.com/v1";var lk="exchangeDebugToken",PE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},u4=24*60*60*1e3;var Kp=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return ue(this,null,function*(){this.stop();try{this.pending=new Oe,this.pending.promise.catch(n=>{}),yield ck(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Oe,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function ck(e){return new Promise(t=>{setTimeout(t,e)})}var uk={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},er=new vv("appCheck","AppCheck",uk);function jE(e){if(!jt(e).activated)throw er.create("use-before-activation",{appName:e.name})}function BE(r,i){return ue(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(h){throw er.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw er.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw er.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function UE(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${ak}/projects/${n}/apps/${r}:${lk}?key=${i}`,body:{debug_token:t}}}var dk="firebase-app-check-database",fk=1,Xp="firebase-app-check-store";var Qc=null;function hk(){return Qc||(Qc=new Promise((e,t)=>{try{let n=indexedDB.open(dk,fk);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(er.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Xp,{keyPath:"compositeKey"})}}}catch(n){t(er.create("storage-open",{originalErrorMessage:n?.message}))}}),Qc)}function pk(e,t){return gk(mk(e),t)}function gk(e,t){return ue(this,null,function*(){let r=(yield hk()).transaction(Xp,"readwrite"),o=r.objectStore(Xp).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(er.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function mk(e){return`${e.options.appId}-${e.name}`}var As=new Yr("@firebase/app-check");function Zp(e,t){return mv()?pk(e,t).catch(n=>{As.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function $E(){return VE().enabled}function HE(){return ue(this,null,function*(){let e=VE();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var vk={error:"UNKNOWN_ERROR"};function yk(e){return va.encodeString(JSON.stringify(e),!1)}function Jp(e,t=!1,n=!1){return ue(this,null,function*(){let r=e.app;jE(r);let i=jt(r),o=i.token,s;if(o&&!Ns(o)&&(i.token=void 0,o=void 0),!o){let c=yield i.cachedTokenPromise;c&&(Ns(c)?o=c:yield Zp(r,void 0))}if(!t&&o&&Ns(o))return{token:o.token};let a=!1;if($E())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=BE(UE(r,yield HE()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield Zp(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?As.warn(c.message):n&&As.error(c),Yp(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield jt(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?As.warn(c.message):n&&As.error(c),s=c}let l;return o?s?Ns(o)?l={token:o.token,internalError:s}:l=Yp(s):(l={token:o.token},i.token=o,yield Zp(r,o)):l=Yp(s),a&&Ek(r,l),l})}function _k(e){return ue(this,null,function*(){let t=e.app;jE(t);let{provider:n}=jt(t);if($E()){let r=yield HE(),{token:i}=yield BE(UE(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function Ck(e,t,n,r){let{app:i}=e,o=jt(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ns(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),FE(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>FE(e))}function zE(e,t){let n=jt(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function FE(e){let{app:t}=e,n=jt(t),r=n.tokenRefresher;r||(r=wk(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function wk(e){let{app:t}=e;return new Kp(()=>ue(this,null,function*(){let n=jt(t),r;if(n.token?r=yield Jp(e,!0):r=yield Jp(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=jt(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},PE.RETRIAL_MIN_WAIT,PE.RETRIAL_MAX_WAIT)}function Ek(e,t){let n=jt(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Ns(e){return e.expireTimeMillis-Date.now()>0}function Yp(e){return{token:yk(vk),error:e}}var eg=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=jt(this.app);for(let n of t)zE(this.app,n.next);return Promise.resolve()}};function Dk(e,t){return new eg(e,t)}function bk(e){return{getToken:t=>Jp(e,t),getLimitedUseToken:()=>_k(e),addTokenListener:t=>Ck(e,"INTERNAL",t),removeTokenListener:t=>zE(e.app,t)}}var Ik="@firebase/app-check",Sk="0.8.13";var Mk="app-check",LE="app-check-internal";function Tk(){Co(new dn(Mk,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return Dk(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(LE).initialize()})),Co(new dn(LE,e=>{let t=e.getProvider("app-check").getImmediate();return bk(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pn(Ik,Sk)}Tk();var xk="app-check";var Zi=class{constructor(){return OE(xk)}};var Ak=["localhost","0.0.0.0","127.0.0.1"],I4=typeof window<"u"&&Ak.includes(window.location.hostname);var Nk="firebase",Rk="11.5.0";xt.registerVersion(Nk,Rk,"app-compat");var Ok=["ngOnDestroy"],qE=(e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{if(e[o])return r?.spy?.get&&r.spy.get(o,e[o]),e[o];if(Ok.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var tg=class{constructor(t){return t}},Zc=new S("angularfire2.app.options"),Yc=new S("angularfire2.app.name");function Kc(e,t,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=xt.apps.filter(a=>a&&a.name===i.name)[0]||t.runOutsideAngular(()=>xt.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;kk("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new tg(s)}var kk=(e,...t)=>{Kn()&&typeof console<"u"&&console[e](...t)};function Xc(e,t,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return Pk(i,s)||(GE("error",`${t} was already initialized on the ${n} Firebase App with different settings.${Fk?" You may need to reload as Firebase is not HMR aware.":""}`),GE("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([e,a,i]),a}}function Pk(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var Fk=typeof module<"u"&&!!module.hot,GE=(e,...t)=>{Kn()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var ng=new S("angularfire2.auth.use-emulator"),rg=new S("angularfire2.auth.settings"),ig=new S("angularfire2.auth.tenant-id"),og=new S("angularfire2.auth.langugage-code"),sg=new S("angularfire2.auth.use-device-language"),ag=new S("angularfire.auth.persistence"),lg=(e,t,n,r,i,o,s,a)=>Xc(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),QE=(()=>{class e{injector=C(Ne);authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let g=new oe,v=k(void 0).pipe(Wt(s.outsideAngular),le(()=>o.runOutsideAngular(()=>import("./chunk-SEWQ5GPH.js"))),N(()=>Kc(n,o,r)),N(y=>lg(y,o,a,c,u,d,l,f)),Ka({bufferSize:1,refCount:!1}));if(Ko(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=k(null);else{v.pipe(Rt()).subscribe();let y=v.pipe(le(_=>_.getRedirectResult().then(x=>x,()=>null)),rn(this.injector),Ka({bufferSize:1,refCount:!1})),M=v.pipe(le(_=>new L(x=>({unsubscribe:o.runOutsideAngular(()=>_.onAuthStateChanged(he=>x.next(he),he=>x.error(he),()=>x.complete()))})))),z=v.pipe(le(_=>new L(x=>({unsubscribe:o.runOutsideAngular(()=>_.onIdTokenChanged(he=>x.next(he),he=>x.error(he),()=>x.complete()))}))));this.authState=y.pipe(Xa(M),hn(s.outsideAngular),Wt(s.insideAngular)),this.user=y.pipe(Xa(z),hn(s.outsideAngular),Wt(s.insideAngular)),this.idToken=this.user.pipe(le(_=>_?ae(_.getIdToken()):k(null))),this.idTokenResult=this.user.pipe(le(_=>_?ae(_.getIdTokenResult()):k(null))),this.credential=gn(y,g,this.authState.pipe(Se(_=>!_))).pipe(N(_=>_?.user?_:null),hn(s.outsideAngular),Wt(s.insideAngular))}return qE(this,v,o,{spy:{apply:(y,M,z)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&z.then(_=>g.next(_))}}})}static \u0275fac=function(r){return new(r||e)(b(Zc),b(Yc,8),b(wt),b(J),b(xs),b(ng,8),b(rg,8),b(ig,8),b(og,8),b(sg,8),b(ag,8),b(Zi,8))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var ZE="@firebase/database",YE="1.0.14";var Cm="";function wm(e){Cm=e}var mg=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ie(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:ya(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var vg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ft(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var MD=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new mg(t)}}catch{}return new vg},Vr=MD("localStorage"),yg=MD("sessionStorage");var Ji=new Yr("@firebase/database"),TD=function(){let e=1;return function(){return e++}}(),xD=function(e){let t=Dv(e),n=new Ev;n.update(t);let r=n.digest();return va.encodeByteArray(r)},ta=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=ta.apply(null,r):typeof r=="object"?t+=Ie(r):t+=r,t+=" "}return t},jr=null,KE=!0,AD=function(e,t){w(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ji.logLevel=bv.VERBOSE,jr=Ji.log.bind(Ji),t&&yg.set("logging_enabled",!0)):typeof e=="function"?jr=e:(jr=null,yg.remove("logging_enabled"))},ke=function(...e){if(KE===!0&&(KE=!1,jr===null&&yg.get("logging_enabled")===!0&&AD(!0)),jr){let t=ta.apply(null,e);jr(t)}},na=function(e){return function(...t){ke(e,...t)}},_g=function(...e){let t="FIREBASE INTERNAL ERROR: "+ta(...e);Ji.error(t)},an=function(...e){let t=`FIREBASE FATAL ERROR: ${ta(...e)}`;throw Ji.error(t),new Error(t)},$e=function(...e){let t="FIREBASE WARNING: "+ta(...e);Ji.warn(t)},Vk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&$e("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Su=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},jk=function(e){if(Ht()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ir="[MIN_NAME]",Nn="[MAX_NAME]",Ur=function(e,t){if(e===t)return 0;if(e===ir||t===Nn)return-1;if(t===ir||e===Nn)return 1;{let n=XE(e),r=XE(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},Bk=function(e,t){return e===t?0:e<t?-1:1},Rs=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ie(t))},Em=function(e){if(typeof e!="object"||e===null)return Ie(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Ie(t[r]),n+=":",n+=Em(e[t[r]]);return n+="}",n},ND=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Pe(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var RD=function(e){w(!Su(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},Uk=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},$k=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Hk(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var zk=new RegExp("^-?(0*)\\d{1,10}$"),Wk=-2147483648,Gk=2147483647,XE=function(e){if(zk.test(e)){let t=Number(e);if(t>=Wk&&t<=Gk)return t}return null},lo=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw $e("Exception was thrown by user callback.",n),t},Math.floor(0))}},qk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Fs=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Cg=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,Iv(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){$e(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var wg=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$e(t)}},Ls=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),eu="5",OD="v",kD="s",PD="r",FD="f",LD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,VD="ls",jD="p",Eg="ac",BD="websocket",UD="long_polling";var tu=class{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Vr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function Qk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function $D(e,t,n){w(typeof t=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let r;if(t===BD)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===UD)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Qk(e)&&(n.ns=e.namespace);let i=[];return Pe(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Dg=class{constructor(){this.counters_={}}incrementCounter(t,n=1){ft(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return fv(this.counters_)}};var cg={},ug={};function Dm(e){let t=e.toString();return cg[t]||(cg[t]=new Dg),cg[t]}function Zk(e,t){let n=e.toString();return ug[n]||(ug[n]=t()),ug[n]}var bg=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&lo(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var JE="start",Yk="close",Kk="pLPCommand",Xk="pRTLPCB",HD="id",zD="pw",WD="ser",Jk="cb",eP="seg",tP="ts",nP="d",rP="dframe",GD=1870,qD=30,iP=GD-qD,oP=25e3,sP=3e4,Us=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=na(t),this.stats_=Dm(n),this.urlFn=l=>(this.appCheckToken&&(l[Eg]=this.appCheckToken),$D(n,UD,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new bg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sP)),jk(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ig((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===JE)this.id=a,this.password=l;else if(s===Yk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[JE]="t",r[WD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[Jk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[OD]=eu,this.transportSessionId&&(r[kD]=this.transportSessionId),this.lastSessionId&&(r[VD]=this.lastSessionId),this.applicationId&&(r[jD]=this.applicationId),this.appCheckToken&&(r[Eg]=this.appCheckToken),typeof location<"u"&&location.hostname&&LD.test(location.hostname)&&(r[PD]=FD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Ht()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Uk()&&!$k()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Ie(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=dv(n),i=ND(r,iP);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Ht())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[rP]="t",r[HD]=t,r[zD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Ie(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Ig=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ht())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=TD(),window[Kk+this.uniqueCallbackIdentifier]=t,window[Xk+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ke("frame writing exception"),a.stack&&ke(a.stack),ke(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ke("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[HD]=this.myID,t[zD]=this.myPW,t[WD]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+qD+r.length<=GD;){let s=this.pendingSegs.shift();r=r+"&"+eP+i+"="+s.seg+"&"+tP+i+"="+s.ts+"&"+nP+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(oP)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Ht()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ke("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var aP=16384,lP=45e3,nu=null;typeof MozWebSocket<"u"?nu=MozWebSocket:typeof WebSocket<"u"&&(nu=WebSocket);var Ki=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=na(this.connId),this.stats_=Dm(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[OD]=eu,!Ht()&&typeof location<"u"&&location.hostname&&LD.test(location.hostname)&&(a[PD]=FD),r&&(a[kD]=r),i&&(a[VD]=i),o&&(a[Eg]=o),s&&(a[jD]=s),$D(n,BD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vr.set("previous_websocket_failure",!0);try{let i;if(Ht()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${eu}/${Cm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new nu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&nu!==null&&!e.forceDisallow_}static previouslyFailed(){return Vr.isInMemoryStorage||Vr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ya(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(w(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ie(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=ND(r,aP);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(lP))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),QD=(()=>{class e{static get ALL_TRANSPORTS(){return[Us,Ki]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Ki&&Ki.isAvailable(),i=r&&!Ki.previouslyFailed();if(n.webSocketOnly&&(r||$e("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ki];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),cP=6e4,uP=5e3,dP=10*1024,fP=100*1024,dg="t",eD="d",hP="s",tD="r",pP="e",nD="o",rD="a",iD="n",oD="p",gP="h",Sg=class{constructor(t,n,r,i,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=na("c:"+this.id+":"),this.transportManager_=new QD(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Fs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>fP?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>dP?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(dg in t){let n=t[dg];n===rD?this.upgradeIfSecondaryHealthy_():n===tD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===nD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Rs("t",t),r=Rs("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:oD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:rD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:iD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Rs("t",t),r=Rs("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Rs(dg,t);if(eD in t){let r=t[eD];if(n===gP){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===iD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===hP?this.onConnectionShutdown_(r):n===tD?this.onReset_(r):n===pP?_g("Server Error: "+r):n===nD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):_g("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),eu!==r&&$e("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Fs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cP))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Fs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(uP))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:oD,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var ru=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var iu=class{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var ou=class e extends iu{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ed()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return w(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var sD=32,aD=768,ie=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function re(){return new ie("")}function Q(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function or(e){return e.pieces_.length-e.pieceNum_}function fe(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ie(e.pieces_,t)}function bm(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function mP(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function $s(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function ZD(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ie(t,0)}function ve(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ie)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function Z(e){return e.pieceNum_>=e.pieces_.length}function Ye(e,t){let n=Q(e),r=Q(t);if(n===null)return t;if(n===r)return Ye(fe(e),fe(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function vP(e,t){let n=$s(e,0),r=$s(t,0);for(let i=0;i<n.length&&i<r.length;i++){let o=Ur(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Im(e,t){if(or(e)!==or(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function St(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(or(e)>or(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Mg=class{constructor(t,n){this.errorPrefix_=n,this.parts_=$s(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=_o(this.parts_[r]);YD(this)}};function yP(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=_o(t),YD(e)}function _P(e){let t=e.parts_.pop();e.byteLength_-=_o(t),e.parts_.length>0&&(e.byteLength_-=1)}function YD(e){if(e.byteLength_>aD)throw new Error(e.errorPrefix_+"has a key path longer than "+aD+" bytes ("+e.byteLength_+").");if(e.parts_.length>sD)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sD+") or object contains a cycle "+Lr(e))}function Lr(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Tg=class e extends iu{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return w(t==="visible","Unknown event type: "+t),[this.visible_]}};var Os=1e3,CP=60*5*1e3,lD=30*1e3,wP=1.3,EP=3e4,DP="server_kill",cD=3,Sm=(()=>{class e extends ru{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=na("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Os,this.maxReconnectDelay_=CP,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ht())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Tg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ou.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ie(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Oe,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&ft(n,"w")){let i=kn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();$e(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||_v(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=lD)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=yv(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ie(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):_g("Unrecognized action received from server: "+Ie(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>EP&&(this.reconnectDelay_=Os),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*wP)}this.onConnectStatus_(!1)}establishConnection_(){return ue(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){w(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?ke("getToken() completed but was canceled"):(ke("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new Sg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,g=>{$e(g+" ("+this.repoInfo_.toString()+")"),this.interrupt(DP)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&$e(f),c())}}})}interrupt(n){ke("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ke("Resuming connection for reason: "+n),delete this.interruptReasons_[n],_a(this.interruptReasons_)&&(this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Em(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ie(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){ke("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=cD&&(this.reconnectDelay_=lD,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ke("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=cD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Ht()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Cm.replace(/\./g,"-")]=1,ed()?n["framework.cordova"]=1:gv()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=ou.getInstance().currentlyOnline();return _a(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),Y=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var eo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new Y(ir,t),i=new Y(ir,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}};var Jc,su=class extends eo{static get __EMPTY_NODE(){return Jc}static set __EMPTY_NODE(t){Jc=t}compare(t,n){return Ur(t.name,n.name)}isDefinedOn(t){throw Zr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(Nn,Jc)}makePost(t,n){return w(typeof t=="string","KeyIndex indexValue must always be a string."),new Y(t,Jc)}toString(){return".key"}},sn=new su;var Xi=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Bt=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Mt.EMPTY_NODE,this.right=s??Mt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Mt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),xg=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new Bt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Mt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Bt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Bt.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Xi(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Xi(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Xi(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Xi(this.root_,null,this.comparator_,!0,t)}};Mt.EMPTY_NODE=new xg;function bP(e,t){return Ur(e.name,t.name)}function Mm(e,t){return Ur(e,t)}var Ag;function IP(e){Ag=e}var KD=function(e){return typeof e=="number"?"number:"+RD(e):"string:"+e},XD=function(e){if(e.isLeafNode()){let t=e.val();w(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ft(t,".sv"),"Priority must be a string or number.")}else w(e===Ag||e.isEmpty(),"priority of unexpected type.");w(e===Ag||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var uD,to=(()=>{class e{static set __childrenNodeConstructor(n){uD=n}static get __childrenNodeConstructor(){return uD}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),XD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Z(n)?this:Q(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Q(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(w(i!==".priority"||or(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(fe(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+KD(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=RD(this.value_):n+=this.value_,this.lazyHash_=xD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(w(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return w(o>=0,"Unknown leaf type: "+r),w(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),JD,eb;function SP(e){JD=e}function MP(e){eb=e}var Ng=class extends eo{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ur(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(Nn,new to("[PRIORITY-POST]",eb))}makePost(t,n){let r=JD(t);return new Y(n,new to("[PRIORITY-POST]",r))}toString(){return".priority"}},pe=new Ng;var TP=Math.log(2),Rg=class{constructor(t){let n=o=>parseInt(Math.log(o)/TP,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},au=function(e,t,n,r){e.sort(t);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=e[l],f=n?n(d):d,new Bt(f,d.node,Bt.BLACK,null,null);{let h=parseInt(u/2,10)+l,g=i(l,h),v=i(h+1,c);return d=e[h],f=n?n(d):d,new Bt(f,d.node,Bt.BLACK,g,v)}},o=function(l){let c=null,u=null,d=e.length,f=function(g,v){let y=d-g,M=d;d-=g;let z=i(y+1,M),_=e[y],x=n?n(_):_;h(new Bt(x,_.node,v,null,z))},h=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){let v=l.nextBitIsOne(),y=Math.pow(2,l.count-(g+1));v?f(y,Bt.BLACK):(f(y,Bt.BLACK),f(y,Bt.RED))}return u},s=new Rg(e.length),a=o(s);return new Mt(r||t,a)};var fg,Yi={},no=class e{static get Default(){return w(Yi&&pe,"ChildrenNode.ts has not been loaded"),fg=fg||new e({".priority":Yi},{".priority":pe}),fg}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=kn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Mt?n:null}hasIndex(t){return ft(this.indexSet_,t.toString())}addIndex(t,n){w(t!==sn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Y.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=au(r,t.getCompare()):a=Yi;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let r=yo(this.indexes_,(i,o)=>{let s=kn(this.indexSet_,o);if(w(s,"Missing index implementation for "+o),i===Yi)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(Y.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),au(a,s.getCompare())}else return Yi;else{let a=n.get(t.name),l=i;return a&&(l=l.remove(new Y(t.name,a))),l.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=yo(this.indexes_,i=>{if(i===Yi)return i;{let o=n.get(t.name);return o?i.remove(new Y(t.name,o)):i}});return new e(r,this.indexSet_)}};var ks,$=(()=>{class e{static get EMPTY_NODE(){return ks||(ks=new e(new Mt(Mm),null,no.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&XD(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ks}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?ks:r}}getChild(n){let r=Q(n);return r===null?this:this.getImmediateChild(r).getChild(fe(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(w(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Y(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?ks:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=Q(n);if(i===null)return r;{w(Q(n)!==".priority"||or(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(fe(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(pe,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+KD(this.getPriority().val())+":"),this.forEachChild(pe,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":xD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Y(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Y(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Y(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ra?-1:0}withIndex(n){if(n===sn||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===sn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(pe),o=r.getIterator(pe),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===sn?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Og=class extends ${constructor(){super(new Mt(Mm),$.EMPTY_NODE,no.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return $.EMPTY_NODE}isEmpty(){return!1}},ra=new Og;Object.defineProperties(Y,{MIN:{value:new Y(ir,$.EMPTY_NODE)},MAX:{value:new Y(Nn,ra)}});su.__EMPTY_NODE=$.EMPTY_NODE;to.__childrenNodeConstructor=$;IP(ra);MP(ra);var xP=!0;function _e(e,t=null){if(e===null)return $.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),w(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new to(n,_e(t))}if(!(e instanceof Array)&&xP){let n=[],r=!1;if(Pe(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=_e(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(s,l)))}}),n.length===0)return $.EMPTY_NODE;let o=au(n,bP,s=>s.name,Mm);if(r){let s=au(n,pe.getCompare());return new $(o,_e(t),new no({".priority":s},{".priority":pe}))}else return new $(o,_e(t),no.Default)}else{let n=$.EMPTY_NODE;return Pe(e,(r,i)=>{if(ft(e,r)&&r.substring(0,1)!=="."){let o=_e(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(_e(t))}}SP(_e);var Hs=class extends eo{constructor(t){super(),this.indexPath_=t,w(!Z(t)&&Q(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ur(t.name,n.name):o}makePost(t,n){let r=_e(t),i=$.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){let t=$.EMPTY_NODE.updateChild(this.indexPath_,ra);return new Y(Nn,t)}toString(){return $s(this.indexPath_,0).join("/")}};var kg=class extends eo{compare(t,n){let r=t.node.compareTo(n.node);return r===0?Ur(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(t,n){let r=_e(t);return new Y(n,r)}toString(){return".value"}},Tm=new kg;function tb(e){return{type:"value",snapshotNode:e}}function ro(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function zs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ws(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function AP(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Gs=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){w(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(zs(n,a)):w(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ro(n,r)):s.trackChildChange(Ws(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(pe,(i,o)=>{n.hasChild(i)||r.trackChildChange(zs(i,o))}),n.isLeafNode()||n.forEachChild(pe,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ws(i,o,s))}else r.trackChildChange(ro(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?$.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var lu=class e{constructor(t){this.indexedFilter_=new Gs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new Y(n,r))||(r=$.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=$.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority($.EMPTY_NODE);let o=this;return n.forEachChild(pe,(s,a)=>{o.matches(new Y(s,a))||(i=i.updateImmediateChild(s,$.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Pg=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new lu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new Y(n,r))||(r=$.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=$.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=$.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority($.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,$.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;w(a.numChildren()===this.limit_,"");let l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ws(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(zs(n,d));let v=a.updateImmediateChild(n,$.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ro(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}else return r.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(zs(c.name,c.node)),o.trackChildChange(ro(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,$.EMPTY_NODE)):t}};var qs=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ir}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Nn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pe}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function NP(e){return e.loadsAllData()?new Gs(e.getIndex()):e.hasLimit()?new Pg(e):new lu(e)}function RP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function OP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Fg(e,t,n){let r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function kP(e,t,n){let r;return e.index_===sn||n?r=Fg(e,t,n):r=Fg(e,t,Nn),r.startAfterSet_=!0,r}function Lg(e,t,n){let r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function PP(e,t,n){let r;return e.index_===sn||n?r=Lg(e,t,n):r=Lg(e,t,ir),r.endBeforeSet_=!0,r}function Mu(e,t){let n=e.copy();return n.index_=t,n}function dD(e){let t={};if(e.isDefault())return t;let n;if(e.index_===pe?n="$priority":e.index_===Tm?n="$value":e.index_===sn?n="$key":(w(e.index_ instanceof Hs,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ie(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ie(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ie(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ie(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ie(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function fD(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==pe&&(t.i=e.index_.toString()),t}var Vg=class e extends ru{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=na("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let l=dD(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),kn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=dD(t._queryParams),r=t._path.toString(),i=new Oe;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+wv(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ya(a.responseText)}catch{$e("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&$e("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var jg=class{constructor(){this.rootNode_=$.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function cu(){return{value:null,children:new Map}}function co(e,t,n){if(Z(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=Q(t);e.children.has(r)||e.children.set(r,cu());let i=e.children.get(r);t=fe(t),co(i,t,n)}}function Bg(e,t){if(Z(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(pe,(r,i)=>{co(e,new ie(r),i)}),Bg(e,t)}}else if(e.children.size>0){let n=Q(t);return t=fe(t),e.children.has(n)&&Bg(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Ug(e,t,n){e.value!==null?n(t,e.value):FP(e,(r,i)=>{let o=new ie(t.toString()+"/"+r);Ug(i,o,n)})}function FP(e,t){e.children.forEach((n,r)=>{t(r,n)})}var $g=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Pe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var hD=10*1e3,LP=30*1e3,VP=5*60*1e3,Hg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new $g(t);let r=hD+(LP-hD)*Math.random();Fs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;Pe(t,(i,o)=>{o>0&&ft(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Fs(this.reportStats_.bind(this),Math.floor(Math.random()*2*VP))}};var on=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(on||{});function xm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Am(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Nm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var zg=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=on.ACK_USER_WRITE,this.source=xm()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ie(t));return new e(re(),n,this.revert)}}else return w(Q(this.path)===t,"operationForChild called for unrelated child."),new e(fe(this.path),this.affectedTree,this.revert)}};var uu=class e{constructor(t,n){this.source=t,this.path=n,this.type=on.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new e(this.source,re()):new e(this.source,fe(this.path))}};var io=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=on.OVERWRITE}operationForChild(t){return Z(this.path)?new e(this.source,re(),this.snap.getImmediateChild(t)):new e(this.source,fe(this.path),this.snap)}};var Qs=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=on.MERGE}operationForChild(t){if(Z(this.path)){let n=this.children.subtree(new ie(t));return n.isEmpty()?null:n.value?new io(this.source,re(),n.value):new e(this.source,re(),n)}else return w(Q(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,fe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var ln=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;let n=Q(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Wg=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function jP(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(AP(s.childName,s.snapshotNode))}),Ps(e,i,"child_removed",t,r,n),Ps(e,i,"child_added",t,r,n),Ps(e,i,"child_moved",o,r,n),Ps(e,i,"child_changed",t,r,n),Ps(e,i,"value",t,r,n),i}function Ps(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>UP(e,a,l)),s.forEach(a=>{let l=BP(e,a,o);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function BP(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function UP(e,t,n){if(t.childName==null||n.childName==null)throw Zr("Should only compare child_ events.");let r=new Y(t.childName,t.snapshotNode),i=new Y(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function Tu(e,t){return{eventCache:e,serverCache:t}}function Vs(e,t,n,r){return Tu(new ln(t,n,r),e.serverCache)}function nb(e,t,n,r){return Tu(e.eventCache,new ln(t,n,r))}function du(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Br(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var hg,$P=()=>(hg||(hg=new Mt(Bk)),hg),Ke=class e{static fromObject(t){let n=new e(null);return Pe(t,(r,i)=>{n=n.set(new ie(r),i)}),n}constructor(t,n=$P()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:re(),value:this.value};if(Z(t))return null;{let r=Q(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(fe(t),n);return o!=null?{path:ve(new ie(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{let n=Q(t),r=this.children.get(n);return r!==null?r.subtree(fe(t)):new e(null)}}set(t,n){if(Z(t))return new e(n,this.children);{let r=Q(t),o=(this.children.get(r)||new e(null)).set(fe(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(Z(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=Q(t),r=this.children.get(n);if(r){let i=r.remove(fe(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(Z(t))return this.value;{let n=Q(t),r=this.children.get(n);return r?r.get(fe(t)):null}}setTree(t,n){if(Z(t))return n;{let r=Q(t),o=(this.children.get(r)||new e(null)).setTree(fe(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(re(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(ve(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,re(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Z(t))return null;{let o=Q(t),s=this.children.get(o);return s?s.findOnPath_(fe(t),ve(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,re(),n)}foreachOnPath_(t,n,r){if(Z(t))return this;{this.value&&r(n,this.value);let i=Q(t),o=this.children.get(i);return o?o.foreachOnPath_(fe(t),ve(n,i),r):new e(null)}}foreach(t){this.foreach_(re(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ve(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Ut=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Ke(null))}};function js(e,t,n){if(Z(t))return new Ut(new Ke(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=Ye(i,t);return o=o.updateChild(s,n),new Ut(e.writeTree_.set(i,o))}else{let i=new Ke(n),o=e.writeTree_.setTree(t,i);return new Ut(o)}}}function Gg(e,t,n){let r=e;return Pe(n,(i,o)=>{r=js(r,ve(t,i),o)}),r}function pD(e,t){if(Z(t))return Ut.empty();{let n=e.writeTree_.setTree(t,new Ke(null));return new Ut(n)}}function qg(e,t){return $r(e,t)!=null}function $r(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Ye(n.path,t)):null}function gD(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pe,(r,i)=>{t.push(new Y(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Y(r,i.value))}),t}function nr(e,t){if(Z(t))return e;{let n=$r(e,t);return n!=null?new Ut(new Ke(n)):new Ut(e.writeTree_.subtree(t))}}function Qg(e){return e.writeTree_.isEmpty()}function oo(e,t){return rb(re(),e.writeTree_,t)}function rb(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(w(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=rb(ve(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(ve(e,".priority"),r)),n}}function xu(e,t){return ab(t,e)}function HP(e,t,n,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=js(e.visibleWrites,t,n)),e.lastWriteId=r}function zP(e,t,n,r){w(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Gg(e.visibleWrites,t,n),e.lastWriteId=r}function WP(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function GP(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&qP(a,r.path)?i=!1:St(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return QP(e),!0;if(r.snap)e.visibleWrites=pD(e.visibleWrites,r.path);else{let a=r.children;Pe(a,l=>{e.visibleWrites=pD(e.visibleWrites,ve(r.path,l))})}return!0}else return!1}function qP(e,t){if(e.snap)return St(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&St(ve(e.path,n),t))return!0;return!1}function QP(e){e.visibleWrites=ib(e.allWrites,ZP,re()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function ZP(e){return e.visible}function ib(e,t,n){let r=Ut.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)St(n,s)?(a=Ye(n,s),r=js(r,a,o.snap)):St(s,n)&&(a=Ye(s,n),r=js(r,re(),o.snap.getChild(a)));else if(o.children){if(St(n,s))a=Ye(n,s),r=Gg(r,a,o.children);else if(St(s,n))if(a=Ye(s,n),Z(a))r=Gg(r,re(),o.children);else{let l=kn(o.children,Q(a));if(l){let c=l.getChild(fe(a));r=js(r,re(),c)}}}else throw Zr("WriteRecord should have .snap or .children")}}return r}function ob(e,t,n,r,i){if(!r&&!i){let o=$r(e.visibleWrites,t);if(o!=null)return o;{let s=nr(e.visibleWrites,t);if(Qg(s))return n;if(n==null&&!qg(s,re()))return null;{let a=n||$.EMPTY_NODE;return oo(s,a)}}}else{let o=nr(e.visibleWrites,t);if(!i&&Qg(o))return n;if(!i&&n==null&&!qg(o,re()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(St(c.path,t)||St(t,c.path))},a=ib(e.allWrites,s,t),l=n||$.EMPTY_NODE;return oo(a,l)}}}function YP(e,t,n){let r=$.EMPTY_NODE,i=$r(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(pe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=nr(e.visibleWrites,t);return n.forEachChild(pe,(s,a)=>{let l=oo(nr(o,new ie(s)),a);r=r.updateImmediateChild(s,l)}),gD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=nr(e.visibleWrites,t);return gD(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function KP(e,t,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=ve(t,n);if(qg(e.visibleWrites,o))return null;{let s=nr(e.visibleWrites,o);return Qg(s)?i.getChild(n):oo(s,i.getChild(n))}}function XP(e,t,n,r){let i=ve(t,n),o=$r(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=nr(e.visibleWrites,i);return oo(s,r.getNode().getImmediateChild(n))}else return null}function JP(e,t){return $r(e.visibleWrites,t)}function eF(e,t,n,r,i,o,s){let a,l=nr(e.visibleWrites,t),c=$r(l,re());if(c!=null)a=c;else if(n!=null)a=oo(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function tF(){return{visibleWrites:Ut.empty(),allWrites:[],lastWriteId:-1}}function fu(e,t,n,r){return ob(e.writeTree,e.treePath,t,n,r)}function Rm(e,t){return YP(e.writeTree,e.treePath,t)}function mD(e,t,n,r){return KP(e.writeTree,e.treePath,t,n,r)}function hu(e,t){return JP(e.writeTree,ve(e.treePath,t))}function nF(e,t,n,r,i,o){return eF(e.writeTree,e.treePath,t,n,r,i,o)}function Om(e,t,n){return XP(e.writeTree,e.treePath,t,n)}function sb(e,t){return ab(ve(e.treePath,t),e.writeTree)}function ab(e,t){return{treePath:e,writeTree:t}}var Zg=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ws(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,zs(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ro(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ws(r,t.snapshotNode,i.oldSnap));else throw Zr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Yg=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},lb=new Yg,Zs=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new ln(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Om(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Br(this.viewCache_),o=nF(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function rF(e){return{filter:e}}function iF(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function oF(e,t,n,r,i){let o=new Zg,s,a;if(n.type===on.OVERWRITE){let c=n;c.source.fromUser?s=Kg(e,t,c.path,c.snap,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Z(c.path),s=pu(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===on.MERGE){let c=n;c.source.fromUser?s=aF(e,t,c.path,c.children,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Xg(e,t,c.path,c.children,r,i,a,o))}else if(n.type===on.ACK_USER_WRITE){let c=n;c.revert?s=uF(e,t,c.path,r,i,o):s=lF(e,t,c.path,c.affectedTree,r,i,o)}else if(n.type===on.LISTEN_COMPLETE)s=cF(e,t,n.path,r,o);else throw Zr("Unknown operation type: "+n.type);let l=o.getChanges();return sF(t,s,l),{viewCache:s,changes:l}}function sF(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=du(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(tb(du(t)))}}function cb(e,t,n,r,i,o){let s=t.eventCache;if(hu(r,n)!=null)return t;{let a,l;if(Z(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=Br(t),u=c instanceof $?c:$.EMPTY_NODE,d=Rm(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=fu(r,Br(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=Q(n);if(c===".priority"){w(or(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=mD(r,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=fe(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let f=mD(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=Om(r,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return Vs(t,a,s.isFullyInitialized()||Z(n),e.filter.filtersNodes())}}function pu(e,t,n,r,i,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(Z(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=Q(n);if(!l.isCompleteForPath(n)&&or(n)>1)return t;let g=fe(n),y=l.getNode().getImmediateChild(h).updateChild(g,r);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,g,lb,null)}let d=nb(t,c,l.isFullyInitialized()||Z(n),u.filtersNodes()),f=new Zs(i,d,o);return cb(e,d,n,i,f,a)}function Kg(e,t,n,r,i,o,s){let a=t.eventCache,l,c,u=new Zs(i,t,o);if(Z(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=Vs(t,c,!0,e.filter.filtersNodes());else{let d=Q(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Vs(t,c,a.isFullyInitialized(),a.isFiltered());else{let f=fe(n),h=a.getNode().getImmediateChild(d),g;if(Z(f))g=r;else{let v=u.getCompleteChild(d);v!=null?bm(f)===".priority"&&v.getChild(ZD(f)).isEmpty()?g=v:g=v.updateChild(f,r):g=$.EMPTY_NODE}if(h.equals(g))l=t;else{let v=e.filter.updateChild(a.getNode(),d,g,f,u,s);l=Vs(t,v,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function vD(e,t){return e.eventCache.isCompleteForChild(t)}function aF(e,t,n,r,i,o,s){let a=t;return r.foreach((l,c)=>{let u=ve(n,l);vD(t,Q(u))&&(a=Kg(e,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=ve(n,l);vD(t,Q(u))||(a=Kg(e,a,u,c,i,o,s))}),a}function yD(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Xg(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;Z(n)?c=r:c=new Ke(null).setTree(n,r);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),g=yD(e,h,f);l=pu(e,l,new ie(d),g,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let g=t.serverCache.getNode().getImmediateChild(d),v=yD(e,g,f);l=pu(e,l,new ie(d),v,i,o,s,a)}}),l}function lF(e,t,n,r,i,o,s){if(hu(i,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return pu(e,t,n,l.getNode().getChild(n),i,o,a,s);if(Z(n)){let c=new Ke(null);return l.getNode().forEachChild(sn,(u,d)=>{c=c.set(new ie(u),d)}),Xg(e,t,n,c,i,o,a,s)}else return t}else{let c=new Ke(null);return r.foreach((u,d)=>{let f=ve(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Xg(e,t,n,c,i,o,a,s)}}function cF(e,t,n,r,i){let o=t.serverCache,s=nb(t,o.getNode(),o.isFullyInitialized()||Z(n),o.isFiltered());return cb(e,s,n,r,lb,i)}function uF(e,t,n,r,i,o){let s;if(hu(r,n)!=null)return t;{let a=new Zs(r,t,i),l=t.eventCache.getNode(),c;if(Z(n)||Q(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=fu(r,Br(t));else{let d=t.serverCache.getNode();w(d instanceof $,"serverChildren would be complete if leaf node"),u=Rm(r,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=Q(n),d=Om(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,fe(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,$.EMPTY_NODE,fe(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=fu(r,Br(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||hu(r,re())!=null,Vs(t,c,s,e.filter.filtersNodes())}}var Jg=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Gs(r.getIndex()),o=NP(r);this.processor_=rF(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode($.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode($.EMPTY_NODE,a.getNode(),null),u=new ln(l,s.isFullyInitialized(),i.filtersNodes()),d=new ln(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Tu(d,u),this.eventGenerator_=new Wg(this.query_)}get query(){return this.query_}};function dF(e){return e.viewCache_.serverCache.getNode()}function fF(e){return du(e.viewCache_)}function hF(e,t){let n=Br(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Z(t)&&!n.getImmediateChild(Q(t)).isEmpty())?n.getChild(t):null}function _D(e){return e.eventRegistrations_.length===0}function pF(e,t){e.eventRegistrations_.push(t)}function CD(e,t,n){let r=[];if(n){w(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function wD(e,t,n,r){t.type===on.MERGE&&t.source.queryId!==null&&(w(Br(e.viewCache_),"We should always have a full cache before handling merges"),w(du(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=oF(e.processor_,i,t,n,r);return iF(e.processor_,o.viewCache),w(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,ub(e,o.changes,o.viewCache.eventCache.getNode(),null)}function gF(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pe,(o,s)=>{r.push(ro(o,s))}),n.isFullyInitialized()&&r.push(tb(n.getNode())),ub(e,r,n.getNode(),t)}function ub(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return jP(e.eventGenerator_,t,n,i)}var gu,mu=class{constructor(){this.views=new Map}};function mF(e){w(!gu,"__referenceConstructor has already been defined"),gu=e}function vF(){return w(gu,"Reference.ts has not been loaded"),gu}function yF(e){return e.views.size===0}function km(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return w(o!=null,"SyncTree gave us an op for an invalid query."),wD(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(wD(s,t,n,r));return o}}function db(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=fu(n,i?r:null),l=!1;a?l=!0:r instanceof $?(a=Rm(n,r),l=!1):(a=$.EMPTY_NODE,l=!1);let c=Tu(new ln(a,l,!1),new ln(r,i,!1));return new Jg(t,c)}return s}function _F(e,t,n,r,i,o){let s=db(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),pF(s,n),gF(s,n)}function CF(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=sr(e);if(i==="default")for(let[l,c]of e.views.entries())s=s.concat(CD(c,n,r)),_D(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(i);l&&(s=s.concat(CD(l,n,r)),_D(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!sr(e)&&o.push(new(vF())(t._repo,t._path)),{removed:o,events:s}}function fb(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function rr(e,t){let n=null;for(let r of e.views.values())n=n||hF(r,t);return n}function hb(e,t){if(t._queryParams.loadsAllData())return Au(e);{let r=t._queryIdentifier;return e.views.get(r)}}function pb(e,t){return hb(e,t)!=null}function sr(e){return Au(e)!=null}function Au(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var vu;function wF(e){w(!vu,"__referenceConstructor has already been defined"),vu=e}function EF(){return w(vu,"Reference.ts has not been loaded"),vu}var DF=1,yu=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ke(null),this.pendingWriteTree_=tF(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Pm(e,t,n,r,i){return HP(e.pendingWriteTree_,t,n,r,i),i?uo(e,new io(xm(),t,n)):[]}function bF(e,t,n,r){zP(e.pendingWriteTree_,t,n,r);let i=Ke.fromObject(n);return uo(e,new Qs(xm(),t,i))}function tr(e,t,n=!1){let r=WP(e.pendingWriteTree_,t);if(GP(e.pendingWriteTree_,t)){let o=new Ke(null);return r.snap!=null?o=o.set(re(),!0):Pe(r.children,s=>{o=o.set(new ie(s),!0)}),uo(e,new zg(r.path,o,n))}else return[]}function ia(e,t,n){return uo(e,new io(Am(),t,n))}function IF(e,t,n){let r=Ke.fromObject(n);return uo(e,new Qs(Am(),t,r))}function SF(e,t){return uo(e,new uu(Am(),t))}function MF(e,t,n){let r=Fm(e,n);if(r){let i=Lm(r),o=i.path,s=i.queryId,a=Ye(o,t),l=new uu(Nm(s),a);return Vm(e,o,l)}else return[]}function _u(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||pb(s,t))){let l=CF(s,t,n,r);yF(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>sr(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=AF(f);for(let g=0;g<h.length;++g){let v=h[g],y=v.query,M=yb(e,v);e.listenProvider_.startListening(Bs(y),Ys(e,y),M.hashFn,M.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(Bs(t),null):c.forEach(f=>{let h=e.queryToTagMap.get(Ru(f));e.listenProvider_.stopListening(Bs(f),h)}))}NF(e,c)}return a}function gb(e,t,n,r){let i=Fm(e,r);if(i!=null){let o=Lm(i),s=o.path,a=o.queryId,l=Ye(s,t),c=new io(Nm(a),l,n);return Vm(e,s,c)}else return[]}function TF(e,t,n,r){let i=Fm(e,r);if(i){let o=Lm(i),s=o.path,a=o.queryId,l=Ye(s,t),c=Ke.fromObject(n),u=new Qs(Nm(a),l,c);return Vm(e,s,u)}else return[]}function em(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let g=Ye(f,i);o=o||rr(h,g),s=s||sr(h)});let a=e.syncPointTree_.get(i);a?(s=s||sr(a),o=o||rr(a,re())):(a=new mu,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=$.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,g)=>{let v=rr(g,re());v&&(o=o.updateImmediateChild(h,v))}));let c=pb(a,t);if(!c&&!t._queryParams.loadsAllData()){let f=Ru(t);w(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=RF();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=xu(e.pendingWriteTree_,i),d=_F(a,t,n,u,o,l);if(!c&&!s&&!r){let f=hb(a,t);d=d.concat(OF(e,t,f))}return d}function Nu(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=Ye(s,t),c=rr(a,l);if(c)return c});return ob(i,t,o,n,!0)}function xF(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Ye(c,n);r=r||rr(u,d)});let i=e.syncPointTree_.get(n);i?r=r||rr(i,re()):(i=new mu,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new ln(r,!0,!1):null,a=xu(e.pendingWriteTree_,t._path),l=db(i,t,a,o?s.getNode():$.EMPTY_NODE,o);return fF(l)}function uo(e,t){return mb(t,e.syncPointTree_,null,xu(e.pendingWriteTree_,re()))}function mb(e,t,n,r){if(Z(e.path))return vb(e,t,n,r);{let i=t.get(re());n==null&&i!=null&&(n=rr(i,re()));let o=[],s=Q(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=sb(r,s);o=o.concat(mb(a,l,c,u))}return i&&(o=o.concat(km(i,e,r,n))),o}}function vb(e,t,n,r){let i=t.get(re());n==null&&i!=null&&(n=rr(i,re()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=sb(r,s),u=e.operationForChild(s);u&&(o=o.concat(vb(u,a,l,c)))}),i&&(o=o.concat(km(i,e,r,n))),o}function yb(e,t){let n=t.query,r=Ys(e,n);return{hashFn:()=>(dF(t)||$.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?MF(e,n._path,r):SF(e,n._path);{let o=Hk(i,n);return _u(e,n,null,o)}}}}function Ys(e,t){let n=Ru(t);return e.queryToTagMap.get(n)}function Ru(e){return e._path.toString()+"$"+e._queryIdentifier}function Fm(e,t){return e.tagToQueryMap.get(t)}function Lm(e){let t=e.indexOf("$");return w(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ie(e.substr(0,t))}}function Vm(e,t,n){let r=e.syncPointTree_.get(t);w(r,"Missing sync point for query tag that we're tracking");let i=xu(e.pendingWriteTree_,t);return km(r,n,i,null)}function AF(e){return e.fold((t,n,r)=>{if(n&&sr(n))return[Au(n)];{let i=[];return n&&(i=fb(n)),Pe(r,(o,s)=>{i=i.concat(s)}),i}})}function Bs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(EF())(e._repo,e._path):e}function NF(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Ru(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function RF(){return DF++}function OF(e,t,n){let r=t._path,i=Ys(e,t),o=yb(e,n),s=e.listenProvider_.startListening(Bs(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)w(!sr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!Z(c)&&u&&sr(u))return[Au(u).query];{let f=[];return u&&(f=f.concat(fb(u).map(h=>h.query))),Pe(d,(h,g)=>{f=f.concat(g)}),f}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Bs(u),Ys(e,u))}}return s}var tm=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},nm=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ve(this.path_,t);return new e(this.syncTree_,n)}node(){return Nu(this.syncTree_,this.path_)}},kF=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},ED=function(e,t,n){if(!e||typeof e!="object")return e;if(w(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return PF(e[".sv"],t,n);if(typeof e[".sv"]=="object")return FF(e[".sv"],t);w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},PF=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+e)}},FF=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&w(!1,"Unexpected increment value: "+r);let i=t.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},_b=function(e,t,n,r){return Bm(t,new nm(n,e),r)},jm=function(e,t,n){return Bm(e,new tm(t),n)};function Bm(e,t,n){let r=e.getPriority().val(),i=ED(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=ED(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new to(a,_e(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new to(i))),s.forEachChild(pe,(a,l)=>{let c=Bm(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Ks=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Ou(e,t){let n=t instanceof ie?t:new ie(t),r=e,i=Q(n);for(;i!==null;){let o=kn(r.node.children,i)||{children:{},childCount:0};r=new Ks(i,r,o),n=fe(n),i=Q(n)}return r}function Hr(e){return e.node.value}function Um(e,t){e.node.value=t,rm(e)}function Cb(e){return e.node.childCount>0}function LF(e){return Hr(e)===void 0&&!Cb(e)}function ku(e,t){Pe(e.node.children,(n,r)=>{t(new Ks(n,e,r))})}function wb(e,t,n,r){n&&!r&&t(e),ku(e,i=>{wb(i,t,!0,r)}),n&&r&&t(e)}function VF(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function oa(e){return new ie(e.parent===null?e.name:oa(e.parent)+"/"+e.name)}function rm(e){e.parent!==null&&jF(e.parent,e.name,e)}function jF(e,t,n){let r=LF(n),i=ft(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,rm(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,rm(e))}var BF=/[\[\].#$\/\u0000-\u001F\u007F]/,UF=/[\[\].#$\u0000-\u001F\u007F]/,pg=10*1024*1024,Pu=function(e){return typeof e=="string"&&e.length!==0&&!BF.test(e)},Eb=function(e){return typeof e=="string"&&e.length!==0&&!UF.test(e)},$F=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Eb(e)},Xs=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!Su(e)||e&&typeof e=="object"&&ft(e,".sv")},cn=function(e,t,n,r){r&&t===void 0||sa(Je(e,"value"),t,n)},sa=function(e,t,n){let r=n instanceof ie?new Mg(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Lr(r));if(typeof t=="function")throw new Error(e+"contains a function "+Lr(r)+" with contents = "+t.toString());if(Su(t))throw new Error(e+"contains "+t.toString()+" "+Lr(r));if(typeof t=="string"&&t.length>pg/3&&_o(t)>pg)throw new Error(e+"contains a string greater than "+pg+" utf8 bytes "+Lr(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Pe(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Pu(s)))throw new Error(e+" contains an invalid key ("+s+") "+Lr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yP(r,s),sa(e,a,r),_P(r)}),i&&o)throw new Error(e+' contains ".value" child '+Lr(r)+" in addition to actual children.")}},HF=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];let o=$s(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Pu(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(vP);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&St(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Db=function(e,t,n,r){if(r&&t===void 0)return;let i=Je(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");let o=[];Pe(t,(s,a)=>{let l=new ie(s);if(sa(i,a,ve(n,l)),bm(l)===".priority"&&!Xs(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),HF(i,o)},$m=function(e,t,n){if(!(n&&t===void 0)){if(Su(t))throw new Error(Je(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Xs(t))throw new Error(Je(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},aa=function(e,t,n,r){if(!(r&&n===void 0)&&!Pu(n))throw new Error(Je(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},fo=function(e,t,n,r){if(!(r&&n===void 0)&&!Eb(n))throw new Error(Je(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},zF=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),fo(e,t,n,r)},lt=function(e,t){if(Q(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},bb=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Pu(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$F(n))throw new Error(Je(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var im=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Fu(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!Im(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function Ib(e,t,n){Fu(e,n),Sb(e,r=>Im(r,t))}function ct(e,t,n){Fu(e,n),Sb(e,r=>St(r,t)||St(t,r))}function Sb(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(WF(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function WF(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();jr&&ke("event: "+n.toString()),lo(r)}}}var Mb="repo_interrupt",GF=25,om=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new im,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=cu(),this.transactionQueueTree_=new Ks,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function qF(e,t,n){if(e.stats_=Dm(e.repoInfo_),e.forceRestClient_||qk())e.server_=new Vg(e.repoInfo_,(r,i,o,s)=>{DD(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>bD(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ie(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Sm(e.repoInfo_,t,(r,i,o,s)=>{DD(e,r,i,o,s)},r=>{bD(e,r)},r=>{QF(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=Zk(e.repoInfo_,()=>new Hg(e.stats_,e.server_)),e.infoData_=new jg,e.infoSyncTree_=new yu({startListening:(r,i,o,s)=>{let a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=ia(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Hm(e,"connected",!1),e.serverSyncTree_=new yu({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);ct(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function Tb(e){let n=e.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function la(e){return kF({timestamp:Tb(e)})}function DD(e,t,n,r,i){e.dataUpdateCount++;let o=new ie(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let l=yo(n,c=>_e(c));s=TF(e.serverSyncTree_,o,l,i)}else{let l=_e(n);s=gb(e.serverSyncTree_,o,l,i)}else if(r){let l=yo(n,c=>_e(c));s=IF(e.serverSyncTree_,o,l)}else{let l=_e(n);s=ia(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=so(e,o)),ct(e.eventQueue_,a,s)}function bD(e,t){Hm(e,"connected",t),t===!1&&KF(e)}function QF(e,t){Pe(t,(n,r)=>{Hm(e,n,r)})}function Hm(e,t,n){let r=new ie("/.info/"+t),i=_e(n);e.infoData_.updateSnapshot(r,i);let o=ia(e.infoSyncTree_,r,i);ct(e.eventQueue_,r,o)}function Lu(e){return e.nextWriteId_++}function ZF(e,t,n){let r=xF(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=_e(i).withIndex(t._queryParams.getIndex());em(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=ia(e.serverSyncTree_,t._path,o);else{let a=Ys(e.serverSyncTree_,t);s=gb(e.serverSyncTree_,t._path,o,a)}return ct(e.eventQueue_,t._path,s),_u(e.serverSyncTree_,t,n,null,!0),o},i=>(ho(e,"get for query "+Ie(t)+" failed: "+i),Promise.reject(new Error(i))))}function zm(e,t,n,r,i){ho(e,"set",{path:t.toString(),value:n,priority:r});let o=la(e),s=_e(n,r),a=Nu(e.serverSyncTree_,t),l=jm(s,a,o),c=Lu(e),u=Pm(e.serverSyncTree_,t,l,c,!0);Fu(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let g=f==="ok";g||$e("set at "+t+" failed: "+f);let v=tr(e.serverSyncTree_,c,!g);ct(e.eventQueue_,t,v),ar(e,i,f,h)});let d=Gm(e,t);so(e,d),ct(e.eventQueue_,d,[])}function YF(e,t,n,r){ho(e,"update",{path:t.toString(),value:n});let i=!0,o=la(e),s={};if(Pe(n,(a,l)=>{i=!1,s[a]=_b(ve(t,a),_e(l),e.serverSyncTree_,o)}),i)ke("update() called with empty data.  Don't do anything."),ar(e,r,"ok",void 0);else{let a=Lu(e),l=bF(e.serverSyncTree_,t,s,a);Fu(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||$e("update at "+t+" failed: "+c);let f=tr(e.serverSyncTree_,a,!d),h=f.length>0?so(e,t):t;ct(e.eventQueue_,h,f),ar(e,r,c,u)}),Pe(n,c=>{let u=Gm(e,ve(t,c));so(e,u)}),ct(e.eventQueue_,t,[])}}function KF(e){ho(e,"onDisconnectEvents");let t=la(e),n=cu();Ug(e.onDisconnect_,re(),(i,o)=>{let s=_b(i,o,e.serverSyncTree_,t);co(n,i,s)});let r=[];Ug(n,re(),(i,o)=>{r=r.concat(ia(e.serverSyncTree_,i,o));let s=Gm(e,i);so(e,s)}),e.onDisconnect_=cu(),ct(e.eventQueue_,re(),r)}function XF(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{r==="ok"&&Bg(e.onDisconnect_,t),ar(e,n,r,i)})}function ID(e,t,n,r){let i=_e(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(o,s)=>{o==="ok"&&co(e.onDisconnect_,t,i),ar(e,r,o,s)})}function JF(e,t,n,r,i){let o=_e(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&co(e.onDisconnect_,t,o),ar(e,i,s,a)})}function eL(e,t,n,r){if(_a(n)){ke("onDisconnect().update() called with empty data.  Don't do anything."),ar(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{i==="ok"&&Pe(n,(s,a)=>{let l=_e(a);co(e.onDisconnect_,ve(t,s),l)}),ar(e,r,i,o)})}function tL(e,t,n){let r;Q(t._path)===".info"?r=em(e.infoSyncTree_,t,n):r=em(e.serverSyncTree_,t,n),Ib(e.eventQueue_,t._path,r)}function sm(e,t,n){let r;Q(t._path)===".info"?r=_u(e.infoSyncTree_,t,n):r=_u(e.serverSyncTree_,t,n),Ib(e.eventQueue_,t._path,r)}function xb(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Mb)}function nL(e){e.persistentConnection_&&e.persistentConnection_.resume(Mb)}function ho(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ke(n,...t)}function ar(e,t,n,r){t&&lo(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function rL(e,t,n,r,i,o){ho(e,"transaction on "+t);let s={path:t,update:n,onComplete:r,status:null,order:TD(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Wm(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{sa("transaction failed: Data returned ",l,s.path),s.status=0;let c=Ou(e.transactionQueueTree_,t),u=Hr(c)||[];u.push(s),Um(c,u);let d;typeof l=="object"&&l!==null&&ft(l,".priority")?(d=kn(l,".priority"),w(Xs(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Nu(e.serverSyncTree_,t)||$.EMPTY_NODE).getPriority().val();let f=la(e),h=_e(l,d),g=jm(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=g,s.currentWriteId=Lu(e);let v=Pm(e.serverSyncTree_,t,g,s.currentWriteId,s.applyLocally);ct(e.eventQueue_,t,v),Vu(e,e.transactionQueueTree_)}}function Wm(e,t,n){return Nu(e.serverSyncTree_,t,n)||$.EMPTY_NODE}function Vu(e,t=e.transactionQueueTree_){if(t||ju(e,t),Hr(t)){let n=Nb(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&iL(e,oa(t),n)}else Cb(t)&&ku(t,n=>{Vu(e,n)})}function iL(e,t,n){let r=n.map(c=>c.currentWriteId),i=Wm(e,t,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];w(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ye(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{ho(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(tr(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ju(e,Ou(e.transactionQueueTree_,t)),Vu(e,e.transactionQueueTree_),ct(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)lo(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{$e("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}so(e,t)}},s)}function so(e,t){let n=Ab(e,t),r=oa(n),i=Nb(e,n);return oL(e,i,r),r}function oL(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=Ye(n,l.path),u=!1,d;if(w(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(tr(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=GF)u=!0,d="maxretry",i=i.concat(tr(e.serverSyncTree_,l.currentWriteId,!0));else{let f=Wm(e,l.path,s);l.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){sa("transaction failed: Data returned ",h,l.path);let g=_e(h);typeof h=="object"&&h!=null&&ft(h,".priority")||(g=g.updatePriority(f.getPriority()));let y=l.currentWriteId,M=la(e),z=jm(g,f,M);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=z,l.currentWriteId=Lu(e),s.splice(s.indexOf(y),1),i=i.concat(Pm(e.serverSyncTree_,l.path,z,l.currentWriteId,l.applyLocally)),i=i.concat(tr(e.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(tr(e.serverSyncTree_,l.currentWriteId,!0))}ct(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}ju(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)lo(r[a]);Vu(e,e.transactionQueueTree_)}function Ab(e,t){let n,r=e.transactionQueueTree_;for(n=Q(t);n!==null&&Hr(r)===void 0;)r=Ou(r,n),t=fe(t),n=Q(t);return r}function Nb(e,t){let n=[];return Rb(e,t,n),n.sort((r,i)=>r.order-i.order),n}function Rb(e,t,n){let r=Hr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ku(t,i=>{Rb(e,i,n)})}function ju(e,t){let n=Hr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Um(t,n.length>0?n:void 0)}ku(t,r=>{ju(e,r)})}function Gm(e,t){let n=oa(Ab(e,t)),r=Ou(e.transactionQueueTree_,t);return VF(r,i=>{gg(e,i)}),gg(e,r),wb(r,i=>{gg(e,i)}),n}function gg(e,t){let n=Hr(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(w(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(w(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(tr(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Um(t,void 0):n.length=o+1,ct(e.eventQueue_,oa(t),i);for(let s=0;s<r.length;s++)lo(r[s])}}function sL(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function aL(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$e(`Invalid query segment '${n}' in query '${e}'`)}return t}var am=function(e,t){let n=lL(e),r=n.namespace;n.domain==="firebase.com"&&an(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Vk();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new tu(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ie(n.pathString)}},lL=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=sL(e.substring(u,d)));let f=aL(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var SD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cL=function(){let e=0,t=[];return function(n){let r=n===e;e=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=SD.charAt(n%64),n=Math.floor(n/64);w(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=SD.charAt(t[i]);return w(s.length===20,"nextPushId: Length should be 20."),s}}();var Cu=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ie(this.snapshot.exportVal())}},wu=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Js=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var Eu=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Oe;return XF(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){lt("OnDisconnect.remove",this._path);let t=new Oe;return ID(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){lt("OnDisconnect.set",this._path),cn("OnDisconnect.set",t,this._path,!1);let n=new Oe;return ID(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){lt("OnDisconnect.setWithPriority",this._path),cn("OnDisconnect.setWithPriority",t,this._path,!1),$m("OnDisconnect.setWithPriority",n,!1);let r=new Oe;return JF(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){lt("OnDisconnect.update",this._path),Db("OnDisconnect.update",t,this._path,!1);let n=new Oe;return eL(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var Xe=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:bm(this._path)}get ref(){return new ut(this._repo,this._path)}get _queryIdentifier(){let t=fD(this._queryParams),n=Em(t);return n==="{}"?"default":n}get _queryObject(){return fD(this._queryParams)}isEqual(t){if(t=ze(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=Im(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+mP(this._path)}};function Bu(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function cr(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===sn){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==ir)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==Nn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===pe){if(t!=null&&!Xs(t)||n!=null&&!Xs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(w(e.getIndex()instanceof Hs||e.getIndex()===Tm,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Uu(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ut=class e extends Xe{constructor(t,n){super(t,n,new qs,!1)}get parent(){let t=ZD(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},ao=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new ie(t),r=lr(this.ref,t);return new e(this._node.getChild(n),r,pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,lr(this.ref,r),pe)))}hasChild(t){let n=new ie(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function $t(e,t){return e=ze(e),e._checkNotDeleted("ref"),t!==void 0?lr(e._root,t):e._root}function qm(e,t){e=ze(e),e._checkNotDeleted("refFromURL");let n=am(t,e._repo.repoInfo_.nodeAdmin);bb("refFromURL",n);let r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&an("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),$t(e,n.path.toString())}function lr(e,t){return e=ze(e),Q(e._path)===null?zF("child","path",t,!1):fo("child","path",t,!1),new ut(e._repo,ve(e._path,t))}function $u(e,t){e=ze(e),lt("push",e._path),cn("push",t,e._path,!0);let n=Tb(e._repo),r=cL(n),i=lr(e,r),o=lr(e,r),s;return t!=null?s=zr(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function Hu(e){return lt("remove",e._path),zr(e,null)}function zr(e,t){e=ze(e),lt("set",e._path),cn("set",t,e._path,!1);let n=new Oe;return zm(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Ob(e,t){e=ze(e),lt("setPriority",e._path),$m("setPriority",t,!1);let n=new Oe;return zm(e._repo,ve(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function kb(e,t,n){if(lt("setWithPriority",e._path),cn("setWithPriority",t,e._path,!1),$m("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let r=new Oe;return zm(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}function Pb(e,t){Db("update",t,e._path,!1);let n=new Oe;return YF(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Fb(e){e=ze(e);let t=new Js(()=>{}),n=new ea(t);return ZF(e._repo,e,n).then(r=>new ao(r,new ut(e._repo,e._path),e._queryParams.getIndex()))}var ea=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new Cu("value",this,new ao(t.snapshotNode,new ut(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new wu(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Du=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new wu(this,t,n):null}createEvent(t,n){w(t.childName!=null,"Child events should have a childName.");let r=lr(new ut(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new Cu(t.type,this,new ao(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function ca(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{sm(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new Js(n,o||void 0),a=t==="value"?new ea(s):new Du(t,s);return tL(e._repo,e,a),()=>sm(e._repo,e,a)}function Rn(e,t,n,r){return ca(e,"value",t,n,r)}function Qm(e,t,n,r){return ca(e,"child_added",t,n,r)}function Zm(e,t,n,r){return ca(e,"child_changed",t,n,r)}function Ym(e,t,n,r){return ca(e,"child_moved",t,n,r)}function Km(e,t,n,r){return ca(e,"child_removed",t,n,r)}function Xm(e,t,n){let r=null,i=n?new Js(n):null;t==="value"?r=new ea(i):t&&(r=new Du(t,i)),sm(e._repo,e,r)}var dt=class{},bu=class extends dt{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){cn("endAt",this._value,t._path,!0);let n=Lg(t._queryParams,this._value,this._key);if(Uu(n),cr(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xe(t._repo,t._path,n,t._orderByCalled)}};function Lb(e,t){return aa("endAt","key",t,!0),new bu(e,t)}var lm=class extends dt{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){cn("endBefore",this._value,t._path,!1);let n=PP(t._queryParams,this._value,this._key);if(Uu(n),cr(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Xe(t._repo,t._path,n,t._orderByCalled)}};function Vb(e,t){return aa("endBefore","key",t,!0),new lm(e,t)}var Iu=class extends dt{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){cn("startAt",this._value,t._path,!0);let n=Fg(t._queryParams,this._value,this._key);if(Uu(n),cr(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Xe(t._repo,t._path,n,t._orderByCalled)}};function jb(e=null,t){return aa("startAt","key",t,!0),new Iu(e,t)}var cm=class extends dt{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){cn("startAfter",this._value,t._path,!1);let n=kP(t._queryParams,this._value,this._key);if(Uu(n),cr(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Xe(t._repo,t._path,n,t._orderByCalled)}};function Bb(e,t){return aa("startAfter","key",t,!0),new cm(e,t)}var um=class extends dt{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xe(t._repo,t._path,RP(t._queryParams,this._limit),t._orderByCalled)}};function Ub(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new um(e)}var dm=class extends dt{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Xe(t._repo,t._path,OP(t._queryParams,this._limit),t._orderByCalled)}};function $b(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new dm(e)}var fm=class extends dt{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Bu(t,"orderByChild");let n=new ie(this._path);if(Z(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Hs(n),i=Mu(t._queryParams,r);return cr(i),new Xe(t._repo,t._path,i,!0)}};function Hb(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return fo("orderByChild","path",e,!1),new fm(e)}var hm=class extends dt{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Bu(t,"orderByKey");let n=Mu(t._queryParams,sn);return cr(n),new Xe(t._repo,t._path,n,!0)}};function zb(){return new hm}var pm=class extends dt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Bu(t,"orderByPriority");let n=Mu(t._queryParams,pe);return cr(n),new Xe(t._repo,t._path,n,!0)}};function Wb(){return new pm}var gm=class extends dt{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Bu(t,"orderByValue");let n=Mu(t._queryParams,Tm);return cr(n),new Xe(t._repo,t._path,n,!0)}};function Gb(){return new gm}var mm=class extends dt{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(cn("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new bu(this._value,this._key)._apply(new Iu(this._value,this._key)._apply(t))}};function qb(e,t){return aa("equalTo","key",t,!0),new mm(e,t)}function Tt(e,...t){let n=ze(e);for(let r of t)n=r._apply(n);return n}mF(ut);wF(ut);var uL="FIREBASE_DATABASE_EMULATOR_HOST",vm={},dL=!1;function fL(e,t,n,r){e.repoInfo_=new tu(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function Jm(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ke("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=am(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[uL]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=am(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new Ls(Ls.OWNER):new wg(e.name,e.options,t);bb("Invalid Firebase Database URL",s),Z(s.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");let d=pL(a,e,u,new Cg(e,n));return new ym(d,e)}function hL(e,t){let n=vm[t];(!n||n[e.key]!==e)&&an(`Database ${t}(${e.repoInfo_}) has already been deleted.`),xb(e),delete n[e.key]}function pL(e,t,n,r){let i=vm[t.name];i||(i={},vm[t.name]=i);let o=i[e.toURLString()];return o&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new om(e,dL,n,r),i[e.toURLString()]=o,o}var ym=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ut(this._repo,re())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&an("Cannot call "+t+" on a deleted database.")}};function Qb(){QD.IS_TRANSPORT_INITIALIZED&&$e("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Zb(){Qb(),Us.forceDisallow()}function Yb(){Qb(),Ki.forceDisallow(),Us.forceAllow()}function Kb(e=id(),t){let n=rd(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=hv("database");r&&ev(n,...r)}return n}function ev(e,t,n,r={}){e=ze(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Cv(r,o.repoInfo_.emulatorOptions))return;an("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Ls(Ls.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:pv(r.mockUserToken,e.app.options.projectId);s=new Ls(a)}fL(o,i,r,s)}function Xb(e){e=ze(e),e._checkNotDeleted("goOffline"),xb(e._repo)}function Jb(e){e=ze(e),e._checkNotDeleted("goOnline"),nL(e._repo)}function eI(e,t){AD(e,t)}function gL(e){wm(Sv),Co(new dn("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return Jm(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Pn(ZE,YE,e),Pn(ZE,YE,"esm2017")}var mL={".sv":"timestamp"};function tI(){return mL}function nI(e){return{".sv":{increment:e}}}var _m=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function rI(e,t,n){var r;if(e=ze(e),lt("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Oe,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new ao(u,new ut(e._repo,e._path),pe),o.resolve(new _m(c,d)))},a=Rn(e,()=>{});return rL(e._repo,e._path,t,s,a,i),o.promise}Sm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};Sm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};gL();var vL="@firebase/database-compat",yL="2.0.5";var _L=new Yr("@firebase/database-compat"),iI=function(e){let t="FIREBASE WARNING: "+e;_L.warn(t)};var CL=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Je(e,t)+"must be a boolean.")},wL=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Je(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var tv=class{constructor(t){this._delegate=t}cancel(t){F("OnDisconnect.cancel",0,1,arguments.length),Te("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),r=>t(r)),n}remove(t){F("OnDisconnect.remove",0,1,arguments.length),Te("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),r=>t(r)),n}set(t,n){F("OnDisconnect.set",1,2,arguments.length),Te("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){F("OnDisconnect.setWithPriority",2,3,arguments.length),Te("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(t,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(t,n){if(F("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,iI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Te("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(t);return n&&r.then(()=>n(null),i=>n(i)),r}};var nv=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return F("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Wr=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return F("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return F("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return F("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return F("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return F("DataSnapshot.child",0,1,arguments.length),t=String(t),fo("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return F("DataSnapshot.hasChild",1,1,arguments.length),fo("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return F("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return F("DataSnapshot.forEach",1,1,arguments.length),Te("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return F("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return F("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return F("DataSnapshot.ref",0,0,arguments.length),new On(this._database,this._delegate.ref)}get ref(){return this.getRef()}},zu=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,r,i){var o;F("Query.on",2,4,arguments.length),Te("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Wr(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return Rn(this._delegate,a,l),n;case"child_added":return Qm(this._delegate,a,l),n;case"child_removed":return Km(this._delegate,a,l),n;case"child_changed":return Zm(this._delegate,a,l),n;case"child_moved":return Ym(this._delegate,a,l),n;default:throw new Error(Je("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,r){if(F("Query.off",0,3,arguments.length),wL("Query.off",t,!0),Te("Query.off","callback",n,!0),td("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,Xm(this._delegate,t,i)}else Xm(this._delegate,t)}get(){return Fb(this._delegate).then(t=>new Wr(this.database,t))}once(t,n,r,i){F("Query.once",1,4,arguments.length),Te("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Oe,a=(c,u)=>{let d=new Wr(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":Rn(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":Qm(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Km(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Zm(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Ym(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Je("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return F("Query.limitToFirst",1,1,arguments.length),new e(this.database,Tt(this._delegate,Ub(t)))}limitToLast(t){return F("Query.limitToLast",1,1,arguments.length),new e(this.database,Tt(this._delegate,$b(t)))}orderByChild(t){return F("Query.orderByChild",1,1,arguments.length),new e(this.database,Tt(this._delegate,Hb(t)))}orderByKey(){return F("Query.orderByKey",0,0,arguments.length),new e(this.database,Tt(this._delegate,zb()))}orderByPriority(){return F("Query.orderByPriority",0,0,arguments.length),new e(this.database,Tt(this._delegate,Wb()))}orderByValue(){return F("Query.orderByValue",0,0,arguments.length),new e(this.database,Tt(this._delegate,Gb()))}startAt(t=null,n){return F("Query.startAt",0,2,arguments.length),new e(this.database,Tt(this._delegate,jb(t,n)))}startAfter(t=null,n){return F("Query.startAfter",0,2,arguments.length),new e(this.database,Tt(this._delegate,Bb(t,n)))}endAt(t=null,n){return F("Query.endAt",0,2,arguments.length),new e(this.database,Tt(this._delegate,Lb(t,n)))}endBefore(t=null,n){return F("Query.endBefore",0,2,arguments.length),new e(this.database,Tt(this._delegate,Vb(t,n)))}equalTo(t,n){return F("Query.equalTo",1,2,arguments.length),new e(this.database,Tt(this._delegate,qb(t,n)))}toString(){return F("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return F("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(F("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Te(t,"cancel",i.cancel,!0),i.context=r,td(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Je(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new On(this.database,new ut(this._delegate._repo,this._delegate._path))}},On=class e extends zu{constructor(t,n){super(t,new Xe(n._repo,n._path,new qs,!1)),this.database=t,this._delegate=n}getKey(){return F("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return F("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,lr(this._delegate,t))}getParent(){F("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return F("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){F("Reference.set",1,2,arguments.length),Te("Reference.set","onComplete",n,!0);let r=zr(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}update(t,n){if(F("Reference.update",1,2,arguments.length),Array.isArray(t)){let i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,iI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}lt("Reference.update",this._delegate._path),Te("Reference.update","onComplete",n,!0);let r=Pb(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){F("Reference.setWithPriority",2,3,arguments.length),Te("Reference.setWithPriority","onComplete",r,!0);let i=kb(this._delegate,t,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(t){F("Reference.remove",0,1,arguments.length),Te("Reference.remove","onComplete",t,!0);let n=Hu(this._delegate);return t&&n.then(()=>t(null),r=>t(r)),n}transaction(t,n,r){F("Reference.transaction",1,3,arguments.length),Te("Reference.transaction","transactionUpdate",t,!1),Te("Reference.transaction","onComplete",n,!0),CL("Reference.transaction","applyLocally",r,!0);let i=rI(this._delegate,t,{applyLocally:r}).then(o=>new nv(o.committed,new Wr(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(t,n){F("Reference.setPriority",1,2,arguments.length),Te("Reference.setPriority","onComplete",n,!0);let r=Ob(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}push(t,n){F("Reference.push",0,2,arguments.length),Te("Reference.push","onComplete",n,!0);let r=$u(this._delegate,t),i=r.then(s=>new e(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new e(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return lt("Reference.onDisconnect",this._delegate._path),new tv(new Eu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Gr=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Zb,forceLongPolling:Yb}}useEmulator(t,n,r={}){ev(this._delegate,t,n,r)}ref(t){if(F("database.ref",0,1,arguments.length),t instanceof On){let n=qm(this._delegate,t.toString());return new On(this,n)}else{let n=$t(this._delegate,t);return new On(this,n)}}refFromURL(t){F("database.refFromURL",1,1,arguments.length);let r=qm(this._delegate,t);return new On(this,r)}goOffline(){return F("database.goOffline",0,0,arguments.length),Xb(this._delegate)}goOnline(){return F("database.goOnline",0,0,arguments.length),Jb(this._delegate)}};Gr.ServerValue={TIMESTAMP:tI(),increment:e=>nI(e)};function EL({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){wm(n);let a=new nd("database-standalone"),l=new Ca("auth-internal",a);l.setComponent(new dn("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new Ca("app-check-internal",a),c.setComponent(new dn("app-check-internal",()=>i,"PRIVATE"))),{instance:new Gr(Jm(e,l,c,t,s),e),namespace:o}}var DL=Object.freeze({__proto__:null,initStandalone:EL});var bL=Gr.ServerValue;function IL(e){e.INTERNAL.registerComponent(new dn("database-compat",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:n});return new Gr(i,r)},"PUBLIC").setServiceProps({Reference:On,Query:zu,Database:Gr,DataSnapshot:Wr,enableLogging:eI,INTERNAL:DL,ServerValue:bL}).setMultipleInstances(!0)),e.registerVersion(vL,yL)}IL(xt);function ua(e,t,n="on",r=Ln){return new L(i=>{let o=null;return o=e[n](t,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(N(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),Mo())}function SL(e){return typeof e=="string"}function ML(e){return typeof e.exportVal=="function"}function cI(e){return e==null}function uI(e){return typeof e.set=="function"}function oI(e,t){return uI(t)?t:e.ref(t)}function dI(e,t){if(SL(e))return t.stringCase();if(uI(e))return t.firebaseCase();if(ML(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function fI(e){return(cI(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function hI(e,t,n){t=fI(t);let r=t.map(i=>ua(e,i,"on",n));return gn(...r)}function TL(e,t,n){let r=hI(e,t).pipe(ui((i,o)=>[...i,o],[]));return AL(e,r,n)}function xL(e,t){return ua(e,"value","on",t).pipe(N(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function AL(e,t,n){return xL(e,n).pipe(Pd(t),N(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Rd(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),N(i=>i.actions))}function sI(e,t){return function(r,i){return dI(r,{stringCase:()=>e.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function NL(e){return function(n){return n?dI(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function RL(e,t,n){return ua(e,"value","once",n).pipe(le(r=>{let i=[k(r)];return t.forEach(o=>i.push(ua(e,o,"on",n))),gn(...i).pipe(ui(kL,[]))}),Td())}function pI(e,t){let n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function OL(e,t){if(cI(t))return 0;{let n=pI(e,t);return n===-1?e.length:n+1}}function kL(e,t){let{payload:n,prevKey:r,key:i}=t,o=pI(e,i),s=OL(e,r);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==r&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(r==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===i?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function aI(e,t,n){return t=fI(t),RL(e,t,n)}function PL(e,t,n){let r=t.schedulers.outsideAngular,i=C(J).run(()=>e.ref);return{query:e,update:sI(i,"update"),set:sI(i,"set"),push:o=>i.push(o),remove:NL(i),snapshotChanges(o){return aI(e,o,r).pipe(rn(n))},stateChanges(o){return hI(e,o,r).pipe(rn(n))},auditTrail(o){return TL(e,o,r).pipe(rn(n))},valueChanges(o,s){return aI(e,o,r).pipe(N(l=>l.map(c=>s&&s.idField?W(E({},c.payload.val()),{[s.idField]:c.key}):c.payload.val())),rn(n))}}}function lI(e,t){return function(){return ua(e,"value","on",t)}}function FL(e,t,n){return{query:e,snapshotChanges(){return lI(e,t.schedulers.outsideAngular)().pipe(rn(n))},update(r){return e.ref.update(r)},set(r){return e.ref.set(r)},remove(){return e.ref.remove()},valueChanges(){return lI(e,t.schedulers.outsideAngular)().pipe(rn(n),N(i=>i.payload.exists()?i.payload.val():null))}}}var LL=new S("angularfire2.realtimeDatabaseURL"),VL=new S("angularfire2.database.use-emulator"),jL=(()=>{class e{schedulers;database;injector=C(Ne);constructor(n,r,i,o,s,a,l,c,u,d,f,h,g,v,y){this.schedulers=a;let M=l,z=Kc(n,s,r);c&&lg(z,s,u,f,h,g,d,v),this.database=Xc(`${z.name}.database.${i}`,"AngularFireDatabase",z.name,()=>{let _=s.runOutsideAngular(()=>z.database(i||void 0));return M&&_.useEmulator(...M),_},[M])}list(n,r){let i=C(J).runOutsideAngular(()=>oI(this.database,n)),o=i;return r&&(o=r(i)),PL(o,this,this.injector)}object(n){let r=C(J).runOutsideAngular(()=>oI(this.database,n));return FL(r,this,this.injector)}createPushId(){return C(J).runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||e)(b(Zc),b(Yc,8),b(LL,8),b(wt),b(J),b(xs),b(VL,8),b(QE,8),b(ng,8),b(rg,8),b(ig,8),b(og,8),b(sg,8),b(ag,8),b(Zi,8))};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),gI=(()=>{class e{constructor(){xt.registerVersion("angularfire",Qp.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Et({type:e});static \u0275inj=_t({providers:[jL]})}return e})();var Wu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["gallery"]],decls:3,vars:0,consts:[[1,"container-gallery"],["src","assets/img/countryside/photos/galeria1.png","alt","",1,"img"],["src","assets/img/countryside/photos/galeria2.png","alt","",1,"img","ms-4"]],template:function(n,r){n&1&&(p(0,"div",0),I(1,"img",1)(2,"img",2),m())},styles:[".container-gallery[_ngcontent-%COMP%]{width:100%;height:150px;overflow-x:auto;display:flex;flex-direction:row;gap:0;padding-left:2rem;padding-right:2rem}@media (min-width: 1200px){.container-gallery[_ngcontent-%COMP%]{justify-content:center}img[_ngcontent-%COMP%]{flex-shrink:0;width:auto;height:100%;object-fit:cover}}"]})};var mI={production:!1,firebaseConfig:{apiKey:"AIzaSyC6Xrc9EqMyXKH_gNFaOGuAX-ItudzZAVs",authDomain:"bautizo-sofia.firebaseapp.com",databaseURL:"https://bautizo-sofia-default-rtdb.firebaseio.com",projectId:"bautizo-sofia",storageBucket:"bautizo-sofia.firebasestorage.app",messagingSenderId:"981839514602",appId:"1:981839514602:web:981d3b9a4dcde418c84093"}};var Gu=class e{app=Mv(mI.firebaseConfig);database=Kb(this.app);basePath="comentarios";getProperties(){return ue(this,null,function*(){let t=$t(this.database,"properties");return new Promise((n,r)=>{Rn(t,i=>{let o=i.val();n(o)},i=>{r(i)})})})}addComment(t){return ue(this,null,function*(){let n=$t(this.database,this.basePath),r=yield $u(n,t);if(console.log("Comment added:",r.key),!r.key)throw new Error("Failed to generate a key for the new comment.");return r.key})}getComments(){return ue(this,null,function*(){let t=$t(this.database,this.basePath);return new Promise((n,r)=>{Rn(t,i=>{let o=i.val(),s=o?Object.entries(o).map(([a,l])=>W(E({},l),{id:a})):[];n(s)},i=>{r(i)})})})}updateComment(t){return ue(this,null,function*(){let n=$t(this.database,`${this.basePath}/${t.id}`);return new Promise((r,i)=>{zr(n,t).then(()=>r()).catch(o=>i(o))})})}deleteComment(t){return ue(this,null,function*(){let n=$t(this.database,`${this.basePath}/${t}`);return new Promise((r,i)=>{Hu(n).then(()=>r()).catch(o=>i(o))})})}getAvisos(){return ue(this,null,function*(){let t=$t(this.database,"avisos");return new Promise((n,r)=>{Rn(t,i=>{let o=i.val(),s=o?Object.values(o):[];n(s)},i=>{r(i)})})})}updateCounter(t,n){return ue(this,null,function*(){let r=$t(this.database,"contadores/"+n);return new Promise((i,o)=>{Rn(r,s=>ue(this,null,function*(){let l=(s.val()||0)+t;try{yield zr(r,l),i()}catch(c){o(c)}}),s=>{o(s)},{onlyOnce:!0})})})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})};var UL=()=>["1","2","3","4","5","6","7","8","9"];function $L(e,t){e&1&&(p(0,"div",81),I(1,"gallery"),m())}function HL(e,t){e&1&&(p(0,"div",34)(1,"div",35),I(2,"img",82),m()())}function zL(e,t){e&1&&(p(0,"div",17),I(1,"img",18),m())}function WL(e,t){e&1&&(p(0,"div",83),D(1,'"> '),I(2,"img",84),m())}function GL(e,t){if(e&1&&(p(0,"div",85)(1,"p",86),D(2),m()()),e&2){let n=t.$implicit;ee(2),qo(n)}}function qL(e,t){if(e&1){let n=Oi();p(0,"div",91)(1,"div",92)(2,"button",93),V("click",function(){wn(n);let i=Dt(2);return En(i.openModal("commentModal"))}),I(3,"i",94),p(4,"p",95),D(5,"Agregar comentario"),m()()()()}}function QL(e,t){if(e&1){let n=Oi();p(0,"div",101)(1,"img",102),V("click",function(){wn(n);let i=Dt().$implicit,o=Dt(2);return En(o.ediComment(i,"commentModal"))}),m(),p(2,"img",103),V("click",function(){wn(n);let i=Dt(3);return En(i.openModal("deleteModal"))}),m()()}}function ZL(e,t){if(e&1&&(p(0,"div",96)(1,"div",97)(2,"div",98),D(3),m(),Ue(4,QL,3,0,"div",99),m(),p(5,"div",100),D(6),m()()),e&2){let n=t.$implicit,r=t.first,i=Dt(2);ee(3),qo(n.autor),ee(),se("ngIf",(i.idCommentLocal==n.id||i.showEdit&&r)&&i.limitEdit),ee(2),qo(n.comentario)}}function YL(e,t){if(e&1&&(p(0,"div")(1,"div",17),I(2,"img",18),m(),p(3,"div",83),I(4,"img",87),m(),Ue(5,qL,6,0,"div",88),p(6,"div",89),Ue(7,ZL,7,3,"div",90),m()()),e&2){let n=Dt();ee(5),se("ngIf",!n.idCommentLocal),ee(2),se("ngForOf",n.listComments)}}function KL(e,t){if(e&1){let n=Oi();p(0,"div",104)(1,"div",83),I(2,"img",105),m(),p(3,"div",106)(4,"button",107),V("click",function(){wn(n);let i=Dt();return i.openModal("confirmaModal"),i.opcConfirm="si",En(i.btnOpcConfirm=!1)}),I(5,"i",108),p(6,"p",109),D(7,"S\xED"),m()(),p(8,"button",107),V("click",function(){wn(n);let i=Dt();return i.openModal("confirmaModal"),i.opcConfirm="talvez",En(i.btnOpcConfirm=!0)}),I(9,"i",110),p(10,"p",109),D(11,"Talvez"),m()(),p(12,"button",107),V("click",function(){wn(n);let i=Dt();return i.openModal("confirmaModal"),i.opcConfirm="no",En(i.btnOpcConfirm=!0)}),I(13,"i",111),p(14,"p",109),D(15,"No"),m()()()()}}function XL(e,t){e&1&&(p(0,"div",17),I(1,"img",112),m())}function JL(e,t){e&1&&I(0,"i",113)}function eV(e,t){e&1&&I(0,"i",114)}function tV(e,t){e&1&&I(0,"i",115)}function nV(e,t){if(e&1){let n=Oi();p(0,"li",119),V("click",function(){let i=wn(n).$implicit,o=Dt(2);return En(o.clickBtnConfirm(i))}),D(1),m()}if(e&2){let n=t.$implicit;se("id","btnConf"+n),ee(),Xl(" ",n!="9"?n:n+"+"," ")}}function rV(e,t){e&1&&(p(0,"div")(1,"div",58)(2,"p"),D(3,"Confirma el numero de personas que acudiran"),m()(),p(4,"div",116)(5,"ul",117),Ue(6,nV,2,2,"li",118),m()()()),e&2&&(ee(6),se("ngForOf",vC(1,UL)))}function iV(e,t){e&1&&(p(0,"div",25)(1,"p",120),D(2," Gracias por considerar venir. Esperamos verte si decides unirte. "),m()())}function oV(e,t){e&1&&(p(0,"div",25)(1,"p",120),D(2," Gracias por confirmar. Si cambias de opinion te estaremos esperando "),m()())}function sV(e,t){if(e&1){let n=Oi();p(0,"button",121),V("click",function(){wn(n);let i=Dt();return i.closeModal("confirmaModal"),En(i.confirmarInvitacion())}),D(1,"Confirmar"),m()}}var qu=class e{constructor(t,n,r){this.router=t;this.firebaseService=n;this.ngZone=r;this.commentData=new Fr("","","",""),this.idCommentLocal=localStorage.getItem("commentId")||"",this.isConfirmacion=!!localStorage.getItem("confirmacion")}listComments=[];commentData;idCommentLocal="";showEdit=!1;limitEdit=!0;showComments=!1;showPhotos=!1;viewPhotos=!1;avisos=[];opcConfirm="";btnOpcConfirm=!0;countdownInterval;animatePhotos=!1;isConfirmacion=!1;ngOnInit(){return ue(this,null,function*(){this.countdownInterval=setInterval(()=>this.updateCountdown(),1e3);let t=document.querySelector(".content");t&&t.addEventListener("scroll",this.checkVisibility.bind(this));let n=yield this.firebaseService.getProperties(),r=localStorage.getItem("type");n&&(this.showComments=n.showComments,this.showPhotos=n.showPhotos&&r==="f",this.viewPhotos=n.viewPhotos),r==="l"&&(localStorage.removeItem("entro"),localStorage.removeItem("type"),this.router.navigate(["/"])),r==="c"&&(localStorage.removeItem("confirmacion"),localStorage.removeItem("type"),this.router.navigate(["/"])),this.avisos=yield this.firebaseService.getAvisos();let i=localStorage.getItem("editCount");i!==null&&parseInt(i,10)>2&&(this.limitEdit=!1)})}ngAfterViewInit(){this.animation(),document.getElementById("commentInput").addEventListener("input",function(){let i=350-this.value.length,o=document.getElementById("wordCounter");o.textContent=`${i} palabras restantes`}),this.searchComments()}openModal(t){let n=document.getElementById(t);n.style.display="block",R({targets:"#"+t,scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}closeModal(t){let n=document.getElementById("modalId");R({targets:"#"+t,scale:[1,0],opacity:[1,0],duration:300,easing:"easeOutQuad",oncomplete:()=>{n.style.display="none"}})}ediComment(t,n){this.commentData=t,this.openModal(n)}deleteComment(){let t=localStorage.getItem("commentId");t&&(this.firebaseService.deleteComment(t),localStorage.removeItem("commentId")),this.listComments.shift(),this.showEdit=!1}confirmComment(){return ue(this,null,function*(){let t=localStorage.getItem("commentId");if(this.commentData&&t){this.commentData.id=t,this.firebaseService.updateComment(this.commentData),this.listComments.shift(),this.listComments.unshift(this.commentData);let n=parseInt(localStorage.getItem("editCount")||"0",10);n>=2&&(this.limitEdit=!1),localStorage.setItem("editCount",(n+1).toString())}else{let n=new Fr("",this.commentData.autor,this.commentData.comentario,new Date().toLocaleDateString());this.listComments.unshift(n);let r=yield this.firebaseService.addComment(n);this.idCommentLocal=r,localStorage.setItem("commentId",this.idCommentLocal),this.showEdit=!0,localStorage.setItem("editCount","0"),this.limitEdit=!0}this.commentData=new Fr("","","",""),setTimeout(()=>{R({targets:".container_commnets__card",translateY:[-100,0],opacity:[0,1],duration:500,easing:"easeOutQuad",delay:R.stagger(200,{start:200})})},100),this.closeModal("confirmModal"),setTimeout(()=>{this.closeModal("commentModal")},100)})}confirmDelete(){this.deleteComment(),localStorage.removeItem("commentId"),this.idCommentLocal="",this.commentData=new Fr("","","",""),setTimeout(()=>{R({targets:".container_commnets__card",translateY:[-100,0],opacity:[0,1],duration:500,easing:"easeOutQuad",delay:R.stagger(200,{start:200})})},100),this.closeModal("deleteModal")}addCommnet(){(this.commentData!=null&&this.commentData.autor==null||this.commentData.autor==="")&&(this.commentData.autor="Anonimo"),this.openConfirmModal()}openConfirmModal(){let t=document.getElementById("confirmModal");t.style.display="block",R({targets:"#confirmModal",scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}searchComments(){this.firebaseService.getComments().then(t=>{let n=localStorage.getItem("commentId");if(n){let r=t.findIndex(i=>i.id===n);if(r!==-1){let[i]=t.splice(r,1);t.unshift(i)}else this.idCommentLocal="",localStorage.removeItem("commentId"),localStorage.removeItem("editCount")}this.listComments=t})}openMapChurch(){window.open("https://maps.app.goo.gl/vzCdbQVbcEv2XY7e8","_blank")}openMapParty(){window.open("https://maps.app.goo.gl/2qBdsJ3GeuCZMBZ4A","_blank")}openMesaRegalos(t){let n;t==="am"?n="https://www.amazon.com.mx/registries/gl/guest-view/3E7RLOFQ55UDY":t=="liv",window.open(n,"_blank")}showInvitation(){this.router.navigate(["/bautizo"])}animation(){R.timeline().add({targets:".img-title",top:["70px","-30px"],duration:2e3,delay:1e3,easing:"easeOutExpo"}).add({targets:".img-header",translateY:["-100%","0%"],opacity:1,duration:1500,easing:"easeOutExpo"},"-=1500").add({targets:".img-photo",scale:[0,1],opacity:[0,1],duration:2e3,easing:"easeOutExpo"},"-=1000").add({targets:".text-center",translateX:["-100%","0%"],opacity:[0,1],duration:1500,easing:"easeOutExpo",delay:R.stagger(100)},"-=1500").add({targets:".separator",opacity:[0,1],duration:1e3,easing:"linear"},"-=2000").add({targets:".btn-see",opacity:[0,1],duration:1500,easing:"linear"},"-=2000")}updateCountdown(){let t=new Date("2025-07-14T00:00:00").getTime(),n=new Date().getTime(),r=t-n,i=Math.floor(r/(1e3*60*60*24)),o=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),s=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3),l=document.getElementById("days"),c=document.getElementById("hours"),u=document.getElementById("minutes"),d=document.getElementById("seconds");l&&(l.innerText=i.toString()),c&&(c.innerText=o.toString()),u&&(u.innerText=s.toString()),d&&(d.innerText=a.toString()),r<0&&clearInterval(this.countdownInterval)}isElementInViewport(t){let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}checkVisibility(){document.querySelectorAll(".photos").forEach(n=>{this.isElementInViewport(n)?this.animatePhotos=!0:this.animatePhotos=!1})}nInv=0;clickBtnConfirm(t){this.btnOpcConfirm=!0,this.nInv=parseInt(t),document.querySelectorAll(".list-group-item").forEach(i=>i.classList.remove("active"));let r=document.getElementById("btnConf"+t);r&&r.classList.add("active")}confirmarInvitacion(){this.opcConfirm=="si"?(localStorage.setItem("confirmacion","si"),this.firebaseService.updateCounter(this.nInv,"si")):this.opcConfirm=="no"?(localStorage.setItem("confirmacion","no"),this.firebaseService.updateCounter(1,"no")):this.opcConfirm=="talvez"&&(localStorage.setItem("confirmacion","talvez"),this.firebaseService.updateCounter(1,"talvez")),this.isConfirmacion=!0}static \u0275fac=function(n){return new(n||e)(G(It),G(Gu),G(J))};static \u0275cmp=me({type:e,selectors:[["app-invitacion"]],decls:182,vars:18,consts:[[1,"content"],[1,"d-flex","justify-content-center"],["src","assets/img/countryside/roses.png","alt","header",1,"img-header"],["src","assets/img/countryside/bautizo.png","alt","title",1,"img-title"],["src","assets/img/countryside/img_photo.png","alt","photo",1,"img-photo"],[1,"btn-see","shadow-lg",3,"click"],[1,"text-center","mt-5"],[1,"text-1"],[1,"d-flex","flex-column","align-items-center"],[1,"text-2"],[1,"text-center","more-space"],["src","assets/img/countryside/separator.png","alt","photo",1,"separator",2,"transform","scaleY(-1)"],[1,"text-center","ms-5","me-5"],["src","assets/img/countryside/separator.png","alt","photo",1,"separator"],[1,"d-flex","justify-content-center","mt-5","mb-5"],["src","assets/img/countryside/dateBautizo.png","alt","photo",1,"img-date-ba"],["src","assets/img/countryside/locationChurch.png","alt","photo",1,"img-photo",3,"click"],[1,"d-flex","justify-content-center","more-space"],["src","assets/img/countryside/stars-separator.png","alt","photo",1,"start-separator"],["src","assets/img/countryside/party.png","alt","photo",1,"img-photo"],[1,"text-center","m-5"],["src","assets/img/countryside/date_party.png","alt","photo",1,"img-date-party"],["src","assets/img/countryside/locationParty.png","alt","photo",1,"img-photo",3,"click"],["src","assets/img/countryside/birthday.png","alt","photo",1,"img-photo"],["class","more-space photos mt-3",4,"ngIf"],[1,"text-center"],["id","countdown",1,"d-flex","justify-content-center"],[1,"mx-3","text-center","flex-fill"],["id","days",1,"countdown__number"],[1,"countdown__text"],["id","hours",1,"countdown__number"],["id","minutes",1,"countdown__number"],["id","seconds",1,"countdown__number"],["src","assets/img/countryside/mesaRegalos.png","alt","photo",1,"img-photo"],[1,"d-flex","justify-content-center","mb-5"],[1,"card","shadow-lg","card-gift"],["src","assets/img/countryside/amazon_logo.png","alt","image1",1,"card-img-top",3,"click"],["class","d-flex justify-content-center mb-5",4,"ngIf"],["class","d-flex justify-content-center more-space",4,"ngIf"],["class","d-flex justify-content-center more-space mb-0",4,"ngIf"],[1,"row","p-5"],["class","col-12 mt-5",4,"ngFor","ngForOf"],[4,"ngIf"],["id","container-confirma",4,"ngIf"],[1,"footer-img"],["src","assets/img/countryside/footer.png",1,"gifts"],["src","assets/img/countryside/cloud.png",1,"cloud-0"],["src","assets/img/countryside/cloud.png",1,"cloud-1"],["src","assets/img/countryside/cloud.png",1,"cloud-2"],["src","assets/img/countryside/cloud.png",1,"cloud-3"],["src","assets/img/countryside/cloud.png",1,"cloud-4"],["id","commentModal","tabindex","-1","aria-labelledby","commentModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","commentModalLabel",1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row","text-center"],[1,"bi","bi-wechat",2,"font-size","7rem","color","#999ae8"],["autocomplete","off","type","text","placeholder","De parte de...",1,"form-control","modal__input-autor",3,"ngModelChange","ngModel"],["autocomplete","off","id","commentInput","rows","4","maxlength","350","placeholder","Escribe tu comentario aqu\xED...",1,"form-control","modal__input-comment",3,"ngModelChange","ngModel"],[1,"row","text-end"],["id","wordCounter",1,"text-muted"],[1,"modal-footer"],["type","button",1,"btn","modal__btnModal",3,"click"],["type","button",1,"btn","modal__btnModal",3,"click","disabled"],["id","confirmModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],[1,"modal-content",2,"margin","4rem"],[1,"row"],[1,"col-12","text-center","mt-4","mb-4"],["src","assets/svg/patch-exclamation.svg","alt","",2,"width","6rem"],["id","deleteModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],["id","confirmaModal","tabindex","-1","aria-labelledby","commentModalLabel","aria-hidden","true",1,"modal"],[1,"col-12","text-center","mb-4"],["style","font-size: 6rem; color:#999ae8;","class","bi bi-check-circle-fill",4,"ngIf"],["style","font-size: 6rem; color:#999ae8;","class","bi bi-question-circle-fill",4,"ngIf"],["style","font-size: 6rem; color:#999ae8;","class","bi bi-x-circle-fill",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"modal-footer",2,"justify-content","center"],["type","button","class","btn modal__btnModal","style","width: 120px; height: 45px; font-size: 2rem;",3,"click",4,"ngIf"],[1,"more-space","photos","mt-3"],["src","assets/img/countryside/liverpool_logo.jpg","alt","image2",1,"card-img-top"],[1,"d-flex","justify-content-center","more-space","mb-0"],["src","assets/img/countryside/notice.png","alt","photo",1,"img-photo"],[1,"col-12","mt-5"],[1,"text-2","text-center"],["src","assets/img/countryside/voces.png","alt","photo",1,"img-photo"],["class","row w-100",4,"ngIf"],[1,"container_commnets"],["class","container_commnets__card",4,"ngFor","ngForOf"],[1,"row","w-100"],[1,"col-12","text-center"],[1,"btn-add",3,"click"],[1,"bi","bi-chat-square-heart-fill",2,"font-size","3rem"],[1,"m-0",2,"font-size","1.5rem"],[1,"container_commnets__card"],[1,"container_commnets__header"],[1,"container_commnets__name"],["class","container_coments__icons",4,"ngIf"],[1,"container_commnets__comment"],[1,"container_coments__icons"],["src","assets/svg/pencil.svg",1,"me-2",3,"click"],["src","assets/svg/trash.svg",3,"click"],["id","container-confirma"],["src","assets/img/countryside/confirma.png","alt","photo",1,"img-photo"],[1,"container-confirma","row","w-100","mb-5","pb-5","more-space"],[1,"btn-conf",3,"click"],[1,"bi","bi-check-circle-fill",2,"font-size","3rem"],[1,"m-0",2,"font-size","1.7rem"],[1,"bi","bi-question-circle-fill",2,"font-size","3rem"],[1,"bi","bi-x-circle-fill",2,"font-size","3rem"],["src","assets/img/countryside/gracias.png","alt","photo",1,"img-photo"],[1,"bi","bi-check-circle-fill",2,"font-size","6rem","color","#999ae8"],[1,"bi","bi-question-circle-fill",2,"font-size","6rem","color","#999ae8"],[1,"bi","bi-x-circle-fill",2,"font-size","6rem","color","#999ae8"],[1,"d-flex","justify-content-center","mt-4"],[1,"list-group","list-group-horizontal"],["class","list-group-item list-group-item-action",3,"id","click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click","id"],[2,"font-size","2rem"],["type","button",1,"btn","modal__btnModal",2,"width","120px","height","45px","font-size","2rem",3,"click"]],template:function(n,r){n&1&&(p(0,"div",0)(1,"div",1),I(2,"img",2),m(),p(3,"div",1),I(4,"img",3),m(),p(5,"div",1),I(6,"img",4),m(),p(7,"div",1)(8,"button",5),V("click",function(){return r.showInvitation()}),D(9,"Ver Animaci\xF3n"),m()(),p(10,"div",6)(11,"p",7),D(12,"Mis Pap\xE1s"),m(),p(13,"div",8)(14,"p",9),D(15,"Minerva Victoria Montes Torres"),m(),p(16,"p",9),D(17,"Jos\xE9 Manuel Ram\xEDrez Mej\xEDa"),m()()(),p(18,"div",10)(19,"p",7),D(20,"Mi Madrina"),m(),p(21,"div",8)(22,"p",9),D(23,"Maria Jos\xE9 Ram\xEDrez Mej\xEDa"),m()()(),p(24,"div",1),I(25,"img",11),m(),p(26,"div",12)(27,"div",8)(28,"p",9),D(29," En este d\xEDa especial, celebramos la llegada de un nuevo miembro a la familia de Dios. "),m(),I(30,"br"),p(31,"p",9),D(32," Que su bautizo marque el inicio de una vida llena de bendiciones, amor y sabidur\xEDa divina. "),m()()(),p(33,"div",1),I(34,"img",13),m(),p(35,"div",10)(36,"p",7),D(37,"Lugar y Fecha"),m()(),p(38,"div",14),I(39,"img",15),m(),p(40,"div",14)(41,"img",16),V("click",function(){return r.openMapChurch()}),m()(),p(42,"div",17),I(43,"img",18),m(),p(44,"div",1),I(45,"img",19),m(),p(46,"div",20)(47,"div",8)(48,"p",9),D(49," Con gran alegr\xEDa y profundo agradecimiento, nos unimos para celebrar este bautizo. Que esta ocasi\xF3n tan especial irradie amor, dicha y alegr\xEDa compartida, dejando recuerdos inolvidables en nuestros corazones. "),m()()(),p(50,"div",14),I(51,"img",21),m(),p(52,"div",14)(53,"img",22),V("click",function(){return r.openMapParty()}),m()(),p(54,"div",17),I(55,"img",18),m(),p(56,"div",1),I(57,"img",23),m(),Ue(58,$L,2,0,"div",24),p(59,"div",20)(60,"div",8)(61,"p",9),D(62," En su primer a\xF1o de vida, una beb\xE9 es como una flor que comienza a abrirse al mundo, llena de pureza y asombro. Sus risas y logros nos muestran la belleza de la vida en cada peque\xF1o momento. "),m()()(),p(63,"div",25)(64,"p",7),D(65,"Falta para mi cumple..."),m()(),p(66,"div",14)(67,"div",26)(68,"div",27),I(69,"div",28),p(70,"div",29),D(71,"D\xEDas"),m()(),p(72,"div",27),I(73,"div",30),p(74,"div",29),D(75,"Horas"),m()(),p(76,"div",27),I(77,"div",31),p(78,"div",29),D(79,"Minutos"),m()(),p(80,"div",27),I(81,"div",32),p(82,"div",29),D(83,"Segundos"),m()()()(),p(84,"div",17),I(85,"img",18),m(),p(86,"div",17),I(87,"img",33),m(),p(88,"div",34)(89,"div",35)(90,"img",36),V("click",function(){return r.openMesaRegalos("am")}),m()()(),Ue(91,HL,3,0,"div",37)(92,zL,2,0,"div",38)(93,WL,3,0,"div",39),p(94,"div",40),Ue(95,GL,3,1,"div",41),m(),Ue(96,YL,8,2,"div",42),p(97,"div",17),I(98,"img",18),m(),Ue(99,KL,16,0,"div",43)(100,XL,2,0,"div",38),p(101,"div",44),I(102,"img",45),m(),I(103,"img",46)(104,"img",47)(105,"img",48)(106,"img",49)(107,"img",50),m(),p(108,"div",51)(109,"div",52)(110,"div",53)(111,"div",54)(112,"h2",55),D(113,"Agrega un comentario"),m(),p(114,"button",56),V("click",function(){return r.closeModal("commentModal")}),m()(),p(115,"div",57)(116,"div",58),I(117,"i",59),m(),p(118,"input",60),ec("ngModelChange",function(o){return Eh(r.commentData.autor,o)||(r.commentData.autor=o),o}),m(),p(119,"textarea",61),ec("ngModelChange",function(o){return Eh(r.commentData.comentario,o)||(r.commentData.comentario=o),o}),m(),p(120,"div",62)(121,"small",63),D(122,"350 letras restantes"),m()()(),p(123,"div",64)(124,"button",65),V("click",function(){return r.closeModal("commentModal")}),D(125,"Cancelar"),m(),p(126,"button",66),V("click",function(){return r.addCommnet()}),D(127,"Aceptar"),m()()()()(),p(128,"div",67)(129,"div",52)(130,"div",68)(131,"div",54)(132,"h2",55),D(133,"\xBFDeseas continuar?"),m(),p(134,"button",56),V("click",function(){return r.closeModal("confirmModal")}),m()(),p(135,"div",57)(136,"div",69)(137,"div",70),I(138,"img",71),m()(),p(139,"h2"),D(140,"Una vez agregado tu comentario, todos los invitados con acceso a la invitaci\xF3n podr\xE1n verlo."),m()(),p(141,"div",64)(142,"button",65),V("click",function(){return r.closeModal("confirmModal")}),D(143,"Cancelar"),m(),p(144,"button",65),V("click",function(){return r.confirmComment()}),D(145,"Aceptar"),m()()()()(),p(146,"div",72)(147,"div",52)(148,"div",68)(149,"div",54)(150,"h2",55),D(151,"\xBFDeseas continuar?"),m(),p(152,"button",56),V("click",function(){return r.closeModal("deleteModal")}),m()(),p(153,"div",57)(154,"div",69)(155,"div",70),I(156,"img",71),m()(),p(157,"h2"),D(158,"Se eliminar\xE1 tu comentario y ya no ser\xE1 visible para las dem\xE1s personas."),m()(),p(159,"div",64)(160,"button",65),V("click",function(){return r.closeModal("deleteModal")}),D(161,"Cancelar"),m(),p(162,"button",65),V("click",function(){return r.confirmDelete()}),D(163,"Aceptar"),m()()()()(),p(164,"div",73)(165,"div",52)(166,"div",53)(167,"div",54)(168,"h2",55),D(169,"Confirma asistencia"),m(),p(170,"button",56),V("click",function(){return r.closeModal("confirmaModal")}),m()(),p(171,"div",57)(172,"div",58)(173,"div",74),Ue(174,JL,1,0,"i",75)(175,eV,1,0,"i",76)(176,tV,1,0,"i",77),m()(),Ue(177,rV,7,2,"div",42)(178,iV,3,0,"div",78)(179,oV,3,0,"div",78),m(),p(180,"div",79),Ue(181,sV,2,0,"button",80),m()()()()),n&2&&(ee(58),se("ngIf",r.showPhotos),ee(33),se("ngIf",!1),ee(),se("ngIf",r.avisos&&r.avisos.length>0),ee(),se("ngIf",r.avisos&&r.avisos.length>0),ee(2),se("ngForOf",r.avisos),ee(),se("ngIf",r.showComments),ee(3),se("ngIf",!r.isConfirmacion),ee(),se("ngIf",r.isConfirmacion),ee(18),Jl("ngModel",r.commentData.autor),ee(),Jl("ngModel",r.commentData.comentario),ee(7),se("disabled",!(r.commentData.comentario!=null&&r.commentData.comentario.length>5)),ee(48),se("ngIf",r.opcConfirm=="si"),ee(),se("ngIf",r.opcConfirm=="talvez"),ee(),se("ngIf",r.opcConfirm=="no"),ee(),se("ngIf",r.opcConfirm=="si"),ee(),se("ngIf",r.opcConfirm=="talvez"),ee(),se("ngIf",r.opcConfirm=="no"),ee(2),se("ngIf",r.btnOpcConfirm))},dependencies:[Wu,RE,Wc,xE,Gp,Wp,Yo,sc,OC,gI],styles:['@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v27/o-0IIpQoyXQa2RxT7-5r8zRAW_0.woff2) format("woff2");unicode-range:U+0964-0965,U+0B82-0BFA,U+200C-200D,U+20B9,U+25CC}@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v27/o-0IIpQoyXQa2RxT7-5r6zRAW_0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v27/o-0IIpQoyXQa2RxT7-5r5TRA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.btn-see[_ngcontent-%COMP%]{border:0;border-radius:20px;background-color:#999ae8;color:#fff;width:150px;height:40px;font-family:Playwrite US Modern,cursive;text-align:center}.content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden;background:linear-gradient(to bottom,#f6d8d6cc,#87ceeb66)}.img-header[_ngcontent-%COMP%]{width:100%;position:relative;right:0;top:-20px}.img-title[_ngcontent-%COMP%]{width:60%;position:relative;top:-30px}.img-photo[_ngcontent-%COMP%]{width:60%}.separator[_ngcontent-%COMP%]{width:80%;margin:0}.start-separator[_ngcontent-%COMP%]{width:100%;margin:0;opacity:.3}.text-1[_ngcontent-%COMP%]{font-weight:800;font-family:Playwrite US Modern,cursive;font-size:2.5rem;margin:0;margin-bottom:1rem}.text-2[_ngcontent-%COMP%]{font-weight:300;font-family:Playwrite US Modern,cursive;font-size:1.5rem;margin:0}.more-space[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:5rem}.img-date-ba[_ngcontent-%COMP%]{width:90%}.img-date-party[_ngcontent-%COMP%]{width:60%}.countdown__number[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem}.cloud-0[_ngcontent-%COMP%], .cloud-1[_ngcontent-%COMP%], .cloud-2[_ngcontent-%COMP%], .cloud-3[_ngcontent-%COMP%], .cloud-4[_ngcontent-%COMP%]{position:fixed;opacity:.6;z-index:-1}.cloud-0[_ngcontent-%COMP%]{top:15%;right:-5%;width:20%}.cloud-1[_ngcontent-%COMP%]{top:25%;left:-20%;width:40%}.cloud-2[_ngcontent-%COMP%]{top:45%;right:-20%;width:40%}.cloud-3[_ngcontent-%COMP%]{top:65%;left:-20%;width:40%}.cloud-4[_ngcontent-%COMP%]{bottom:15%;right:-5%;width:20%}.footer-img[_ngcontent-%COMP%]{position:relative;margin-top:auto;width:100%;height:auto}.footer-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.desk-gift[_ngcontent-%COMP%]{width:60%;height:250px}.card-gift[_ngcontent-%COMP%]{width:50%}.container_commnets[_ngcontent-%COMP%]{width:100%;overflow-x:auto;display:flex;flex-direction:row;align-items:center;gap:1rem;padding:2rem}.container_commnets__card[_ngcontent-%COMP%]{flex:0 0 270px;margin-bottom:1rem;padding:1rem;box-shadow:0 4px 8px #0000001a;border:1px solid pink;display:flex;flex-direction:column;align-items:center;position:relative}.container_commnets__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}.container_commnets__name[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.container_commnets__comment[_ngcontent-%COMP%]{font-size:1rem;color:#333;width:100%;text-align:left;margin-top:1rem}.btn-add[_ngcontent-%COMP%]{margin-top:2.5rem;flex:1;width:160px;height:90px;border:.3px solid rgba(153,154,232,.8);border-radius:10px;background-color:#999ae8cc;color:#fff;text-align:center;cursor:pointer;box-shadow:0 4px 8px #00000080;padding:1rem}.modal-content[_ngcontent-%COMP%]{border-color:pink}.modal__input-autor[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;border-color:#999ae8;outline:none!important}.modal__input-comment[_ngcontent-%COMP%]{font-size:2rem;border-color:#999ae8;outline:none!important}.modal__btnModal[_ngcontent-%COMP%]{background-color:#999ae8;height:35px;font-size:1.5rem;color:#fff}.container-confirma[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;align-items:center;gap:1rem;padding:2rem}.container-confirma[_ngcontent-%COMP%]   .btn-conf[_ngcontent-%COMP%]{flex:1;max-width:90px;height:80px;border:.3px solid rgba(153,154,232,.8);border-radius:10px;background-color:#999ae8cc;color:#fff;text-align:center;cursor:pointer;box-shadow:0 4px 8px #00000080;margin:0 1rem}.active[_ngcontent-%COMP%]{background-color:#999ae8!important}.list-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;padding:0;list-style:none}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;padding:10px 20px;border:1px solid #ddd;border-radius:5px;text-align:center;transition:background-color .3s,color .3s}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.list-group-item.active[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border-color:#007bff}@media (min-width: 768px){.list-group[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n+7){grid-column:span 1}}@media (min-width: 600px) and (max-width: 1199px){.text-1[_ngcontent-%COMP%]{font-size:5rem}.text-2[_ngcontent-%COMP%]{font-size:2.5rem}.separator[_ngcontent-%COMP%]{width:60%}.btn-see[_ngcontent-%COMP%]{width:300px;height:50px;font-size:2.3rem}.countdown__number[_ngcontent-%COMP%]{font-size:6rem}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:3rem}.btn-see[_ngcontent-%COMP%]{display:none}}@media (min-width: 1200px){.img-header[_ngcontent-%COMP%]{width:70%;position:relative;right:0;top:-60px}.img-title[_ngcontent-%COMP%]{width:30%;position:relative;top:70px}.img-photo[_ngcontent-%COMP%]{width:40%}.btn-see[_ngcontent-%COMP%]{width:350px;height:50px;font-size:2.8rem}.text-1[_ngcontent-%COMP%]{font-size:6.5rem}.text-2[_ngcontent-%COMP%]{font-size:3rem}.separator[_ngcontent-%COMP%]{width:40%}.img-date-ba[_ngcontent-%COMP%]{width:60%}.img-photo[_ngcontent-%COMP%]{width:30%}.img-date-party[_ngcontent-%COMP%]{width:40%}.card-gift[_ngcontent-%COMP%]{width:35%}.countdown__number[_ngcontent-%COMP%]{font-size:6rem}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:3rem}.cloud-0[_ngcontent-%COMP%]{top:5%;width:10%;right:-2%}.cloud-1[_ngcontent-%COMP%]{top:15%;left:-10%;width:20%}.cloud-2[_ngcontent-%COMP%]{top:40%;right:-5%;width:20%}.cloud-3[_ngcontent-%COMP%]{top:65%;left:-10%;width:20%}.cloud-4[_ngcontent-%COMP%]{bottom:0%;right:-2%;width:10%}.btn-see[_ngcontent-%COMP%]{display:none}}']})};var Qu=class e{animate=!1;viewPhotos=!1;runAnimMosaic=!1;isZoomed=!1;srcImgView="";ngAfterViewInit(){this.animate&&this.runAnimation()}ngOnChanges(t){t.animate&&!t.animate.isFirstChange()&&this.animate&&this.runAnimation()}runAnimation(){let t=document.querySelectorAll(".photo");t.forEach(n=>{n.classList.remove("centered-image")}),this.runAnimMosaic=!0,R({targets:t,scale:[3,1],opacity:[0,1],filter:["blur(5px)","blur(0)"],delay:R.stagger(200),duration:500,easing:"easeOutQuad",complete:()=>{this.runAnimMosaic=!1}})}toggleZoom(t){if(!this.viewPhotos||this.runAnimMosaic)return;let n=t;if(this.srcImgView=n.getAttribute("src")||"",this.runAnimMosaic=!0,this.isZoomed){this.isZoomed=!1;let r=document.querySelectorAll(".photo"),i=document.querySelector(".view-photo");i&&(i.style.display="none"),R({targets:r,translateX:0,opacity:1,scale:1,delay:R.stagger(100),duration:500,easing:"easeOutExpo",complete:()=>{n.classList.remove("zoomed"),this.runAnimMosaic=!1,document.querySelector(".content").style.overflowY="auto"}})}else{let r=document.querySelectorAll(".photo");document.querySelector(".content").style.overflow="hidden",R({targets:r,translateX:"100%",opacity:0,delay:R.stagger(100),duration:500,easing:"easeOutExpo",complete:()=>{this.isZoomed=!0,this.runAnimMosaic=!1;let i=document.querySelector(".view-photo");i&&(i.style.display="flex")}})}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["mosaic-photos"]],inputs:{animate:"animate",viewPhotos:"viewPhotos"},features:[Zn],decls:28,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2","d-flex","align-items-center"],["src","assets/img/countryside/photos/img1.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"col-2"],[1,"col-12"],["src","assets/img/countryside/photos/img2.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"col-12","mt-3"],["src","assets/img/countryside/photos/img3.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img4.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img5.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img6.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img7.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img8.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img9.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"view-photo"],["id","view-img","alt","photo",3,"click","src"]],template:function(n,r){n&1&&(p(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),V("click",function(o){return r.toggleZoom(o.target)}),m()(),p(4,"div",4)(5,"div",1)(6,"div",5)(7,"img",6),V("click",function(o){return r.toggleZoom(o.target)}),m()(),p(8,"div",7)(9,"img",8),V("click",function(o){return r.toggleZoom(o.target)}),m()()()(),p(10,"div",2)(11,"img",9),V("click",function(o){return r.toggleZoom(o.target)}),m()(),p(12,"div",2)(13,"div",1)(14,"div",5)(15,"img",10),V("click",function(o){return r.toggleZoom(o.target)}),m()(),p(16,"div",7)(17,"img",11),V("click",function(o){return r.toggleZoom(o.target)}),m()()()(),p(18,"div",2)(19,"img",12),V("click",function(o){return r.toggleZoom(o.target)}),m()(),p(20,"div",4)(21,"div",1)(22,"div",5)(23,"img",13),V("click",function(o){return r.toggleZoom(o.target)}),m()(),p(24,"div",7)(25,"img",14),V("click",function(o){return r.toggleZoom(o.target)}),m()()()()()(),p(26,"div",15)(27,"img",16),V("click",function(o){return r.toggleZoom(o.target)}),m()()),n&2&&(ee(27),se("src",r.srcImgView,Ni))},styles:[".centered-image[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:65%;transform:translate(-50%,-50%)!important;z-index:2;border-radius:50px}.view-photo[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:auto;max-height:90%;z-index:3;padding:1rem;display:flex;flex-direction:column;justify-content:center;align-items:center;display:none}.view-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80%;object-fit:contain;border-radius:20px}@media (min-width: 600px) and (max-width: 1199px){.view-photo[_ngcontent-%COMP%]{max-width:60%}}@media (min-width: 1200px){.view-photo[_ngcontent-%COMP%]{max-width:30%}}"]})};var vI=[{path:"",redirectTo:"loading",pathMatch:"full"},{path:"bautizo",component:Vc},{path:"loading",component:jc},{path:"information",component:Bc},{path:"invitacion",component:qu},{path:"mosaico",component:Qu},{path:"**",redirectTo:"loading"}];var fa="Service workers are disabled or not supported by this browser";function aV(e){return pr(()=>Vn(new Error(e)))}var po=class{serviceWorker;worker;registration;events;constructor(t){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=aV(fa);else{let r=li(t,"controllerchange").pipe(N(()=>t.controller)),i=pr(()=>k(t.controller)),o=Gt(i,r);this.worker=o.pipe(Se(u=>!!u)),this.registration=this.worker.pipe(le(()=>t.getRegistration()));let c=li(t,"message").pipe(N(u=>u.data)).pipe(Se(u=>u&&u.type)).pipe(Ad());c.connect(),this.events=c}}postMessage(t,n){return this.worker.pipe(Ae(1),Me(r=>{r.postMessage(E({action:t},n))})).toPromise().then(()=>{})}postMessageWithOperation(t,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(t,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let n;return typeof t=="string"?n=r=>r.type===t:n=r=>t.includes(r.type),this.events.pipe(Se(n))}nextEventOfType(t){return this.eventsOfType(t).pipe(Ae(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Se(n=>n.nonce===t),Ae(1),N(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},lV=(()=>{class e{sw;messages;notificationClicks;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new oe;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=gr,this.notificationClicks=gr,this.subscription=gr;return}this.messages=this.sw.eventsOfType("PUSH").pipe(N(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(N(i=>i.data)),this.pushManager=this.sw.registration.pipe(N(i=>i.pushManager));let r=this.pushManager.pipe(le(i=>i.getSubscription()));this.subscription=gn(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(fa));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,this.pushManager.pipe(le(s=>s.subscribe(r)),Ae(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(fa));let n=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(Ae(1),le(n)).toPromise()}decodeBase64(n){return atob(n)}static \u0275fac=function(r){return new(r||e)(b(po))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})(),cV=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=gr,this.unrecoverable=gr;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fa));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fa));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(r){return new(r||e)(b(po))};static \u0275prov=T({token:e,factory:e.\u0275fac})}return e})();var yI=new S("");function uV(e,t,n){return()=>{if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let r=e.get(J),i=e.get(yt);r.runOutsideAngular(()=>{let s=navigator.serviceWorker,a=()=>s.controller?.postMessage({action:"INITIALIZE"});s.addEventListener("controllerchange",a),i.onDestroy(()=>{s.removeEventListener("controllerchange",a)})});let o;if(typeof n.registrationStrategy=="function")o=n.registrationStrategy();else{let[s,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=k(null);break;case"registerWithDelay":o=_I(+a[0]||0);break;case"registerWhenStable":let l=ae(e.get(yt).whenStable());o=a[0]?gn(l,_I(+a[0])):l;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}r.runOutsideAngular(()=>o.pipe(Ae(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:n.scope}).catch(s=>console.error("Service worker registration failed with:",s))))}}function _I(e){return k(null).pipe(Md(e))}function dV(e){return new po(e.enabled!==!1?navigator.serviceWorker:void 0)}var da=class{enabled;scope;registrationStrategy};function rv(e,t={}){return Qn([lV,cV,{provide:yI,useValue:e},{provide:da,useValue:t},{provide:po,useFactory:dV,deps:[da]},{provide:Zl,useFactory:uV,deps:[Qe,yI,da],multi:!0}])}var CI={providers:[ZC(),_C({eventCoalescing:!0}),$w(vI),rv("ngsw-worker.js",{enabled:!Kn(),registrationStrategy:"registerWhenStable:30000"}),rv("ngsw-worker.js",{enabled:!Kn(),registrationStrategy:"registerWhenStable:30000"})]};var Zu=class e{constructor(t){this.router=t}audio;animeIconMusic;playMusic=!1;open=!1;ngOnInit(){this.audio=new Audio("assets/img/countryside/music2.mp3"),this.audio.autoplay=!1,this.audio.addEventListener("ended",()=>{this.actionQuestionMusic("no")}),this.router.events.subscribe(t=>{t instanceof xn&&this.onRouteChange()}),this.setTypeFromPath()}ngAfterViewInit(){setTimeout(()=>{this.getCurrentRoute().includes("/invitacion")||this.showQuestionMusic()},700)}animateMusic(){this.audio.play(),this.getCurrentRoute().includes("/loading")&&this.audio.pause(),this.animeIconMusic?this.animeIconMusic.play():this.animeIconMusic=this.animateIconMusic(1)}actionIconMusic(){this.open?this.hideQuestionMusic():this.showQuestionMusic()}showQuestionMusic(){this.open=!0,R({targets:".container-music",right:"0",background:"#EDEDFD",duration:1500,easing:"easeOutExpo"})}hideQuestionMusic(){this.open=!1,R({targets:".container-music",right:"-180px",background:"rgba(0, 0, 0, 0)",duration:1500,easing:"easeOutExpo"})}actionQuestionMusic(t){let n=document.querySelector(".container-black");n&&(n.style.display="none");let r=document.querySelectorAll(".btn-music");r.forEach(i=>{i.style.opacity="0.7"}),r&&r.length>0&&(t==="yes"?(this.playMusic=!0,r[0].style.opacity="1",this.hideQuestionMusic(),this.animeIconMusic=this.animateIconMusic(0),this.animateMusic()):(this.playMusic=!1,this.audio.pause(),r[1].style.opacity="1",this.hideQuestionMusic(),this.animeIconMusic&&(this.animeIconMusic.pause(),this.animeIconMusic=this.animateIconMusic(1)))),this.getCurrentRoute().includes("/loading")&&setTimeout(()=>{this.router.navigate(["/bautizo"])},3e3)}animateIconMusic(t=0){return t===0?R({targets:".music",rotate:"1turn",easing:"linear",duration:6e3,loop:!0}):R({targets:".music",rotate:"0",easing:"linear",duration:1e3,loop:!1})}getCurrentRoute(){return this.router.url}onRouteChange(){this.getCurrentRoute().includes("/bautizo")&&this.playMusic&&this.audio.play()}setTypeFromPath(){let n=new URLSearchParams(window.location.search).get("t");n&&localStorage.setItem("type",n)}static \u0275fac=function(n){return new(n||e)(G(It))};static \u0275cmp=me({type:e,selectors:[["music"]],decls:9,vars:0,consts:[[1,"container-music"],["src","assets/img/countryside/music.png",1,"music",3,"click"],[1,"container-text"],[1,"text-music"],[1,"btn-music","btn-r",3,"click"],[1,"btn-music","btn-p",3,"click"]],template:function(n,r){n&1&&(p(0,"div",0)(1,"img",1),V("click",function(){return r.actionIconMusic()}),m(),p(2,"div",2)(3,"p",3),D(4,"\xBFReproducir audio?"),m(),p(5,"button",4),V("click",function(){return r.actionQuestionMusic("yes")}),D(6,"Si"),m(),p(7,"button",5),V("click",function(){return r.actionQuestionMusic("no")}),D(8,"No"),m()()())},styles:[".music[_ngcontent-%COMP%]{width:80px;padding:20px;opacity:1}.container-music[_ngcontent-%COMP%]{width:250px;height:70px;position:fixed;top:0;right:-180px;display:flex;justify-content:left;align-items:center;border-top-left-radius:30px;border-bottom-left-radius:30px;z-index:999}.btn-music[_ngcontent-%COMP%]{background:#ed1e79;width:80px;height:30px;opacity:.5;color:#fff;border:none}.text-music[_ngcontent-%COMP%]{height:30px;margin:0;display:flex;justify-content:center;align-items:center}.btn-r[_ngcontent-%COMP%]{border-top-left-radius:15px;border-bottom-left-radius:15px}.btn-p[_ngcontent-%COMP%]{border-top-right-radius:15px;border-bottom-right-radius:15px;opacity:1}"]})};var Yu=class e{title="bautizo_sofia";constructor(){document.addEventListener("contextmenu",t=>{t.preventDefault()})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=me({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&I(0,"router-outlet")(1,"music")},dependencies:[wp,Zu],encapsulation:2})};ow(Yu,CI).catch(e=>console.error(e));
