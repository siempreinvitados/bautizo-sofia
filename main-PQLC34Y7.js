import{A as ca,B as ao,C as ov,D as sv,E as av,F as P,G as Ye,H as Ie,I as zu,J as lv,K as lo,L as Ue,M as on,N as ua,O as Wu,P as cv,Q as Lr,R as co,S as Gu,T as uv,U as dv,V as fv,W as qu,X as hv,Y as Tn,Z as Dt,a as E,b as W,c as oe,d as qm,e as sa,f as Qm,g as Zm,h as w,i as Fr,j as aa,k as Ym,l as Km,m as Xm,n as Ae,o as Jm,p as Hu,q as ev,r as Vt,s as tv,t as nv,u as la,v as Ee,w as rv,x as iv,y as ut,z as Mn}from"./chunk-BYZX6JTN.js";function gv(e,t){return Object.is(e,t)}var be=null,da=!1,Yu=1,et=Symbol("SIGNAL");function X(e){let t=be;return be=e,t}function mv(){return be}var fo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ha(e){if(da)throw new Error("");if(be===null)return;be.consumerOnSignalRead(e);let t=be.nextProducerIndex++;if(ma(be),t<be.producerNode.length&&be.producerNode[t]!==e&&uo(be)){let n=be.producerNode[t];ga(n,be.producerIndexOfThis[t])}be.producerNode[t]!==e&&(be.producerNode[t]=e,be.producerIndexOfThis[t]=uo(be)?Cv(e,be,t):0),be.producerLastReadVersion[t]=e.version}function tb(){Yu++}function vv(e){if(!(uo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Yu)){if(!e.producerMustRecompute(e)&&!Xu(e)){pv(e);return}e.producerRecomputeValue(e),pv(e)}}function yv(e){if(e.liveConsumerNode===void 0)return;let t=da;da=!0;try{for(let n of e.liveConsumerNode)n.dirty||nb(n)}finally{da=t}}function _v(){return be?.consumerAllowSignalWrites!==!1}function nb(e){e.dirty=!0,yv(e),e.consumerMarkedDirty?.(e)}function pv(e){e.dirty=!1,e.lastCleanEpoch=Yu}function pa(e){return e&&(e.nextProducerIndex=0),X(e)}function Ku(e,t){if(X(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(uo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ga(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Xu(e){ma(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(vv(n),r!==n.version))return!0}return!1}function Ju(e){if(ma(e),uo(e))for(let t=0;t<e.producerNode.length;t++)ga(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Cv(e,t,n){if(wv(e),e.liveConsumerNode.length===0&&Ev(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Cv(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ga(e,t){if(wv(e),e.liveConsumerNode.length===1&&Ev(e))for(let r=0;r<e.producerNode.length;r++)ga(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ma(i),i.producerIndexOfThis[r]=t}}function uo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ma(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function wv(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Ev(e){return e.producerNode!==void 0}function Dv(e){let t=Object.create(rb);t.computation=e;let n=()=>{if(vv(t),ha(t),t.value===fa)throw t.error;return t.value};return n[et]=t,n}var Qu=Symbol("UNSET"),Zu=Symbol("COMPUTING"),fa=Symbol("ERRORED"),rb=W(E({},fo),{value:Qu,dirty:!0,error:null,equal:gv,kind:"computed",producerMustRecompute(e){return e.value===Qu||e.value===Zu},producerRecomputeValue(e){if(e.value===Zu)throw new Error("Detected cycle in computations.");let t=e.value;e.value=Zu;let n=pa(e),r,i=!1;try{r=e.computation(),X(null),i=t!==Qu&&t!==fa&&r!==fa&&e.equal(t,r)}catch(o){r=fa,e.error=o}finally{Ku(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function ib(){throw new Error}var Iv=ib;function bv(){Iv()}function Sv(e){Iv=e}var ob=null;function Mv(e){let t=Object.create(ed);t.value=e;let n=()=>(ha(t),t.value);return n[et]=t,n}function va(e,t){_v()||bv(),e.equal(e.value,t)||(e.value=t,sb(e))}function Tv(e,t){_v()||bv(),va(e,t(e.value))}var ed=W(E({},fo),{equal:gv,value:void 0,kind:"signal"});function sb(e){e.version++,tb(),yv(e),ob?.()}function F(e){return typeof e=="function"}function Vr(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ya=Vr(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function tr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var ve=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(F(r))try{r()}catch(o){t=o instanceof ya?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{xv(o)}catch(s){t=t??[],s instanceof ya?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ya(t)}}add(t){var n;if(t&&t!==this)if(this.closed)xv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&tr(n,t)}remove(t){let{_finalizers:n}=this;n&&tr(n,t),t instanceof e&&t._removeParent(this)}};ve.EMPTY=(()=>{let e=new ve;return e.closed=!0,e})();var td=ve.EMPTY;function _a(e){return e instanceof ve||e&&"closed"in e&&F(e.remove)&&F(e.add)&&F(e.unsubscribe)}function xv(e){F(e)?e():e.unsubscribe()}var It={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var jr={setTimeout(e,t,...n){let{delegate:r}=jr;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=jr;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ca(e){jr.setTimeout(()=>{let{onUnhandledError:t}=It;if(t)t(e);else throw e})}function nr(){}var Av=nd("C",void 0,void 0);function Nv(e){return nd("E",void 0,e)}function Rv(e){return nd("N",e,void 0)}function nd(e,t,n){return{kind:e,value:t,error:n}}var rr=null;function Br(e){if(It.useDeprecatedSynchronousErrorHandling){let t=!rr;if(t&&(rr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=rr;if(rr=null,n)throw r}}else e()}function Ov(e){It.useDeprecatedSynchronousErrorHandling&&rr&&(rr.errorThrown=!0,rr.error=e)}var ir=class extends ve{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,_a(t)&&t.add(this)):this.destination=cb}static create(t,n,r){return new sn(t,n,r)}next(t){this.isStopped?id(Rv(t),this):this._next(t)}error(t){this.isStopped?id(Nv(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?id(Av,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},ab=Function.prototype.bind;function rd(e,t){return ab.call(e,t)}var od=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){wa(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){wa(r)}else wa(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){wa(n)}}},sn=class extends ir{constructor(t,n,r){super();let i;if(F(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&It.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&rd(t.next,o),error:t.error&&rd(t.error,o),complete:t.complete&&rd(t.complete,o)}):i=t}this.destination=new od(i)}};function wa(e){It.useDeprecatedSynchronousErrorHandling?Ov(e):Ca(e)}function lb(e){throw e}function id(e,t){let{onStoppedNotification:n}=It;n&&jr.setTimeout(()=>n(e,t))}var cb={closed:!0,next:nr,error:lb,complete:nr};var Ur=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ke(e){return e}function sd(...e){return ad(e)}function ad(e){return e.length===0?ke:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var $=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=db(n)?n:new sn(n,r,i);return Br(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=kv(r),new r((i,o)=>{let s=new sn({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ur](){return this}pipe(...n){return ad(n)(this)}toPromise(n){return n=kv(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function kv(e){var t;return(t=e??It.Promise)!==null&&t!==void 0?t:Promise}function ub(e){return e&&F(e.next)&&F(e.error)&&F(e.complete)}function db(e){return e&&e instanceof ir||ub(e)&&_a(e)}function ld(e){return F(e?.lift)}function U(e){return t=>{if(ld(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function L(e,t,n,r,i){return new cd(e,t,n,r,i)}var cd=class extends ir{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function $r(){return U((e,t)=>{let n=null;e._refCount++;let r=L(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var Hr=class extends ${constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ld(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ve;let n=this.getSubject();t.add(this.source.subscribe(L(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ve.EMPTY)}return t}refCount(){return $r()(this)}};var Pv=Vr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=(()=>{class e extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ea(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Pv}next(n){Br(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Br(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Br(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?td:(this.currentObservers=null,o.push(n),new ve(()=>{this.currentObservers=null,tr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new $;return n.source=this,n}}return e.create=(t,n)=>new Ea(t,n),e})(),Ea=class extends de{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:td}};var Pe=class extends de{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var ho={now(){return(ho.delegate||Date).now()},delegate:void 0};var po=class extends de{constructor(t=1/0,n=1/0,r=ho){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;n||(r.push(t),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=r?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=n.now(),a=0;for(let l=1;l<r.length&&r[l]<=s;l+=2)a=l;a&&r.splice(0,a+1)}}};var Da=class extends ve{constructor(t,n){super()}schedule(t,n=0){return this}};var go={setInterval(e,t,...n){let{delegate:r}=go;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=go;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var zr=class extends Da{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return go.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&go.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,tr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var Wr=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Wr.now=ho.now;var Gr=class extends Wr{constructor(t,n=Wr.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var mo=new Gr(zr);var Ia=class extends zr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var ba=class extends Gr{};var ud=new ba(Ia);var Ve=new $(e=>e.complete());function Fv(e){return e&&F(e.schedule)}function dd(e){return e[e.length-1]}function qr(e){return F(dd(e))?e.pop():void 0}function jt(e){return Fv(dd(e))?e.pop():void 0}function Lv(e,t){return typeof dd(e)=="number"?e.pop():t}var Sa=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ma(e){return F(e?.then)}function Ta(e){return F(e[Ur])}function xa(e){return Symbol.asyncIterator&&F(e?.[Symbol.asyncIterator])}function Aa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Na=fb();function Ra(e){return F(e?.[Na])}function Oa(e){return Qm(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield sa(n.read());if(i)return yield sa(void 0);yield yield sa(r)}}finally{n.releaseLock()}})}function ka(e){return F(e?.getReader)}function se(e){if(e instanceof $)return e;if(e!=null){if(Ta(e))return hb(e);if(Sa(e))return pb(e);if(Ma(e))return gb(e);if(xa(e))return Vv(e);if(Ra(e))return mb(e);if(ka(e))return vb(e)}throw Aa(e)}function hb(e){return new $(t=>{let n=e[Ur]();if(F(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function pb(e){return new $(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function gb(e){return new $(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ca)})}function mb(e){return new $(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function Vv(e){return new $(t=>{yb(e,t).catch(n=>t.error(n))})}function vb(e){return Vv(Oa(e))}function yb(e,t){var n,r,i,o;return qm(this,void 0,void 0,function*(){try{for(n=Zm(e);r=yield n.next(),!r.done;){let s=r.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ke(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Bt(e,t=0){return U((n,r)=>{n.subscribe(L(r,i=>Ke(r,e,()=>r.next(i),t),()=>Ke(r,e,()=>r.complete(),t),i=>Ke(r,e,()=>r.error(i),t)))})}function an(e,t=0){return U((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function jv(e,t){return se(e).pipe(an(t),Bt(t))}function Bv(e,t){return se(e).pipe(an(t),Bt(t))}function Uv(e,t){return new $(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function $v(e,t){return new $(n=>{let r;return Ke(n,t,()=>{r=e[Na](),Ke(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>F(r?.return)&&r.return()})}function Pa(e,t){if(!e)throw new Error("Iterable cannot be null");return new $(n=>{Ke(n,t,()=>{let r=e[Symbol.asyncIterator]();Ke(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Hv(e,t){return Pa(Oa(e),t)}function zv(e,t){if(e!=null){if(Ta(e))return jv(e,t);if(Sa(e))return Uv(e,t);if(Ma(e))return Bv(e,t);if(xa(e))return Pa(e,t);if(Ra(e))return $v(e,t);if(ka(e))return Hv(e,t)}throw Aa(e)}function ie(e,t){return t?zv(e,t):se(e)}function O(...e){let t=jt(e);return ie(e,t)}function Qr(e,t){let n=F(e)?e:()=>e,r=i=>i.error(n());return new $(t?i=>t.schedule(r,0,i):r)}function fd(e){return!!e&&(e instanceof $||F(e.lift)&&F(e.subscribe))}var ln=Vr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function k(e,t){return U((n,r)=>{let i=0;n.subscribe(L(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:_b}=Array;function Cb(e,t){return _b(t)?e(...t):e(t)}function Fa(e){return k(t=>Cb(e,t))}var{isArray:wb}=Array,{getPrototypeOf:Eb,prototype:Db,keys:Ib}=Object;function La(e){if(e.length===1){let t=e[0];if(wb(t))return{args:t,keys:null};if(bb(t)){let n=Ib(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function bb(e){return e&&typeof e=="object"&&Eb(e)===Db}function Va(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function ja(...e){let t=jt(e),n=qr(e),{args:r,keys:i}=La(e);if(r.length===0)return ie([],t);let o=new $(Sb(r,t,i?s=>Va(i,s):ke));return n?o.pipe(Fa(n)):o}function Sb(e,t,n=ke){return r=>{Wv(t,()=>{let{length:i}=e,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)Wv(t,()=>{let c=ie(e[l],t),u=!1;c.subscribe(L(r,d=>{o[l]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Wv(e,t,n){e?Ke(n,e,t):t()}function Gv(e,t,n,r,i,o,s,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&t.complete()},h=g=>c<r?p(g):l.push(g),p=g=>{o&&t.next(g),c++;let y=!1;se(n(g,u++)).subscribe(L(t,I=>{i?.(I),o?h(I):t.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;l.length&&c<r;){let I=l.shift();s?Ke(t,s,()=>p(I)):p(I)}f()}catch(I){t.error(I)}}))};return e.subscribe(L(t,h,()=>{d=!0,f()})),()=>{a?.()}}function Se(e,t,n=1/0){return F(t)?Se((r,i)=>k((o,s)=>t(r,o,i,s))(se(e(r,i))),n):(typeof t=="number"&&(n=t),U((r,i)=>Gv(r,i,e,n)))}function vo(e=1/0){return Se(ke,e)}function qv(){return vo(1)}function Zr(...e){return qv()(ie(e,jt(e)))}function Ba(e){return new $(t=>{se(e()).subscribe(t)})}function hd(...e){let t=qr(e),{args:n,keys:r}=La(e),i=new $(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;se(n[u]).subscribe(L(o,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(r?Va(r,a):a),o.complete())}))}});return t?i.pipe(Fa(t)):i}function Yr(...e){let t=jt(e),n=Lv(e,1/0),r=e;return r.length?r.length===1?se(r[0]):vo(n)(ie(r,t)):Ve}function $e(e,t){return U((n,r)=>{let i=0;n.subscribe(L(r,o=>e.call(t,o,i++)&&r.next(o)))})}function xn(e){return U((t,n)=>{let r=null,i=!1,o;r=t.subscribe(L(n,void 0,void 0,s=>{o=se(e(s,xn(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Qv(e,t,n,r,i){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(L(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function An(e,t){return F(t)?Se(e,t,1):Se(e,1)}function Nn(e){return U((t,n)=>{let r=!1;t.subscribe(L(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function cn(e){return e<=0?()=>Ve:U((t,n)=>{let r=0;t.subscribe(L(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function pd(e,t=ke){return e=e??Mb,U((n,r)=>{let i,o=!0;n.subscribe(L(r,s=>{let a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function Mb(e,t){return e===t}function Ua(e=Tb){return U((t,n)=>{let r=!1;t.subscribe(L(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function Tb(){return new ln}function or(e){return U((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function bt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?$e((i,o)=>e(i,o,r)):ke,cn(1),n?Nn(t):Ua(()=>new ln))}function Kr(e){return e<=0?()=>Ve:U((t,n)=>{let r=[];t.subscribe(L(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function gd(e,t){let n=arguments.length>=2;return r=>r.pipe(e?$e((i,o)=>e(i,o,r)):ke,Kr(1),n?Nn(t):Ua(()=>new ln))}function Xr(e,t){return U(Qv(e,t,arguments.length>=2,!0))}function yo(e={}){let{connector:t=()=>new de,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=l=void 0,u=d=!1},p=()=>{let g=s;h(),g?.unsubscribe()};return U((g,y)=>{c++,!d&&!u&&f();let I=l=l??t();y.add(()=>{c--,c===0&&!d&&!u&&(a=md(p,i))}),I.subscribe(y),!s&&c>0&&(s=new sn({next:z=>I.next(z),error:z=>{d=!0,f(),a=md(h,n,z),I.error(z)},complete:()=>{u=!0,f(),a=md(h,r),I.complete()}}),se(g).subscribe(s))})(o)}}function md(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new sn({next:()=>{r.unsubscribe(),e()}});return se(t(...n)).subscribe(r)}function $a(e,t,n){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e:r=e??1/0,yo({connector:()=>new po(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function vd(e){return U((t,n)=>{let r=!1,i=0;t.subscribe(L(n,o=>(r||(r=!e(o,i++)))&&n.next(o)))})}function yd(...e){let t=jt(e);return U((n,r)=>{(t?Zr(e,n,t):Zr(e,n)).subscribe(r)})}function fe(e,t){return U((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(L(r,l=>{i?.unsubscribe();let c=0,u=o++;se(e(l,u)).subscribe(i=L(r,d=>r.next(t?t(l,d,u,c++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ha(e,t){return F(t)?fe(()=>e,t):fe(()=>e)}function _d(e){return U((t,n)=>{se(e).subscribe(L(n,()=>n.complete(),nr)),!n.closed&&t.subscribe(n)})}function Ne(e,t,n){let r=F(e)||t||n?{next:e,error:t,complete:n}:e;return r?U((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(L(o,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),o.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ke}function Cd(...e){let t=qr(e);return U((n,r)=>{let i=e.length,o=new Array(i),s=e.map(()=>!1),a=!1;for(let l=0;l<i;l++)se(e[l]).subscribe(L(r,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(ke))&&(s=null))},nr));n.subscribe(L(r,l=>{if(a){let c=[l,...o];r.next(t?t(...c):c)}}))})}var Py="https://g.co/ng/security#xss",T=class extends Error{code;constructor(t,n){super(Dl(t,n)),this.code=t}};function Dl(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}var Fy=Symbol("InputSignalNode#UNSET"),xb=W(E({},ed),{transformFn:void 0,applyValueToInputSignal(e,t){va(e,t)}});function Ly(e,t){let n=Object.create(xb);n.value=e,n.transformFn=t?.transform;function r(){if(ha(n),n.value===Fy)throw new T(-950,!1);return n.value}return r[et]=n,r}function No(e){return{toString:e}.toString()}var za="__parameters__";function Ab(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function Vy(e,t,n){return No(()=>{let r=Ab(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(za)?l[za]:Object.defineProperty(l,za,{value:[]})[za];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function ae(e){for(let t in e)if(e[t]===ae)return t;throw Error("Could not find renamed property on target object.")}function Nb(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ze(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(ze).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Zv(e,t){return e?t?`${e} ${t}`:e:t||""}var Rb=ae({__forward_ref__:ae});function hi(e){return e.__forward_ref__=hi,e.toString=function(){return ze(this())},e}function He(e){return jy(e)?e():e}function jy(e){return typeof e=="function"&&e.hasOwnProperty(Rb)&&e.__forward_ref__===hi}function x(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Tt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Il(e){return Yv(e,Uy)||Yv(e,$y)}function By(e){return Il(e)!==null}function Yv(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ob(e){let t=e&&(e[Uy]||e[$y]);return t||null}function Kv(e){return e&&(e.hasOwnProperty(Xv)||e.hasOwnProperty(kb))?e[Xv]:null}var Uy=ae({\u0275prov:ae}),Xv=ae({\u0275inj:ae}),$y=ae({ngInjectableDef:ae}),kb=ae({ngInjectorDef:ae}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Hy(e){return e&&!!e.\u0275providers}var Pb=ae({\u0275cmp:ae}),Fb=ae({\u0275dir:ae}),Lb=ae({\u0275pipe:ae}),Vb=ae({\u0275mod:ae}),Ka=ae({\u0275fac:ae}),Eo=ae({__NG_ELEMENT_ID__:ae}),Jv=ae({__NG_ENV_ID__:ae});function bl(e){return typeof e=="string"?e:e==null?"":String(e)}function jb(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():bl(e)}function Bb(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,e)}function If(e,t){throw new T(-201,!1)}var q=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(q||{}),kd;function zy(){return kd}function dt(e){let t=kd;return kd=e,t}function Wy(e,t,n){let r=Il(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&q.Optional)return null;if(t!==void 0)return t;If(e,"Injector")}var Ub={},Do=Ub,Pd="__NG_DI_FLAG__",Xa="ngTempTokenPath",$b="ngTokenPath",Hb=/\n/gm,zb="\u0275",ey="__source",ni;function Wb(){return ni}function Rn(e){let t=ni;return ni=e,t}function Gb(e,t=q.Default){if(ni===void 0)throw new T(-203,!1);return ni===null?Wy(e,void 0,t):ni.get(e,t&q.Optional?null:void 0,t)}function D(e,t=q.Default){return(zy()||Gb)(He(e),t)}function C(e,t=q.Default){return D(e,Sl(t))}function Sl(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Fd(e){let t=[];for(let n=0;n<e.length;n++){let r=He(e[n]);if(Array.isArray(r)){if(r.length===0)throw new T(900,!1);let i,o=q.Default;for(let s=0;s<r.length;s++){let a=r[s],l=qb(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}t.push(D(i,o))}else t.push(D(r))}return t}function Gy(e,t){return e[Pd]=t,e.prototype[Pd]=t,e}function qb(e){return e[Pd]}function Qb(e,t,n,r){let i=e[Xa];throw t[ey]&&i.unshift(t[ey]),e.message=Zb(`
`+e.message,i,n,r),e[$b]=i,e[Xa]=null,e}function Zb(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==zb?e.slice(2):e;let i=ze(t);if(Array.isArray(t))i=t.map(ze).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ze(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(Hb,`
  `)}`}var Ml=Gy(Vy("Optional"),8);var qy=Gy(Vy("SkipSelf"),4);function ii(e,t){let n=e.hasOwnProperty(Ka);return n?e[Ka]:null}function bf(e,t){e.forEach(n=>Array.isArray(n)?bf(n,t):t(n))}function Qy(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ja(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Yb(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Kb(e,t,n){let r=Ro(e,t);return r>=0?e[r|1]=n:(r=~r,Yb(e,r,t,n)),r}function wd(e,t){let n=Ro(e,t);if(n>=0)return e[n|1]}function Ro(e,t){return Xb(e,t,1)}function Xb(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}var ar={},ft=[],oi=new b(""),Zy=new b("",-1),Yy=new b(""),el=class{get(t,n=Do){if(n===Do){let r=new Error(`NullInjectorError: No provider for ${ze(t)}!`);throw r.name="NullInjectorError",r}return n}};function Ky(e,t){let n=e[Vb]||null;if(!n&&t===!0)throw new Error(`Type ${ze(e)} does not have '\u0275mod' property.`);return n}function lr(e){return e[Pb]||null}function Xy(e){return e[Fb]||null}function Jy(e){return e[Lb]||null}function e_(e){let t=lr(e)||Xy(e)||Jy(e);return t!==null&&t.standalone}function pi(e){return{\u0275providers:e}}function Jb(...e){return{\u0275providers:t_(!0,e),\u0275fromNgModule:!0}}function t_(e,...t){let n=[],r=new Set,i,o=s=>{n.push(s)};return bf(t,s=>{let a=s;Ld(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&n_(i,o),n}function n_(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];Sf(i,o=>{t(o,r)})}}function Ld(e,t,n,r){if(e=He(e),!e)return!1;let i=null,o=Kv(e),s=!o&&lr(e);if(!o&&!s){let l=e.ngModule;if(o=Kv(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=e}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Ld(c,t,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let c;try{bf(o.imports,u=>{Ld(u,t,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&n_(c,t)}if(!a){let c=ii(i)||(()=>new i);t({provide:i,useFactory:c,deps:ft},i),t({provide:Yy,useValue:i,multi:!0},i),t({provide:oi,useValue:()=>D(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let c=e;Sf(l,u=>{t(u,c)})}}else return!1;return i!==e&&e.providers!==void 0}function Sf(e,t){for(let n of e)Hy(n)&&(n=n.\u0275providers),Array.isArray(n)?Sf(n,t):t(n)}var eS=ae({provide:String,useValue:ae});function r_(e){return e!==null&&typeof e=="object"&&eS in e}function tS(e){return!!(e&&e.useExisting)}function nS(e){return!!(e&&e.useFactory)}function si(e){return typeof e=="function"}function rS(e){return!!e.useClass}var Tl=new b(""),Ga={},iS={},Ed;function Mf(){return Ed===void 0&&(Ed=new el),Ed}var Me=class{},Io=class extends Me{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,jd(t,s=>this.processProvider(s)),this.records.set(Zy,Jr(void 0,this)),i.has("environment")&&this.records.set(Me,Jr(void 0,this));let o=this.records.get(Tl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Yy,ft,q.Self))}destroy(){Co(this),this._destroyed=!0;let t=X(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),X(t)}}onDestroy(t){return Co(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Co(this);let n=Rn(this),r=dt(void 0),i;try{return t()}finally{Rn(n),dt(r)}}get(t,n=Do,r=q.Default){if(Co(this),t.hasOwnProperty(Jv))return t[Jv](this);r=Sl(r);let i,o=Rn(this),s=dt(void 0);try{if(!(r&q.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=cS(t)&&Il(t);c&&this.injectableDefInScope(c)?l=Jr(Vd(t),Ga):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=r&q.Self?Mf():this.parent;return n=r&q.Optional&&n===Do?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Xa]=a[Xa]||[]).unshift(ze(t)),o)throw a;return Qb(a,t,"R3InjectorError",this.source)}else throw a}finally{dt(s),Rn(o)}}resolveInjectorInitializers(){let t=X(null),n=Rn(this),r=dt(void 0),i;try{let o=this.get(oi,ft,q.Self);for(let s of o)s()}finally{Rn(n),dt(r),X(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(ze(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=He(t);let n=si(t)?t:He(t&&t.provide),r=sS(t);if(!si(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Jr(void 0,Ga,!0),i.factory=()=>Fd(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=X(null);try{return n.value===Ga&&(n.value=iS,n.value=n.factory()),typeof n.value=="object"&&n.value&&lS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{X(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=He(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vd(e){let t=Il(e),n=t!==null?t.factory:ii(e);if(n!==null)return n;if(e instanceof b)throw new T(204,!1);if(e instanceof Function)return oS(e);throw new T(204,!1)}function oS(e){if(e.length>0)throw new T(204,!1);let n=Ob(e);return n!==null?()=>n.factory(e):()=>new e}function sS(e){if(r_(e))return Jr(void 0,e.useValue);{let t=i_(e);return Jr(t,Ga)}}function i_(e,t,n){let r;if(si(e)){let i=He(e);return ii(i)||Vd(i)}else if(r_(e))r=()=>He(e.useValue);else if(nS(e))r=()=>e.useFactory(...Fd(e.deps||[]));else if(tS(e))r=()=>D(He(e.useExisting));else{let i=He(e&&(e.useClass||e.provide));if(aS(e))r=()=>new i(...Fd(e.deps));else return ii(i)||Vd(i)}return r}function Co(e){if(e.destroyed)throw new T(205,!1)}function Jr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function aS(e){return!!e.deps}function lS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function cS(e){return typeof e=="function"||typeof e=="object"&&e instanceof b}function jd(e,t){for(let n of e)Array.isArray(n)?jd(n,t):n&&Hy(n)?jd(n.\u0275providers,t):t(n)}function Xe(e,t){e instanceof Io&&Co(e);let n,r=Rn(e),i=dt(void 0);try{return t()}finally{Rn(r),dt(i)}}function o_(){return zy()!==void 0||Wb()!=null}function s_(e){if(!o_())throw new T(-203,!1)}function uS(e){return typeof e=="function"}var pn=0,J=1,V=2,We=3,Mt=4,xt=5,tl=6,nl=7,gt=8,bo=9,un=10,Te=11,So=12,ty=13,gi=14,$t=15,ai=16,ei=17,li=18,xl=19,a_=20,On=21,Dd=22,rl=23,tt=24,dn=25,l_=1;var cr=7,il=8,ol=9,pt=10;function kn(e){return Array.isArray(e)&&typeof e[l_]=="object"}function gn(e){return Array.isArray(e)&&e[l_]===!0}function c_(e){return(e.flags&4)!==0}function gr(e){return e.componentOffset>-1}function Tf(e){return(e.flags&1)===1}function fn(e){return!!e.template}function sl(e){return(e[V]&512)!==0}function Oo(e){return(e[V]&256)===256}var Bd=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function u_(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Vn=(()=>{let e=()=>d_;return e.ngInherit=!0,e})();function d_(e){return e.type.prototype.ngOnChanges&&(e.setInput=fS),dS}function dS(){let e=h_(this),t=e?.current;if(t){let n=e.previous;if(n===ar)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function fS(e,t,n,r,i){let o=this.declaredInputs[r],s=h_(e)||hS(e,{previous:ar,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Bd(c&&c.currentValue,n,l===ar),u_(e,t,i,n)}var f_="__ngSimpleChanges__";function h_(e){return e[f_]||null}function hS(e,t){return e[f_]=t}var ny=null;var ht=function(e,t,n){ny?.(e,t,n)},pS="svg",gS="math";function Ht(e){for(;Array.isArray(e);)e=e[pn];return e}function p_(e,t){return Ht(t[e])}function At(e,t){return Ht(t[e.index])}function g_(e,t){return e.data[t]}function zt(e,t){let n=t[e];return kn(n)?n:n[pn]}function xf(e){return(e[V]&128)===128}function mS(e){return gn(e[We])}function al(e,t){return t==null?null:e[t]}function m_(e){e[ei]=0}function Af(e){e[V]&1024||(e[V]|=1024,xf(e)&&Nl(e))}function vS(e,t){for(;e>0;)t=t[gi],e--;return t}function Al(e){return!!(e[V]&9216||e[tt]?.dirty)}function Ud(e){e[un].changeDetectionScheduler?.notify(9),e[V]&64&&(e[V]|=1024),Al(e)&&Nl(e)}function Nl(e){e[un].changeDetectionScheduler?.notify(0);let t=ur(e);for(;t!==null&&!(t[V]&8192||(t[V]|=8192,!xf(t)));)t=ur(t)}function v_(e,t){if(Oo(e))throw new T(911,!1);e[On]===null&&(e[On]=[]),e[On].push(t)}function yS(e,t){if(e[On]===null)return;let n=e[On].indexOf(t);n!==-1&&e[On].splice(n,1)}function ur(e){let t=e[We];return gn(t)?t[We]:t}function _S(e){return e[nl]??=[]}function CS(e){return e.cleanup??=[]}var K={lFrame:I_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $d=!1;function wS(){return K.lFrame.elementDepthCount}function ES(){K.lFrame.elementDepthCount++}function DS(){K.lFrame.elementDepthCount--}function Nf(){return K.bindingsEnabled}function IS(){return K.skipHydrationRootTNode!==null}function bS(e){return K.skipHydrationRootTNode===e}function SS(){K.skipHydrationRootTNode=null}function he(){return K.lFrame.lView}function rt(){return K.lFrame.tView}function Rl(e){return K.lFrame.contextLView=e,e[gt]}function Ol(e){return K.lFrame.contextLView=null,e}function mt(){let e=y_();for(;e!==null&&e.type===64;)e=e.parent;return e}function y_(){return K.lFrame.currentTNode}function MS(){let e=K.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function ko(e,t){let n=K.lFrame;n.currentTNode=e,n.isParent=t}function __(){return K.lFrame.isParent}function TS(){K.lFrame.isParent=!1}function C_(){return $d}function ry(e){let t=$d;return $d=e,t}function xS(e){return K.lFrame.bindingIndex=e}function kl(){return K.lFrame.bindingIndex++}function AS(e){let t=K.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function NS(){return K.lFrame.inI18n}function RS(e,t){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=e,Hd(t)}function OS(){return K.lFrame.currentDirectiveIndex}function Hd(e){K.lFrame.currentDirectiveIndex=e}function kS(e){let t=K.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function w_(e){K.lFrame.currentQueryIndex=e}function PS(e){let t=e[J];return t.type===2?t.declTNode:t.type===1?e[xt]:null}function E_(e,t,n){if(n&q.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(n&q.Host);)if(i=PS(o),i===null||(o=o[gi],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=K.lFrame=D_();return r.currentTNode=t,r.lView=e,!0}function Rf(e){let t=D_(),n=e[J];K.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function D_(){let e=K.lFrame,t=e===null?null:e.child;return t===null?I_(e):t}function I_(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function b_(){let e=K.lFrame;return K.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var S_=b_;function Of(){let e=b_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function FS(e){return(K.lFrame.contextLView=vS(e,K.lFrame.contextLView))[gt]}function mi(){return K.lFrame.selectedIndex}function dr(e){K.lFrame.selectedIndex=e}function kf(){let e=K.lFrame;return g_(e.tView,e.selectedIndex)}function LS(){return K.lFrame.currentNamespace}var M_=!0;function Pf(){return M_}function Ff(e){M_=e}function VS(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let s=d_(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function T_(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function qa(e,t,n){x_(e,t,3,n)}function Qa(e,t,n,r){(e[V]&3)===n&&x_(e,t,n,r)}function Id(e,t){let n=e[V];(n&3)===t&&(n&=16383,n+=1,e[V]=n)}function x_(e,t,n,r){let i=r!==void 0?e[ei]&65535:0,o=r??-1,s=t.length-1,a=0;for(let l=i;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],r!=null&&a>=r)break}else t[l]<0&&(e[ei]+=65536),(a<o||o==-1)&&(jS(e,n,t,l),e[ei]=(e[ei]&4294901760)+l+2),l++}function iy(e,t){ht(4,e,t);let n=X(null);try{t.call(e)}finally{X(n),ht(5,e,t)}}function jS(e,t,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=e[s];i?e[V]>>14<e[ei]>>16&&(e[V]&3)===t&&(e[V]+=16384,iy(a,o)):iy(a,o)}var ri=-1,fr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function BS(e){return e instanceof fr}function US(e){return(e.flags&8)!==0}function $S(e){return(e.flags&16)!==0}function HS(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{let o=i,s=n[++r];WS(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function zS(e){return e===3||e===4||e===6}function WS(e){return e.charCodeAt(0)===64}function Mo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?oy(e,n,i,null,t[++r]):oy(e,n,i,null,null))}}return e}function oy(e,t,n,r,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(e[o+1]=i);return}else if(r===e[o+1]){e[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),r!==null&&e.splice(o++,0,r),i!==null&&e.splice(o++,0,i)}var bd={},zd=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Sl(r);let i=this.injector.get(t,bd,r);return i!==bd||n===bd?i:this.parentInjector.get(t,n,r)}};function A_(e){return e!==ri}function ll(e){return e&32767}function GS(e){return e>>16}function cl(e,t){let n=GS(e),r=t;for(;n>0;)r=r[gi],n--;return r}var Wd=!0;function sy(e){let t=Wd;return Wd=e,t}var qS=256,N_=qS-1,R_=5,QS=0,Ut={};function ZS(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Eo)&&(r=n[Eo]),r==null&&(r=n[Eo]=QS++);let i=r&N_,o=1<<i;t.data[e+(i>>R_)]|=o}function ul(e,t){let n=O_(e,t);if(n!==-1)return n;let r=t[J];r.firstCreatePass&&(e.injectorIndex=t.length,Sd(r.data,e),Sd(t,null),Sd(r.blueprint,null));let i=Lf(e,t),o=e.injectorIndex;if(A_(i)){let s=ll(i),a=cl(i,t),l=a[J].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=i,o}function Sd(e,t){e.push(0,0,0,0,0,0,0,0,t)}function O_(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Lf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=V_(i),r===null)return ri;if(n++,i=i[gi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return ri}function Gd(e,t,n){ZS(e,t,n)}function k_(e,t,n){if(n&q.Optional||e!==void 0)return e;If(t,"NodeInjector")}function P_(e,t,n,r){if(n&q.Optional&&r===void 0&&(r=null),!(n&(q.Self|q.Host))){let i=e[bo],o=dt(void 0);try{return i?i.get(t,r,n&q.Optional):Wy(t,r,n&q.Optional)}finally{dt(o)}}return k_(r,t,n)}function F_(e,t,n,r=q.Default,i){if(e!==null){if(t[V]&2048&&!(r&q.Self)){let s=eM(e,t,n,r,Ut);if(s!==Ut)return s}let o=L_(e,t,n,r,Ut);if(o!==Ut)return o}return P_(t,n,r,i)}function L_(e,t,n,r,i){let o=XS(n);if(typeof o=="function"){if(!E_(t,e,r))return r&q.Host?k_(i,n,r):P_(t,n,r,i);try{let s;if(s=o(r),s==null&&!(r&q.Optional))If(n);else return s}finally{S_()}}else if(typeof o=="number"){let s=null,a=O_(e,t),l=ri,c=r&q.Host?t[$t][xt]:null;for((a===-1||r&q.SkipSelf)&&(l=a===-1?Lf(e,t):t[a+8],l===ri||!ly(r,!1)?a=-1:(s=t[J],a=ll(l),t=cl(l,t)));a!==-1;){let u=t[J];if(ay(o,a,u.data)){let d=YS(a,t,n,s,r,c);if(d!==Ut)return d}l=t[a+8],l!==ri&&ly(r,t[J].data[a+8]===c)&&ay(o,a,t)?(s=u,a=ll(l),t=cl(l,t)):a=-1}}return i}function YS(e,t,n,r,i,o){let s=t[J],a=s.data[e+8],l=r==null?gr(a)&&Wd:r!=s&&(a.type&3)!==0,c=i&q.Host&&o===a,u=KS(a,s,n,l,c);return u!==null?dl(t,s,u,a):Ut}function KS(e,t,n,r,i){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=s[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=s[l];if(h&&fn(h)&&h.type===n)return l}return null}function dl(e,t,n,r){let i=e[n],o=t.data;if(BS(i)){let s=i;s.resolving&&Bb(jb(o[n]));let a=sy(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?dt(s.injectImpl):null,u=E_(e,r,q.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&VS(n,o[n],t)}finally{c!==null&&dt(c),sy(a),s.resolving=!1,S_()}}return i}function XS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Eo)?e[Eo]:void 0;return typeof t=="number"?t>=0?t&N_:JS:t}function ay(e,t,n){let r=1<<e;return!!(n[t+(e>>R_)]&r)}function ly(e,t){return!(e&q.Self)&&!(e&q.Host&&t)}var sr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return F_(this._tNode,this._lView,t,Sl(r),n)}};function JS(){return new sr(mt(),he())}function vi(e){return No(()=>{let t=e.prototype.constructor,n=t[Ka]||qd(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ka]||qd(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function qd(e){return jy(e)?()=>{let t=qd(He(e));return t&&t()}:ii(e)}function eM(e,t,n,r,i){let o=e,s=t;for(;o!==null&&s!==null&&s[V]&2048&&!sl(s);){let a=L_(o,s,n,r|q.Self,Ut);if(a!==Ut)return a;let l=o.parent;if(!l){let c=s[a_];if(c){let u=c.get(n,Ut,r);if(u!==Ut)return u}l=V_(s),s=s[gi]}o=l}return i}function V_(e){let t=e[J],n=t.type;return n===2?t.declTNode:n===1?e[xt]:null}function cy(e,t=null,n=null,r){let i=j_(e,t,n,r);return i.resolveInjectorInitializers(),i}function j_(e,t=null,n=null,r,i=new Set){let o=[n||ft,Jb(e)];return r=r||(typeof e=="object"?void 0:ze(e)),new Io(o,t||Mf(),r||null,i)}var nt=class e{static THROW_IF_NOT_FOUND=Do;static NULL=new el;static create(t,n){if(Array.isArray(t))return cy({name:""},n,t,"");{let r=t.name??"";return cy({name:r},t.parent,t.providers,r)}}static \u0275prov=x({token:e,providedIn:"any",factory:()=>D(Zy)});static __NG_ELEMENT_ID__=-1};var tM=new b("");tM.__NG_ELEMENT_ID__=e=>{let t=mt();if(t===null)throw new T(204,!1);if(t.type&2)return t.value;if(e&q.Optional)return null;throw new T(204,!1)};var B_=!1,Po=(()=>{class e{static __NG_ELEMENT_ID__=nM;static __NG_ENV_ID__=n=>n}return e})(),Qd=class extends Po{_lView;constructor(t){super(),this._lView=t}onDestroy(t){return v_(this._lView,t),()=>yS(this._lView,t)}};function nM(){return new Qd(he())}var ci=class{},Pl=new b("",{providedIn:"root",factory:()=>!1});var U_=new b(""),$_=new b(""),mn=(()=>{class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Pe(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),Vf=(()=>{class e{internalPendingTasks=C(mn);scheduler=C(ci);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(n))}}run(n){return oe(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})(),Zd=class extends de{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,o_()&&(this.destroyRef=C(Po,{optional:!0})??void 0,this.pendingTasks=C(mn,{optional:!0})??void 0)}emit(t){let n=X(null);try{super.next(t)}finally{X(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&typeof t=="object"){let l=t;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return t instanceof ve&&t.add(a),a}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{t(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Fe=Zd;function fl(...e){}function H_(e){let t,n;function r(){e=fl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function uy(e){return queueMicrotask(()=>e()),()=>{e=fl}}var jf="isAngularZone",hl=jf+"_ID",rM=0,ee=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Fe(!1);onMicrotaskEmpty=new Fe(!1);onStable=new Fe(!1);onError=new Fe(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=B_}=t;if(typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,sM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,iM,fl,fl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},iM={};function Bf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function oM(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){H_(()=>{e.callbackScheduled=!1,Yd(e),e.isCheckStableRunning=!0,Bf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Yd(e)}function sM(e){let t=()=>{oM(e)},n=rM++;e._inner=e._inner.fork({name:"angular",properties:{[jf]:!0,[hl]:n,[hl+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(aM(l))return r.invokeTask(o,s,a,l);try{return dy(e),r.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),fy(e)}},onInvoke:(r,i,o,s,a,l,c)=>{try{return dy(e),r.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!lM(l)&&t(),fy(e)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Yd(e),Bf(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Yd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function dy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fy(e){e._nesting--,Bf(e)}var Kd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Fe;onMicrotaskEmpty=new Fe;onStable=new Fe;onError=new Fe;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function aM(e){return z_(e,"__ignore_ng_zone__")}function lM(e){return z_(e,"__scheduler_tick__")}function z_(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Pn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},cM=new b("",{providedIn:"root",factory:()=>{let e=C(ee),t=C(Pn);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function hy(e,t){return Ly(e,t)}function uM(e){return Ly(Fy,e)}var W_=(hy.required=uM,hy);function dM(){return Fl(mt(),he())}function Fl(e,t){return new vn(At(e,t))}var vn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=dM}return e})();var py=new Set;function yi(e){py.has(e)||(py.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function fM(e){return typeof e=="function"&&e[et]!==void 0}function Fo(e,t){yi("NgSignals");let n=Mv(e),r=n[et];return t?.equal&&(r.equal=t.equal),n.set=i=>va(r,i),n.update=i=>Tv(r,i),n.asReadonly=hM.bind(n),n}function hM(){let e=this[et];if(e.readonlyFn===void 0){let t=()=>this();t[et]=e,e.readonlyFn=t}return e.readonlyFn}function G_(e){return fM(e)&&typeof e.set=="function"}function q_(e){return(e.flags&128)===128}var Q_=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Q_||{}),Z_=new Map,pM=0;function gM(){return pM++}function mM(e){Z_.set(e[xl],e)}function Xd(e){Z_.delete(e[xl])}var gy="__ngContext__";function _i(e,t){kn(t)?(e[gy]=t[xl],mM(t)):e[gy]=t}function Y_(e){return X_(e[So])}function K_(e){return X_(e[Mt])}function X_(e){for(;e!==null&&!gn(e);)e=e[Mt];return e}var Jd;function J_(e){Jd=e}function vM(){if(Jd!==void 0)return Jd;if(typeof document<"u")return document;throw new T(210,!1)}var Uf=new b("",{providedIn:"root",factory:()=>yM}),yM="ng",$f=new b(""),vt=new b("",{providedIn:"platform",factory:()=>"unknown"});var Hf=new b("",{providedIn:"root",factory:()=>vM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var _M="h",CM="b";var e0=!1,wM=new b("",{providedIn:"root",factory:()=>e0});var t0=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(t0||{}),Ll=new b("");var EM=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=x({token:e,providedIn:"root",factory:()=>new e})}return e})();var DM=()=>null;function n0(e,t,n=!1){return DM(e,t,n)}function r0(e,t){let n=e.contentQueries;if(n!==null){let r=X(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=e.data[s];w_(o),a.contentQueries(2,t[s],s)}}}finally{X(r)}}}function ef(e,t,n){w_(0);let r=X(null);try{t(e,n)}finally{X(r)}}function i0(e,t,n){if(c_(t)){let r=X(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{X(r)}}}var Wt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Wt||{});var pl=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Py})`}};function Vl(e){return e instanceof pl?e.changingThisBreaksApplicationSecurity:e}function o0(e,t){let n=IM(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Py})`)}return n===t}function IM(e){return e instanceof pl&&e.getTypeName()||null}var bM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function s0(e){return e=String(e),e.match(bM)?e:"unsafe:"+e}var zf=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(zf||{});function Ci(e){let t=SM();return t?t.sanitize(zf.URL,e)||"":o0(e,"URL")?Vl(e):s0(bl(e))}function SM(){let e=he();return e&&e[un].sanitizer}function a0(e){return e.ownerDocument.defaultView}function l0(e){return e.ownerDocument}function c0(e){return e instanceof Function?e():e}function MM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var u0="ng-template";function TM(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&MM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Wf(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Wf(e){return e.type===4&&e.value!==u0}function xM(e,t,n){let r=e.type===4&&!n?u0:e.value;return t===r}function AM(e,t,n){let r=4,i=e.attrs,o=i!==null?OM(i):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!St(r)&&!St(l))return!1;if(s&&St(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!xM(e,l,n)||l===""&&t.length===1){if(St(r))return!1;s=!0}}else if(r&8){if(i===null||!TM(e,i,l,n)){if(St(r))return!1;s=!0}}else{let c=t[++a],u=NM(l,i,Wf(e),n);if(u===-1){if(St(r))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&c!==d){if(St(r))return!1;s=!0}}}}return St(r)||s}function St(e){return(e&1)===0}function NM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++i];for(;typeof a=="string";)a=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kM(t,e)}function RM(e,t,n=!1){for(let r=0;r<t.length;r++)if(AM(e,t[r],n))return!0;return!1}function OM(e){for(let t=0;t<e.length;t++){let n=e[t];if(zS(n))return t}return e.length}function kM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function my(e,t){return e?":not("+t.trim()+")":t}function PM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(r&2){let a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!St(s)&&(t+=my(o,i),i=""),r=s,o=o||!St(r);n++}return i!==""&&(t+=my(o,i)),t}function FM(e){return e.map(PM).join(",")}function LM(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!St(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var wi={};function VM(e,t){return e.createText(t)}function jM(e,t,n){e.setValue(t,n)}function d0(e,t,n){return e.createElement(t,n)}function gl(e,t,n,r,i){e.insertBefore(t,n,r,i)}function f0(e,t,n){e.appendChild(t,n)}function vy(e,t,n,r,i){r!==null?gl(e,t,n,r,i):f0(e,t,n)}function BM(e,t,n){e.removeChild(null,t,n)}function UM(e,t,n){e.setAttribute(t,"style",n)}function $M(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function h0(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&HS(e,t,r),i!==null&&$M(e,t,i),o!==null&&UM(e,t,o)}function Gf(e,t,n,r,i,o,s,a,l,c,u){let d=dn+r,f=d+i,h=HM(d,f),p=typeof c=="function"?c():c;return h[J]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function HM(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:wi);return n}function zM(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Gf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function qf(e,t,n,r,i,o,s,a,l,c,u){let d=t.blueprint.slice();return d[pn]=i,d[V]=r|4|128|8|64|1024,(c!==null||e&&e[V]&2048)&&(d[V]|=2048),m_(d),d[We]=d[gi]=e,d[gt]=n,d[un]=s||e&&e[un],d[Te]=a||e&&e[Te],d[bo]=l||e&&e[bo]||null,d[xt]=o,d[xl]=gM(),d[tl]=u,d[a_]=c,d[$t]=t.type==2?e[$t]:d,d}function WM(e,t,n){let r=At(t,e),i=zM(n),o=e[un].rendererFactory,s=Qf(e,qf(e,i,null,p0(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=s}function p0(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function g0(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Qf(e,t){return e[So]?e[ty][Mt]=t:e[So]=t,e[ty]=t,t}function ge(e=1){m0(rt(),he(),mi()+e,!1)}function m0(e,t,n,r){if(!r)if((t[V]&3)===3){let o=e.preOrderCheckHooks;o!==null&&qa(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Qa(t,o,0,n)}dr(n)}var jl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(jl||{});function v0(e,t,n,r){let i=X(null);try{let[o,s,a]=e.inputs[n],l=null;s&jl.SignalBased&&(l=t[o][et]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(t,r)),e.setInput!==null?e.setInput(t,l,r,n,o):u_(t,l,o,r)}finally{X(i)}}function y0(e,t,n,r,i){let o=mi(),s=r&2;try{dr(-1),s&&t.length>dn&&m0(e,t,dn,!1),ht(s?2:0,i),n(r,i)}finally{dr(o),ht(s?3:1,i)}}function _0(e,t,n){Nf()&&(_i(At(n,t),t),C0(e,t,n))}function C0(e,t,n){KM(e,t,n),(n.flags&64)===64&&XM(e,t,n)}function w0(e,t,n=At){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(t,e):e[s];e[i++]=a}}}function GM(e,t,n,r){let o=r.get(wM,e0)||n===Wt.ShadowDom,s=e.selectRootElement(t,o);return qM(s),s}function qM(e){QM(e)}var QM=()=>null;function ZM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function E0(e,t,n,r,i,o,s,a){let l=t.inputs,c;if(!a&&l!=null&&(c=l[r]))Zf(e,n,c,r,i),gr(t)&&YM(n,t.index);else if(t.type&3){let u=At(t,n);r=ZM(r),i=s!=null?s(i,t.value||"",r):i,o.setProperty(u,r,i)}else t.type&12}function YM(e,t){let n=zt(t,e);n[V]&16||(n[V]|=64)}function KM(e,t,n){let r=n.directiveStart,i=n.directiveEnd;gr(n)&&WM(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ul(n,t);let o=n.initialInputs;for(let s=r;s<i;s++){let a=e.data[s],l=dl(t,e,s,n);if(_i(l,t),o!==null&&nT(t,s-r,l,a,n,o),fn(a)){let c=zt(n.index,t);c[gt]=dl(t,e,s,n)}}}function XM(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=OS();try{dr(o);for(let a=r;a<i;a++){let l=e.data[a],c=t[a];Hd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&JM(l,c)}}finally{dr(-1),Hd(s)}}function JM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function D0(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];RM(t,o.selectors,!1)&&(r??=[],fn(o)?r.unshift(o):r.push(o))}return r}function eT(e,t,n,r,i,o){let s=At(e,t);tT(t[Te],s,o,e.value,n,r,i)}function tT(e,t,n,r,i,o,s){if(o==null)e.removeAttribute(t,i,n);else{let a=s==null?bl(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}function nT(e,t,n,r,i,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],c=s[a+1];v0(r,n,l,c)}}function I0(e,t){let n=e[bo],r=n?n.get(Pn,null):null;r&&r.handleError(t)}function Zf(e,t,n,r,i){for(let o=0;o<n.length;o+=2){let s=n[o],a=n[o+1],l=t[s],c=e.data[s];v0(c,l,a,i)}}function rT(e,t){let n=zt(t,e),r=n[J];iT(r,n);let i=n[pn];i!==null&&n[tl]===null&&(n[tl]=n0(i,n[bo])),Yf(r,n,n[gt])}function iT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Yf(e,t,n){Rf(t);try{let r=e.viewQuery;r!==null&&ef(1,r,n);let i=e.template;i!==null&&y0(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[li]?.finishViewCreation(e),e.staticContentQueries&&r0(e,t),e.staticViewQueries&&ef(2,e.viewQuery,n);let o=e.components;o!==null&&oT(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[V]&=-5,Of()}}function oT(e,t){for(let n=0;n<t.length;n++)rT(e,t[n])}function sT(e,t,n,r){let i=X(null);try{let o=t.tView,a=e[V]&4096?4096:16,l=qf(e,o,n,a,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=e[t.index];l[ai]=c;let u=e[li];return u!==null&&(l[li]=u.createEmbeddedView(o)),Yf(o,l,n),l}finally{X(i)}}function yy(e,t){return!t||t.firstChild===null||q_(e)}var aT;function Kf(e,t){return aT(e,t)}var Gt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Gt||{});function b0(e){return(e.flags&32)===32}function ti(e,t,n,r,i){if(r!=null){let o,s=!1;gn(r)?o=r:kn(r)&&(s=!0,r=r[pn]);let a=Ht(r);e===0&&n!==null?i==null?f0(t,n,a):gl(t,n,a,i||null,!0):e===1&&n!==null?gl(t,n,a,i||null,!0):e===2?BM(t,a,s):e===3&&t.destroyNode(a),o!=null&&_T(t,e,o,n,i)}}function lT(e,t){S0(e,t),t[pn]=null,t[xt]=null}function cT(e,t,n,r,i,o){r[pn]=i,r[xt]=t,Bl(e,r,n,1,i,o)}function S0(e,t){t[un].changeDetectionScheduler?.notify(10),Bl(e,t,t[Te],2,null,null)}function uT(e){let t=e[So];if(!t)return Md(e[J],e);for(;t;){let n=null;if(kn(t))n=t[So];else{let r=t[pt];r&&(n=r)}if(!n){for(;t&&!t[Mt]&&t!==e;)kn(t)&&Md(t[J],t),t=t[We];t===null&&(t=e),kn(t)&&Md(t[J],t),n=t&&t[Mt]}t=n}}function Xf(e,t){let n=e[ol],r=n.indexOf(t);n.splice(r,1)}function M0(e,t){if(Oo(t))return;let n=t[Te];n.destroyNode&&Bl(e,t,n,3,null,null),uT(t)}function Md(e,t){if(Oo(t))return;let n=X(null);try{t[V]&=-129,t[V]|=256,t[tt]&&Ju(t[tt]),fT(e,t),dT(e,t),t[J].type===1&&t[Te].destroy();let r=t[ai];if(r!==null&&gn(t[We])){r!==t[We]&&Xf(r,t);let i=t[li];i!==null&&i.detachView(e)}Xd(t)}finally{X(n)}}function dT(e,t){let n=e.cleanup,r=t[nl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(t[nl]=null);let i=t[On];if(i!==null){t[On]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=t[rl];if(o!==null){t[rl]=null;for(let s of o)s.destroy()}}function fT(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof fr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];ht(4,a,l);try{l.call(a)}finally{ht(5,a,l)}}else{ht(4,i,o);try{o.call(i)}finally{ht(5,i,o)}}}}}function hT(e,t,n){return pT(e,t.parent,n)}function pT(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[pn];if(gr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Wt.None||i===Wt.Emulated)return null}return At(r,n)}function gT(e,t,n){return vT(e,t,n)}function mT(e,t,n){return e.type&40?At(e,n):null}var vT=mT,_y;function Jf(e,t,n,r){let i=hT(e,r,t),o=t[Te],s=r.parent||t[xt],a=gT(s,r,t);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)vy(o,i,n[l],a,!1);else vy(o,i,n,a,!1);_y!==void 0&&_y(o,r,t,n,i)}function wo(e,t){if(t!==null){let n=t.type;if(n&3)return At(t,e);if(n&4)return tf(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return wo(e,r);{let i=e[t.index];return gn(i)?tf(-1,i):Ht(i)}}else{if(n&128)return wo(e,t.next);if(n&32)return Kf(t,e)()||Ht(e[t.index]);{let r=T0(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=ur(e[$t]);return wo(i,r)}else return wo(e,t.next)}}}return null}function T0(e,t){if(t!==null){let r=e[$t][xt],i=t.projection;return r.projection[i]}return null}function tf(e,t){let n=pt+e+1;if(n<t.length){let r=t[n],i=r[J].firstChild;if(i!==null)return wo(r,i)}return t[cr]}function eh(e,t,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&t===0&&(a&&_i(Ht(a),r),n.flags|=2),!b0(n))if(l&8)eh(e,t,n.child,r,i,o,!1),ti(t,e,i,a,o);else if(l&32){let c=Kf(n,r),u;for(;u=c();)ti(t,e,i,u,o);ti(t,e,i,a,o)}else l&16?yT(e,t,r,n,i,o):ti(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Bl(e,t,n,r,i,o){eh(n,r,e.firstChild,t,i,o,!1)}function yT(e,t,n,r,i,o){let s=n[$t],l=s[xt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ti(t,e,i,u,o)}else{let c=l,u=s[We];q_(r)&&(c.flags|=128),eh(e,t,c,u,i,o,!0)}}function _T(e,t,n,r,i){let o=n[cr],s=Ht(n);o!==s&&ti(t,e,r,o,i);for(let a=pt;a<n.length;a++){let l=n[a];Bl(l[J],l,e,t,r,o)}}function CT(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Gt.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gt.Important),e.setStyle(n,r,i,o))}}function ml(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Ht(o)),gn(o)&&wT(o,r);let s=n.type;if(s&8)ml(e,t,n.child,r);else if(s&32){let a=Kf(n,t),l;for(;l=a();)r.push(l)}else if(s&16){let a=T0(t,n);if(Array.isArray(a))r.push(...a);else{let l=ur(t[$t]);ml(l[J],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function wT(e,t){for(let n=pt;n<e.length;n++){let r=e[n],i=r[J].firstChild;i!==null&&ml(r[J],r,i,t)}e[cr]!==e[pn]&&t.push(e[cr])}var x0=[];function ET(e){return e[tt]??DT(e)}function DT(e){let t=x0.pop()??Object.create(bT);return t.lView=e,t}function IT(e){e.lView[tt]!==e&&(e.lView=null,x0.push(e))}var bT=W(E({},fo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Nl(e.lView)},consumerOnSignalRead(){this.lView[tt]=this}});function ST(e){let t=e[tt]??Object.create(MT);return t.lView=e,t}var MT=W(E({},fo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=ur(e.lView);for(;t&&!A0(t[J]);)t=ur(t);t&&Af(t)},consumerOnSignalRead(){this.lView[tt]=this}});function A0(e){return e.type!==2}function N0(e){if(e[rl]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[rl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[V]&8192)}}var TT=100;function R0(e,t=!0,n=0){let i=e[un].rendererFactory,o=!1;o||i.begin?.();try{xT(e,n)}catch(s){throw t&&I0(e,s),s}finally{o||i.end?.()}}function xT(e,t){let n=C_();try{ry(!0),nf(e,t);let r=0;for(;Al(e);){if(r===TT)throw new T(103,!1);r++,nf(e,1)}}finally{ry(n)}}function AT(e,t,n,r){if(Oo(t))return;let i=t[V],o=!1,s=!1;Rf(t);let a=!0,l=null,c=null;o||(A0(e)?(c=ET(t),l=pa(c)):mv()===null?(a=!1,c=ST(t),l=pa(c)):t[tt]&&(Ju(t[tt]),t[tt]=null));try{m_(t),xS(e.bindingStartIndex),n!==null&&y0(e,t,n,2,r);let u=(i&3)===3;if(!o)if(u){let h=e.preOrderCheckHooks;h!==null&&qa(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Qa(t,h,0,null),Id(t,0)}if(s||NT(t),N0(t),O0(t,0),e.contentQueries!==null&&r0(e,t),!o)if(u){let h=e.contentCheckHooks;h!==null&&qa(t,h)}else{let h=e.contentHooks;h!==null&&Qa(t,h,1),Id(t,1)}OT(e,t);let d=e.components;d!==null&&P0(t,d,0);let f=e.viewQuery;if(f!==null&&ef(2,f,r),!o)if(u){let h=e.viewCheckHooks;h!==null&&qa(t,h)}else{let h=e.viewHooks;h!==null&&Qa(t,h,2),Id(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Dd]){for(let h of t[Dd])h();t[Dd]=null}o||(t[V]&=-73)}catch(u){throw o||Nl(t),u}finally{c!==null&&(Ku(c,l),a&&IT(c)),Of()}}function O0(e,t){for(let n=Y_(e);n!==null;n=K_(n))for(let r=pt;r<n.length;r++){let i=n[r];k0(i,t)}}function NT(e){for(let t=Y_(e);t!==null;t=K_(t)){if(!(t[V]&2))continue;let n=t[ol];for(let r=0;r<n.length;r++){let i=n[r];Af(i)}}}function RT(e,t,n){let r=zt(t,e);k0(r,n)}function k0(e,t){xf(e)&&nf(e,t)}function nf(e,t){let r=e[J],i=e[V],o=e[tt],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xu(o)),s||=!1,o&&(o.dirty=!1),e[V]&=-9217,s)AT(r,e,r.template,e[gt]);else if(i&8192){N0(e),O0(e,1);let a=r.components;a!==null&&P0(e,a,1)}}function P0(e,t,n){for(let r=0;r<t.length;r++)RT(e,t[r],n)}function OT(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)dr(~i);else{let o=i,s=n[++r],a=n[++r];RS(s,o);let l=t[o];ht(24,l),a(2,l),ht(25,l)}}}finally{dr(-1)}}function th(e,t){let n=C_()?64:1088;for(e[un].changeDetectionScheduler?.notify(t);e;){e[V]|=n;let r=ur(e);if(sl(e)&&!r)return e;e=r}return null}function F0(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function kT(e,t,n,r=!0){let i=t[J];if(PT(i,t,e,n),r){let s=tf(n,e),a=t[Te],l=a.parentNode(e[cr]);l!==null&&cT(i,e[xt],a,t,l,s)}let o=t[tl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function rf(e,t){if(e.length<=pt)return;let n=pt+t,r=e[n];if(r){let i=r[ai];i!==null&&i!==e&&Xf(i,r),t>0&&(e[n-1][Mt]=r[Mt]);let o=Ja(e,pt+t);lT(r[J],r);let s=o[li];s!==null&&s.detachView(o[J]),r[We]=null,r[Mt]=null,r[V]&=-129}return r}function PT(e,t,n,r){let i=pt+r,o=n.length;r>0&&(n[i-1][Mt]=t),r<o-pt?(t[Mt]=n[i],Qy(n,pt+r,t)):(n.push(t),t[Mt]=null),t[We]=n;let s=t[ai];s!==null&&n!==s&&L0(s,t);let a=t[li];a!==null&&a.insertView(e),Ud(t),t[V]|=128}function L0(e,t){let n=e[ol],r=t[We];if(kn(r))e[V]|=2;else{let i=r[We][$t];t[$t]!==i&&(e[V]|=2)}n===null?e[ol]=[t]:n.push(t)}var hr=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let t=this._lView,n=t[J];return ml(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[gt]}get dirty(){return!!(this._lView[V]&9280)||!!this._lView[tt]?.dirty}set context(t){this._lView[gt]=t}get destroyed(){return Oo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[We];if(gn(t)){let n=t[il],r=n?n.indexOf(this):-1;r>-1&&(rf(t,r),Ja(n,r))}this._attachedToViewContainer=!1}M0(this._lView[J],this._lView)}onDestroy(t){v_(this._lView,t)}markForCheck(){th(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Af(this._cdRefInjectingView||this._lView)}detach(){this._lView[V]&=-129}reattach(){Ud(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,R0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=sl(this._lView),n=this._lView[ai];n!==null&&!t&&Xf(n,this._lView),S0(this._lView[J],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t;let n=sl(this._lView),r=this._lView[ai];r!==null&&!n&&L0(r,this._lView),Ud(this._lView)}},Ul=(()=>{class e{static __NG_ELEMENT_ID__=VT}return e})(),FT=Ul,LT=class extends FT{_declarationLView;_declarationTContainer;elementRef;constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){let i=sT(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new hr(i)}};function VT(){return jT(mt(),he())}function jT(e,t){return e.type&4?new LT(t,e,Fl(e,t)):null}function nh(e,t,n,r,i){let o=e.data[t];if(o===null)o=BT(e,t,n,r,i),NS()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=MS();o.injectorIndex=s===null?-1:s.injectorIndex}return ko(o,!0),o}function BT(e,t,n,r,i){let o=y_(),s=__(),a=s?o:o&&o.parent,l=e.data[t]=$T(e,a,n,t,r,i);return UT(e,l,o,s),l}function UT(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function $T(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return IS()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var wH=new RegExp(`^(\\d+)*(${CM}|${_M})*(.*)`);var HT=()=>null;function Cy(e,t){return HT(e,t)}var of=class{},vl=class{},sf=class{resolveComponentFactory(t){throw Error(`No component factory found for ${ze(t)}.`)}},ui=class{static NULL=new sf},di=class{},jn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>zT()}return e})();function zT(){let e=he(),t=mt(),n=zt(t.index,e);return(kn(n)?n:e)[Te]}var WT=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>null})}return e})();function wy(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)i=Zv(i,a);else if(o==2){let l=a,c=t[++s];r=Zv(r,l+": "+c+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function G(e,t=q.Default){let n=he();if(n===null)return D(e,t);let r=mt();return F_(r,n,He(e),t)}function V0(e,t,n,r,i){let o=r===null?null:{"":-1},s=i(e,n);if(s!==null){let[a,l]=qT(e,n,s);ZT(e,t,n,a,o,l)}o!==null&&r!==null&&GT(n,r,o)}function GT(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new T(-301,!1);r.push(t[i],o)}}function qT(e,t,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),fn(o)&&(r.push(o),QT(e,t,r.length-1));return gr(t)?r.push(...n.slice(1)):r.push(...n),[r,i]}function QT(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function ZT(e,t,n,r,i,o){for(let c=0;c<r.length;c++)Gd(ul(n,t),e,r[c].type);nx(n,e.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=g0(e,t,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Mo(n.mergedAttrs,u.hostAttrs),XT(e,n,t,l,u),tx(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}YT(e,n,o)}function YT(e,t,n){let r=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;l=Ey(0,d.inputs,u,l,h),c=Ey(1,d.outputs,u,c,p);let g=l!==null&&s!==null&&!Wf(t)?KT(l,u,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function Ey(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;r??={};let a=o;if(i!==null){if(!i.hasOwnProperty(o))continue;a=i[o]}e===0?Dy(r,n,a,o):Dy(r,n,a,s)}return r}function Dy(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function KT(e,t,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){let s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r??=[],r.push(s[a+1],n[i+1]);break}}i+=2}return r}function XT(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=ii(i.type,!0)),s=new fr(o,fn(i),G);e.blueprint[r]=s,n[r]=s,JT(e,t,r,g0(e,n,i.hostVars,wi),i)}function JT(e,t,n,r,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;ex(s)!=a&&s.push(a),s.push(n,r,o)}}function ex(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function tx(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;fn(t)&&(n[""]=e)}}function nx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function j0(e,t,n,r,i,o,s,a){let l=t.consts,c=al(l,s),u=nh(t,e,2,r,c);return o&&V0(t,n,u,al(l,a),i),u.mergedAttrs=Mo(u.mergedAttrs,u.attrs),u.attrs!==null&&wy(u,u.attrs,!1),u.mergedAttrs!==null&&wy(u,u.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,u),u}function B0(e,t){T_(e,t),c_(t)&&e.queries.elementEnd(t)}var yl=class extends ui{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=lr(t);return new To(n,this.ngModule)}};function rx(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&jl.SignalBased)!==0};return i&&(o.transform=i),o})}function ix(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function ox(e,t,n){let r=t instanceof Me?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new zd(n,r):n}function sx(e){let t=e.get(di,null);if(t===null)throw new T(407,!1);let n=e.get(WT,null),r=e.get(ci,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r}}function ax(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return d0(t,n,n==="svg"?pS:n==="math"?gS:null)}var To=class extends vl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){return rx(this.componentDef.inputs)}get outputs(){return ix(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=FM(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i){let o=X(null);try{let s=this.componentDef,a=r?["ng-version","19.1.7"]:LM(this.componentDef.selectors[0]),l=Gf(0,null,null,1,0,null,null,null,null,[a],null),c=ox(s,i||this.ngModule,t),u=sx(c),d=u.rendererFactory.createRenderer(null,s),f=r?GM(d,r,s.encapsulation,c):ax(s,d),h=qf(null,l,null,512|p0(s),null,null,u,d,c,null,n0(f,c,!0));h[dn]=f,Rf(h);let p=null;try{let g=j0(dn,l,h,"#host",()=>[this.componentDef],!0,0);f&&(h0(d,f,g),_i(f,h)),C0(l,h,g),i0(l,g,h),B0(l,g),n!==void 0&&lx(g,this.ngContentSelectors,n),p=zt(g.index,h),h[gt]=p[gt],Yf(l,h,null)}catch(g){throw p!==null&&Xd(p),Xd(h),g}finally{Of()}return new af(this.componentType,h)}finally{X(o)}}},af=class extends of{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n){super(),this._rootLView=n,this._tNode=g_(n[J],dn),this.location=Fl(this._tNode,n),this.instance=zt(this._tNode.index,n)[gt],this.hostView=this.changeDetectorRef=new hr(n,void 0,!1),this.componentType=t}setInput(t,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;Zf(o[J],o,i,t,n),this.previousInputValues.set(t,n);let s=zt(this._tNode.index,o);th(s,1)}}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function lx(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ei=(()=>{class e{static __NG_ELEMENT_ID__=cx}return e})();function cx(){let e=mt();return dx(e,he())}var ux=Ei,U0=class extends ux{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Fl(this._hostTNode,this._hostLView)}get injector(){return new sr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Lf(this._hostTNode,this._hostLView);if(A_(t)){let n=cl(t,this._hostLView),r=ll(t),i=n[J].data[r+8];return new sr(i,n)}else return new sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Iy(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Cy(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,yy(this._hostTNode,s)),a}createComponent(t,n,r,i,o){let s=t&&!uS(t),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new To(lr(t)),c=r||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(Me,null);g&&(o=g)}let u=lr(l.componentType??{}),d=Cy(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,o);return this.insertImpl(h.hostView,a,yy(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(mS(i)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=i[We],c=new U0(l,l[xt],l[We]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return kT(s,i,o,r),t.attachToViewContainerRef(),Qy(Td(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Iy(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=rf(this._lContainer,n);r&&(Ja(Td(this._lContainer),n),M0(r[J],r))}detach(t){let n=this._adjustIndex(t,-1),r=rf(this._lContainer,n);return r&&Ja(Td(this._lContainer),n)!=null?new hr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Iy(e){return e[il]}function Td(e){return e[il]||(e[il]=[])}function dx(e,t){let n,r=t[e.index];return gn(r)?n=r:(n=F0(r,t,null,e),t[e.index]=n,Qf(t,n)),hx(n,t,e,r),new U0(n,e,t)}function fx(e,t){let n=e[Te],r=n.createComment(""),i=At(t,e),o=n.parentNode(i);return gl(n,o,r,n.nextSibling(i),!1),r}var hx=mx,px=()=>!1;function gx(e,t,n){return px(e,t,n)}function mx(e,t,n,r){if(e[cr])return;let i;n.type&8?i=Ht(r):i=fx(t,n),e[cr]=i}var Fn=class{},xo=class{};var lf=class extends Fn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yl(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=Ky(t);this._bootstrapComponents=c0(o.bootstrap),this._r3Injector=j_(t,n,[{provide:Fn,useValue:this},{provide:ui,useValue:this.componentFactoryResolver},...r],ze(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},cf=class extends xo{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new lf(this.moduleType,t,[])}};var _l=class extends Fn{injector;componentFactoryResolver=new yl(this);instance=null;constructor(t){super();let n=new Io([...t.providers,{provide:Fn,useValue:this},{provide:ui,useValue:this.componentFactoryResolver}],t.parent||Mf(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function rh(e,t,n=null){return new _l({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var vx=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=t_(!1,n.type),i=r.length>0?rh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=x({token:e,providedIn:"environment",factory:()=>new e(D(Me))})}return e})();function ye(e){return No(()=>{let t=$0(e),n=W(E({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Q_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(vx).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Wt.Emulated,styles:e.styles||ft,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&yi("NgStandalone"),H0(n);let r=e.dependencies;return n.directiveDefs=by(r,!1),n.pipeDefs=by(r,!0),n.id=Ex(n),n})}function yx(e){return lr(e)||Xy(e)}function _x(e){return e!==null}function Nt(e){return No(()=>({type:e.type,bootstrap:e.bootstrap||ft,declarations:e.declarations||ft,imports:e.imports||ft,exports:e.exports||ft,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Cx(e,t){if(e==null)return ar;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=jl.None,l=null),n[o]=[r,a,l],t[o]=s}return n}function wx(e){if(e==null)return ar;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Ge(e){return No(()=>{let t=$0(e);return H0(t),t})}function $0(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||ar,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ft,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cx(e.inputs,t),outputs:wx(e.outputs),debugInfo:null}}function H0(e){e.features?.forEach(t=>t(e))}function by(e,t){if(!e)return null;let n=t?Jy:yx;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(_x)}function Ex(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Dx(e){return Object.getPrototypeOf(e.prototype).constructor}function mr(e){let t=Dx(e.type),n=!0,r=[e];for(;t;){let i;if(fn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let s=e;s.inputs=xd(e.inputs),s.declaredInputs=xd(e.declaredInputs),s.outputs=xd(e.outputs);let a=i.hostBindings;a&&Tx(e,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Sx(e,l),c&&Mx(e,c),Ix(e,i),Nb(e.outputs,i.outputs),fn(i)&&i.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===mr&&(n=!1)}}t=Object.getPrototypeOf(t)}bx(r)}function Ix(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function bx(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Mo(i.hostAttrs,n=Mo(n,i.hostAttrs))}}function xd(e){return e===ar?{}:e===ft?[]:e}function Sx(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function Mx(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function Tx(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function z0(e){return ih(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function xx(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),r;for(;!(r=n.next()).done;)t(r.value)}}function ih(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Lo(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Ax(e,t,n,r,i,o,s,a,l){let c=t.consts,u=nh(t,e,4,s||null,a||null);Nf()&&V0(t,n,u,al(c,l),D0),u.mergedAttrs=Mo(u.mergedAttrs,u.attrs),T_(t,u);let d=u.tView=Gf(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Nx(e,t,n,r,i,o,s,a,l,c){let u=n+dn,d=t.firstCreatePass?Ax(u,t,e,r,i,o,s,a,l):t.data[u];ko(d,!1);let f=Rx(t,e,d,n);Pf()&&Jf(t,e,f,d),_i(f,e);let h=F0(f,e,f,d);return e[u]=h,Qf(e,h),gx(h,d,e),Tf(d)&&_0(t,e,d),l!=null&&w0(e,d,c),d}function Rt(e,t,n,r,i,o,s,a){let l=he(),c=rt(),u=al(c.consts,o);return Nx(l,c,e,t,n,r,i,u,s,a),Rt}var Rx=Ox;function Ox(e,t,n,r){return Ff(!0),t[Te].createComment("")}var oh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var W0=new b("");function vr(e){return!!e&&typeof e.then=="function"}function G0(e){return!!e&&typeof e.subscribe=="function"}var q0=new b("");var Q0=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(q0,{optional:!0})??[];injector=C(nt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Xe(this.injector,i);if(vr(o))n.push(o);else if(G0(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kx=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:()=>new uf})}return e})(),uf=class{queuedEffectCount=0;queues=new Map;schedule(t){this.enqueue(t)}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),this.queuedEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||(this.queuedEffectCount++,r.add(t))}flush(){for(;this.queuedEffectCount>0;)for(let[t,n]of this.queues)t===null?this.flushQueue(n):t.run(()=>this.flushQueue(n))}flushQueue(t){for(let n of t)t.delete(n),this.queuedEffectCount--,n.run()}},$l=new b("");function Px(){Sv(()=>{throw new T(600,!1)})}function Fx(e){return e.isBoundToModule}var Lx=10;var hn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(cM);afterRenderManager=C(EM);zonelessEnabled=C(Pl);rootEffectScheduler=C(kx);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new de;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=C(mn).hasPendingTasks.pipe(k(n=>!n));constructor(){C(Ll,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(Me);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof vl;if(!this._injector.get(Q0).done){let f=!i&&e_(n),h=!1;throw new T(405,h)}let s;i?s=n:s=this._injector.get(ui).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=Fx(s)?void 0:this._injector.get(Fn),l=r||s.selector,c=s.create(nt.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(W0,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Za(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(t0.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new T(101,!1);let n=X(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,X(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(di,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<Lx;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)Vx(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Al(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Za(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get($l,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Za(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Za(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Vx(e,t,n,r){if(!n&&!Al(e))return;R0(e,t,n&&!r?0:1)}function Hl(e,t,n,r){let i=he(),o=kl();if(Lo(i,o,t)){let s=rt(),a=kf();eT(a,i,e,t,n,r)}return Hl}function jx(e,t,n,r){return Lo(e,kl(),n)?t+bl(n)+r:wi}function Wa(e,t){return e<<17|t<<2}function pr(e){return e>>17&32767}function Bx(e){return(e&2)==2}function Ux(e,t){return e&131071|t<<17}function df(e){return e|2}function fi(e){return(e&131068)>>2}function Ad(e,t){return e&-131069|t<<2}function $x(e){return(e&1)===1}function ff(e){return e|1}function Hx(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=pr(s),l=fi(s);e[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ro(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=pr(e[a+1]);e[r+1]=Wa(f,a),f!==0&&(e[f+1]=Ad(e[f+1],r)),e[a+1]=Ux(e[a+1],r)}else e[r+1]=Wa(a,0),a!==0&&(e[a+1]=Ad(e[a+1],r)),a=r;else e[r+1]=Wa(l,0),a===0?a=r:e[l+1]=Ad(e[l+1],r),l=r;c&&(e[r+1]=df(e[r+1])),Sy(e,u,r,!0),Sy(e,u,r,!1),zx(t,u,e,r,o),s=Wa(a,l),o?t.classBindings=s:t.styleBindings=s}function zx(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ro(o,t)>=0&&(n[r+1]=ff(n[r+1]))}function Sy(e,t,n,r){let i=e[n+1],o=t===null,s=r?pr(i):fi(i),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];Wx(l,t)&&(a=!0,e[s+1]=r?ff(c):df(c)),s=r?pr(c):fi(c)}a&&(e[n+1]=r?df(i):ff(i))}function Wx(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ro(e,t)>=0:!1}function De(e,t,n){let r=he(),i=kl();if(Lo(r,i,t)){let o=rt(),s=kf();E0(o,s,r,e,t,r[Te],n,!1)}return De}function My(e,t,n,r,i){let o=t.inputs,s=i?"class":"style";Zf(e,n,o[s],s,r)}function sh(e,t){return Gx(e,t,null,!0),sh}function Gx(e,t,n,r){let i=he(),o=rt(),s=AS(2);if(o.firstUpdatePass&&Qx(o,e,s,r),t!==wi&&Lo(i,s,t)){let a=o.data[mi()];Jx(o,a,i,i[Te],e,i[s+1]=eA(t,n),r,s)}}function qx(e,t){return t>=e.expandoStartIndex}function Qx(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[mi()],s=qx(e,n);tA(o,r)&&t===null&&!s&&(t=!1),t=Zx(i,o,t,r),Hx(i,o,t,n,s,r)}}function Zx(e,t,n,r){let i=kS(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=Nd(null,e,t,n,r),n=Ao(n,t.attrs,r),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(n=Nd(i,e,t,n,r),o===null){let l=Yx(e,t,r);l!==void 0&&Array.isArray(l)&&(l=Nd(null,e,t,l[1],r),l=Ao(l,t.attrs,r),Kx(e,t,r,l))}else o=Xx(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function Yx(e,t,n){let r=n?t.classBindings:t.styleBindings;if(fi(r)!==0)return e[pr(r)]}function Kx(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[pr(i)]=r}function Xx(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;r=Ao(r,s,n)}return Ao(r,t.attrs,n)}function Nd(e,t,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ao(r,o.hostAttrs,i),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),r}function Ao(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Kb(e,s,n?!0:t[++o]))}return e===void 0?null:e}function Jx(e,t,n,r,i,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=$x(c)?Ty(l,t,n,i,fi(c),s):void 0;if(!Cl(u)){Cl(o)||Bx(c)&&(o=Ty(l,null,n,i,a,s));let d=p_(mi(),n);CT(r,s,d,i,o)}}function Ty(e,t,n,r,i,o){let s=t===null,a;for(;i>0;){let l=e[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===wi&&(f=d?ft:void 0);let h=d?wd(f,r):u===r?f:void 0;if(c&&!Cl(h)&&(h=wd(l,r)),Cl(h)&&(a=h,s))return a;let p=e[i+1];i=s?pr(p):fi(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=wd(l,r))}return a}function Cl(e){return e!==void 0}function eA(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=ze(Vl(e)))),e}function tA(e,t){return(e.flags&(t?8:16))!==0}function m(e,t,n,r){let i=he(),o=rt(),s=dn+e,a=i[Te],l=o.firstCreatePass?j0(s,o,i,t,D0,Nf(),n,r):o.data[s],c=nA(o,i,l,a,t,e);i[s]=c;let u=Tf(l);return ko(l,!0),h0(a,c,l),!b0(l)&&Pf()&&Jf(o,i,c,l),wS()===0&&_i(c,i),ES(),u&&(_0(o,i,l),i0(o,l,i)),r!==null&&w0(i,l),m}function v(){let e=mt();__()?TS():(e=e.parent,ko(e,!1));let t=e;bS(t)&&SS(),DS();let n=rt();return n.firstCreatePass&&B0(n,t),t.classesWithoutHost!=null&&US(t)&&My(n,t,he(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&$S(t)&&My(n,t,he(),t.stylesWithoutHost,!1),v}function A(e,t,n,r){return m(e,t,n,r),v(),A}var nA=(e,t,n,r,i,o)=>(Ff(!0),d0(r,i,LS()));function ah(){return he()}var wl="en-US";var rA=wl;function iA(e){typeof e=="string"&&(rA=e.toLowerCase().replace(/_/g,"-"))}var oA=(e,t,n)=>{};function j(e,t,n,r){let i=he(),o=rt(),s=mt();return Z0(o,i,i[Te],s,e,t,r),j}function sA(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=t[nl],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function Z0(e,t,n,r,i,o,s){let a=Tf(r),c=e.firstCreatePass&&CS(e),u=t[gt],d=_S(t),f=!0;if(r.type&3||s){let g=At(r,t),y=s?s(g):g,I=d.length,z=s?M=>s(Ht(M[r.index])):r.index,_=null;if(!s&&a&&(_=sA(e,t,i,r.index)),_!==null){let M=_.__ngLastListenerFn__||_;M.__ngNextListenerFn__=o,_.__ngLastListenerFn__=o,f=!1}else{o=Ay(r,t,u,o),oA(g,i,o);let M=n.listen(y,i,o);d.push(o,M),c&&c.push(i,z,I,I+1)}}else o=Ay(r,t,u,o);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let g=p.length;if(g)for(let y=0;y<g;y+=2){let I=p[y],z=p[y+1],ce=t[I][z].subscribe(o),Be=d.length;d.push(o,ce),c&&c.push(i,r.index,Be,-(Be+1))}}}function xy(e,t,n,r){let i=X(null);try{return ht(6,t,n),n(r)!==!1}catch(o){return I0(e,o),!1}finally{ht(7,t,n),X(i)}}function Ay(e,t,n,r){return function i(o){if(o===Function)return r;let s=gr(e)?zt(e.index,t):t;th(s,5);let a=xy(t,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=xy(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function Bn(e=1){return FS(e)}function S(e,t=""){let n=he(),r=rt(),i=e+dn,o=r.firstCreatePass?nh(r,i,1,t,null):r.data[i],s=aA(r,n,o,t,e);n[i]=s,Pf()&&Jf(r,n,s,o),ko(o,!1)}var aA=(e,t,n,r,i)=>(Ff(!0),VM(t[Te],r));function Vo(e){return Y0("",e,""),Vo}function Y0(e,t,n){let r=he(),i=jx(r,e,t,n);return i!==wi&&lA(r,mi(),i),Y0}function lA(e,t,n){let r=p_(t,e);jM(e[Te],r,n)}function zl(e,t,n){G_(t)&&(t=t());let r=he(),i=kl();if(Lo(r,i,t)){let o=rt(),s=kf();E0(o,s,r,e,t,r[Te],n,!1)}return zl}function lh(e,t){let n=G_(e);return n&&e.set(t),n}function Wl(e,t){let n=he(),r=rt(),i=mt();return Z0(r,n,n[Te],i,e,t),Wl}function cA(e,t,n){let r=rt();if(r.firstCreatePass){let i=fn(e);hf(n,r.data,r.blueprint,i,!0),hf(t,r.data,r.blueprint,i,!1)}}function hf(e,t,n,r,i){if(e=He(e),Array.isArray(e))for(let o=0;o<e.length;o++)hf(e[o],t,n,r,i);else{let o=rt(),s=he(),a=mt(),l=si(e)?e:He(e.provide),c=i_(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(si(e)||!e.multi){let h=new fr(c,i,G),p=Od(l,t,i?u:u+f,d);p===-1?(Gd(ul(a,s),o,l),Rd(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[p]=h,s[p]=h)}else{let h=Od(l,t,u+f,d),p=Od(l,t,u,u+f),g=h>=0&&n[h],y=p>=0&&n[p];if(i&&!y||!i&&!g){Gd(ul(a,s),o,l);let I=fA(i?dA:uA,n.length,i,r,c);!i&&y&&(n[p].providerFactory=I),Rd(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)}else{let I=K0(n[i?p:h],c,!i&&r);Rd(o,e,h>-1?h:p,I)}!i&&r&&y&&n[p].componentProviders++}}}function Rd(e,t,n,r){let i=si(t),o=rS(t);if(i||o){let l=(o?He(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function K0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Od(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function uA(e,t,n,r){return pf(this.multi,[])}function dA(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=dl(n,n[J],this.providerFactory.index,r);o=a.slice(0,s),pf(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],pf(i,o);return o}function pf(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function fA(e,t,n,r,i){let o=new fr(e,n,G);return o.multi=[],o.index=t,o.componentProviders=0,K0(o,i,r&&!n),o}function Gl(e,t=[]){return n=>{n.providersResolver=(r,i)=>cA(r,i?i(e):e,t)}}var Ln=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}};var gf=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},ch=(()=>{class e{compileModuleSync(n){return new cf(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Ky(n),o=c0(i.declarations).reduce((s,a)=>{let l=lr(a);return l&&s.push(new To(l)),s},[]);return new gf(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var hA=(()=>{class e{zone=C(ee);changeDetectionScheduler=C(ci);applicationRef=C(hn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pA=new b("",{factory:()=>!1});function X0({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new ee(W(E({},eC()),{scheduleInRootZone:n})),[{provide:ee,useFactory:e},{provide:oi,multi:!0,useFactory:()=>{let r=C(hA,{optional:!0});return()=>r.initialize()}},{provide:oi,multi:!0,useFactory:()=>{let r=C(gA);return()=>{r.initialize()}}},t===!0?{provide:U_,useValue:!0}:[],{provide:$_,useValue:n??B_}]}function J0(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=X0({ngZoneFactory:()=>{let i=eC(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&yi("NgZone_CoalesceEvent"),new ee(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return pi([{provide:pA,useValue:!0},{provide:Pl,useValue:!1},r])}function eC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var gA=(()=>{class e{subscription=new ve;initialized=!1;zone=C(ee);pendingTasks=C(mn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var mA=(()=>{class e{appRef=C(hn);taskService=C(mn);ngZone=C(ee);zonelessEnabled=C(Pl);tracing=C(Ll,{optional:!0});disableScheduling=C(U_,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ve;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(hl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C($_,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Kd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?uy:H_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(hl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,uy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vA(){return typeof $localize<"u"&&$localize.locale||wl}var uh=new b("",{providedIn:"root",factory:()=>C(uh,q.Optional|q.SkipSelf)||vA()});var mf=new b(""),yA=new b("");function _o(e){return!e.moduleRef}function _A(e){let t=_o(e)?e.r3Injector:e.moduleRef.injector,n=t.get(ee);return n.run(()=>{_o(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Pn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),_o(e)){let o=()=>t.destroy(),s=e.platformInjector.get(mf);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(mf);s.add(o),e.moduleRef.onDestroy(()=>{Za(e.allPlatformModules,e.moduleRef),i.unsubscribe(),s.delete(o)})}return wA(r,n,()=>{let o=t.get(Q0);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(uh,wl);if(iA(s||wl),!t.get(yA,!0))return _o(e)?t.get(hn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(_o(e)){let l=t.get(hn);return e.rootComponent!==void 0&&l.bootstrap(e.rootComponent),l}else return CA(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function CA(e,t){let n=e.injector.get(hn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new T(-403,!1);t.push(e)}function wA(e,t,n){try{let r=n();return vr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}var Ya=null;function EA(e=[],t){return nt.create({name:t,providers:[{provide:Tl,useValue:"platform"},{provide:mf,useValue:new Set([()=>Ya=null])},...e]})}function DA(e=[]){if(Ya)return Ya;let t=EA(e);return Ya=t,Px(),IA(t),t}function IA(e){let t=e.get($f,null);Xe(e,()=>{t?.forEach(n=>n())})}function jo(){return!1}var yr=(()=>{class e{static __NG_ELEMENT_ID__=bA}return e})();function bA(e){return SA(mt(),he(),(e&16)===16)}function SA(e,t,n){if(gr(e)&&!n){let r=zt(e.index,t);return new hr(r,r)}else if(e.type&175){let r=t[$t];return new hr(r,t)}return null}var vf=class{constructor(){}supports(t){return z0(t)}create(t){return new yf(t)}},MA=(e,t)=>t,yf=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(t){this._trackByFn=t||MA}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Ny(r,i,o)?n:r,a=Ny(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let c=a-i,u=l-i;if(c!=u){for(let f=0;f<c;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<c&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!z0(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,xx(t,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):(t=this._linkedRecords===null?null:this._linkedRecords.get(r,i),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new _f(n,r),o,i)),t}_verifyReinsertion(t,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let i=t._prevRemoved,o=t._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){let i=n===null?this._itHead:n._next;return t._next=i,t._prev=n,i===null?this._itTail=t:i._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new El),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,r=t._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new El),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},_f=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(t,n){this.item=t,this.trackById=n}},Cf=class{_head=null;_tail=null;add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){let n=t._prevDup,r=t._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},El=class{map=new Map;put(t){let n=t.trackById,r=this.map.get(n);r||(r=new Cf,this.map.set(n,r)),r.add(t)}get(t,n){let r=t,i=this.map.get(r);return i?i.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Ny(e,t,n){let r=e.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var wf=class{constructor(){}supports(t){return t instanceof Map||ih(t)}create(){return new Ef}},Ef=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||ih(t)))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let i=this._records.get(t);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new Df(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}},Df=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(t){this.key=t}};function Ry(){return new dh([new vf])}var dh=(()=>{class e{factories;static \u0275prov=x({token:e,providedIn:"root",factory:Ry});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Ry()),deps:[[e,new qy,new Ml]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new T(901,!1)}}return e})();function Oy(){return new fh([new wf])}var fh=(()=>{class e{static \u0275prov=x({token:e,providedIn:"root",factory:Oy});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||Oy()),deps:[[e,new qy,new Ml]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return e})();function tC(e){try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=DA(r),o=[X0({}),{provide:ci,useExisting:mA},...n||[]],s=new _l({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return _A({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}function ql(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Bo(e,t){yi("NgSignals");let n=Dv(e);return t?.equal&&(n[et].equal=t.equal),n}function yn(e){let t=X(null);try{return e()}finally{X(t)}}var ky=class{[et];constructor(t){this[et]=t}destroy(){this[et].destroy()}};var aC=null;function _n(){return aC}function lC(e){aC??=e}var Ql=class{};var Je=new b(""),cC=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(xA),providedIn:"platform"})}return e})();var xA=(()=>{class e extends cC{_location;_history;_doc=C(Je);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _n().getBaseHref(this._doc)}onPopState(n){let r=_n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=_n().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function uC(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function nC(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function _r(e){return e&&e[0]!=="?"?`?${e}`:e}var Zl=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(dC),providedIn:"root"})}return e})(),AA=new b(""),dC=(()=>{class e extends Zl{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return uC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+_r(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+_r(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+_r(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(D(cC),D(AA,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Uo=(()=>{class e{_subject=new de;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=OA(nC(rC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+_r(r))}normalize(n){return e.stripTrailingSlash(RA(this._basePath,rC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_r(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+_r(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=_r;static joinWithSlash=uC;static stripTrailingSlash=nC;static \u0275fac=function(r){return new(r||e)(D(Zl))};static \u0275prov=x({token:e,factory:()=>NA(),providedIn:"root"})}return e})();function NA(){return new Uo(D(Zl))}function RA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function rC(e){return e.replace(/\/index.html$/,"")}function OA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}function Yl(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var hh=/\s+/,iC=[],fC=(()=>{class e{_ngEl;_renderer;initialClasses=iC;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(hh):iC}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(hh):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(hh).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(G(vn),G(jn))};static \u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();var ph=class{$implicit;ngForOf;index;count;constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Kl=(()=>{class e{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new ph(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),oC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);oC(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(G(Ei),G(Ul),G(dh))};static \u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return e})();function oC(e,t){e.context.$implicit=t.item}var hC=(()=>{class e{_viewContainer;_context=new gh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){sC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){sC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||e)(G(Ei),G(Ul))};static \u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return e})(),gh=class{$implicit=null;ngIf=null};function sC(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${ze(t)}'.`)}var pC=(()=>{class e{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:Gt.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||e)(G(vn),G(fh),G(jn))};static \u0275dir=Ge({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return e})();var $o=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Nt({type:e});static \u0275inj=Tt({})}return e})(),gC="browser",kA="server";function Ho(e){return e===kA}var Di=class{};var Wo=class{},Jl=class{},Cr=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var yh=class{encodeKey(t){return mC(t)}encodeValue(t){return mC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function PA(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var FA=/%(\d[a-f0-9])/gi,LA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function mC(e){return encodeURIComponent(e).replace(FA,(t,n)=>LA[n]??t)}function Xl(e){return`${e}`}var Un=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new yh,t.fromString){if(t.fromObject)throw new T(2805,!1);this.map=PA(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(Xl):[Xl(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Xl(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(Xl(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var _h=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function VA(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function vC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function yC(e){return typeof Blob<"u"&&e instanceof Blob}function _C(e){return typeof FormData<"u"&&e instanceof FormData}function jA(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var CC="Content-Type",wC="Accept",IC="X-Request-URL",bC="text/plain",SC="application/json",BA=`${SC}, ${bC}, */*`,zo=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(VA(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Cr,this.context??=new _h,!this.params)this.params=new Un,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||vC(this.body)||yC(this.body)||_C(this.body)||jA(this.body)?this.body:this.body instanceof Un?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_C(this.body)?null:yC(this.body)?this.body.type||null:vC(this.body)?null:typeof this.body=="string"?bC:this.body instanceof Un?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?SC:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,s=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,c=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(c=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new e(n,r,s,{params:u,headers:c,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Ii=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ii||{}),Go=class{headers;status;statusText;url;ok;type;constructor(t,n=200,r="OK"){this.headers=t.headers||new Cr,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},Ch=class e extends Go{constructor(t={}){super(t)}type=Ii.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},ec=class e extends Go{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Ii.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},tc=class extends Go{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},UA=200,$A=204;function vh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var HA=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof zo)o=n;else{let l;i.headers instanceof Cr?l=i.headers:l=new Cr(i.headers);let c;i.params&&(i.params instanceof Un?c=i.params:c=new Un({fromObject:i.params})),o=new zo(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=O(o).pipe(An(l=>this.handler.handle(l)));if(n instanceof zo||i.observe==="events")return s;let a=s.pipe($e(l=>l instanceof ec));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(k(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new T(2806,!1);return l.body}));case"blob":return a.pipe(k(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new T(2807,!1);return l.body}));case"text":return a.pipe(k(l=>{if(l.body!==null&&typeof l.body!="string")throw new T(2808,!1);return l.body}));case"json":default:return a.pipe(k(l=>l.body))}case"response":return a;default:throw new T(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Un().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,vh(i,r))}post(n,r,i={}){return this.request("POST",n,vh(i,r))}put(n,r,i={}){return this.request("PUT",n,vh(i,r))}static \u0275fac=function(r){return new(r||e)(D(Wo))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var zA=new b("");function WA(e,t){return t(e)}function GA(e,t,n){return(r,i)=>Xe(n,()=>t(r,o=>e(o,i)))}var MC=new b(""),qA=new b(""),QA=new b("",{providedIn:"root",factory:()=>!0});var EC=(()=>{class e extends Wo{backend;injector;chain=null;pendingTasks=C(mn);contributeToStability=C(QA);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(MC),...this.injector.get(qA,[])]));this.chain=r.reduceRight((i,o)=>GA(i,o,this.injector),WA)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(or(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(D(Jl),D(Me))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();var ZA=/^\)\]\}',?\n/,YA=RegExp(`^${IC}:`,"m");function KA(e){return"responseURL"in e&&e.responseURL?e.responseURL:YA.test(e.getAllResponseHeaders())?e.getResponseHeader(IC):null}var DC=(()=>{class e{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new T(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ie(r.\u0275loadImpl()):O(null)).pipe(fe(()=>new $(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((g,y)=>s.setRequestHeader(g,y.join(","))),n.headers.has(wC)||s.setRequestHeader(wC,BA),!n.headers.has(CC)){let g=n.detectContentTypeHeader();g!==null&&s.setRequestHeader(CC,g)}if(n.responseType){let g=n.responseType.toLowerCase();s.responseType=g!=="json"?g:"text"}let a=n.serializeBody(),l=null,c=()=>{if(l!==null)return l;let g=s.statusText||"OK",y=new Cr(s.getAllResponseHeaders()),I=KA(s)||n.url;return l=new Ch({headers:y,status:s.status,statusText:g,url:I}),l},u=()=>{let{headers:g,status:y,statusText:I,url:z}=c(),_=null;y!==$A&&(_=typeof s.response>"u"?s.responseText:s.response),y===0&&(y=_?UA:0);let M=y>=200&&y<300;if(n.responseType==="json"&&typeof _=="string"){let ce=_;_=_.replace(ZA,"");try{_=_!==""?JSON.parse(_):null}catch(Be){_=ce,M&&(M=!1,_={error:Be,text:_})}}M?(o.next(new ec({body:_,headers:g,status:y,statusText:I,url:z||void 0})),o.complete()):o.error(new tc({error:_,headers:g,status:y,statusText:I,url:z||void 0}))},d=g=>{let{url:y}=c(),I=new tc({error:g,status:s.status||0,statusText:s.statusText||"Unknown Error",url:y||void 0});o.error(I)},f=!1,h=g=>{f||(o.next(c()),f=!0);let y={type:Ii.DownloadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),n.responseType==="text"&&s.responseText&&(y.partialText=s.responseText),o.next(y)},p=g=>{let y={type:Ii.UploadProgress,loaded:g.loaded};g.lengthComputable&&(y.total=g.total),o.next(y)};return s.addEventListener("load",u),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",p)),s.send(a),o.next({type:Ii.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",u),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",p)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||e)(D(Di))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),TC=new b(""),XA="XSRF-TOKEN",JA=new b("",{providedIn:"root",factory:()=>XA}),eN="X-XSRF-TOKEN",tN=new b("",{providedIn:"root",factory:()=>eN}),nc=class{},nN=(()=>{class e{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yl(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||e)(D(Je),D(vt),D(JA))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function rN(e,t){let n=e.url.toLowerCase();if(!C(TC)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let r=C(nc).getToken(),i=C(tN);return r!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}function xC(...e){let t=[HA,DC,EC,{provide:Wo,useExisting:EC},{provide:Jl,useFactory:()=>C(zA,{optional:!0})??C(DC)},{provide:MC,useValue:rN,multi:!0},{provide:TC,useValue:!0},{provide:nc,useClass:nN}];for(let n of e)t.push(...n.\u0275providers);return pi(t)}var Eh=class extends Ql{supportsDOMEvents=!0},Dh=class e extends Eh{static makeCurrent(){lC(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=iN();return n==null?null:oN(n)}resetBaseElement(){qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Yl(document.cookie,t)}},qo=null;function iN(){return qo=qo||document.querySelector("base"),qo?qo.getAttribute("href"):null}function oN(e){return new URL(e,document.baseURI).pathname}var sN=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Ih=new b(""),PC=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(D(Ih),D(ee))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),ic=class{_doc;constructor(t){this._doc=t}manager},rc="ng-app-id";function AC(e){for(let t of e)t.remove()}function NC(e,t){let n=t.createElement("style");return n.textContent=e,n}function aN(e,t,n,r){let i=e.head?.querySelectorAll(`style[${rc}="${t}"],link[${rc}="${t}"]`);if(i)for(let o of i)o.removeAttribute(rc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function bh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var FC=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Ho(o),aN(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,NC);r?.forEach(i=>this.addUsage(i,this.external,bh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(AC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])AC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,NC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,bh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(rc,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(D(Je),D(Uf),D(Hf,8),D(vt))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Mh=/%COMP%/g;var LC="%COMP%",lN=`_nghost-${LC}`,cN=`_ngcontent-${LC}`,uN=!0,dN=new b("",{providedIn:"root",factory:()=>uN});function fN(e){return cN.replace(Mh,e)}function hN(e){return lN.replace(Mh,e)}function VC(e,t){return t.map(n=>n.replace(Mh,e))}var RC=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,c=null,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.tracingService=u,this.platformIsServer=Ho(a),this.defaultRenderer=new Qo(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Wt.ShadowDom&&(r=W(E({},r),{encapsulation:Wt.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof oc?i.applyToHost(n):i instanceof Zo&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case Wt.Emulated:o=new oc(l,c,r,this.appId,u,s,a,d,f);break;case Wt.ShadowDom:return new Sh(l,c,n,r,s,a,this.nonce,d,f);default:o=new Zo(l,c,r,u,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(D(PC),D(FC),D(Uf),D(dN),D(Je),D(vt),D(ee),D(Hf),D(Ll,8))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),Qo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(wh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(OC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(OC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=wh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=wh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Gt.DashCase|Gt.Important)?t.style.setProperty(n,r,i&Gt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Gt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=_n().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function OC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Sh=class extends Qo{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,l,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=i.styles;u=VC(i.id,u);for(let f of u){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=bh(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zo=class extends Qo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,s,a,l,c){super(t,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let u=r.styles;this.styles=c?VC(c,u):u,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},oc=class extends Zo{contentAttr;hostAttr;constructor(t,n,r,i,o,s,a,l,c){let u=i+"-"+r.id;super(t,n,r,o,s,a,l,c,u),this.contentAttr=fN(u),this.hostAttr=hN(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}},pN=(()=>{class e extends ic{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(D(Je))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})(),kC=["alt","control","meta","shift"],gN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},mN={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},vN=(()=>{class e extends ic{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_n().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kC.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),s+=c+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=gN[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kC.forEach(s=>{if(s!==i){let a=mN[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(D(Je))};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function jC(e,t){return tC(E({rootComponent:e},yN(t)))}function yN(e){return{appProviders:[...DN,...e?.providers??[]],platformProviders:EN}}function _N(){Dh.makeCurrent()}function CN(){return new Pn}function wN(){return J_(document),document}var EN=[{provide:vt,useValue:gC},{provide:$f,useValue:_N,multi:!0},{provide:Je,useFactory:wN,deps:[]}];var DN=[{provide:Tl,useValue:"root"},{provide:Pn,useFactory:CN,deps:[]},{provide:Ih,useClass:pN,multi:!0,deps:[Je]},{provide:Ih,useClass:vN,multi:!0,deps:[Je]},RC,FC,PC,{provide:di,useExisting:RC},{provide:Di,useClass:sN,deps:[]},[]];var BC=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(D(Je))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var H="primary",ds=Symbol("RouteTitle"),Rh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ai(e){return new Rh(e)}function bN(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=e[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function SN(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!qt(e[n],t[n]))return!1;return!0}function qt(e,t){let n=e?Oh(e):void 0,r=t?Oh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!QC(e[i],t[i]))return!1;return!0}function Oh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function QC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function ZC(e){return e.length>0?e[e.length-1]:null}function $n(e){return fd(e)?e:vr(e)?ie(Promise.resolve(e)):O(e)}var MN={exact:KC,subset:XC},YC={exact:TN,subset:xN,ignored:()=>!0};function UC(e,t,n){return MN[n.paths](e.root,t.root,n.matrixParams)&&YC[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function TN(e,t){return qt(e,t)}function KC(e,t,n){if(!Er(e.segments,t.segments)||!lc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!KC(e.children[r],t.children[r],n))return!1;return!0}function xN(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>QC(e[n],t[n]))}function XC(e,t,n){return JC(e,t,t.segments,n)}function JC(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Er(i,n)||t.hasChildren()||!lc(i,n,r))}else if(e.segments.length===n.length){if(!Er(e.segments,n)||!lc(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!XC(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Er(e.segments,i)||!lc(e.segments,i,r)||!e.children[H]?!1:JC(e.children[H],t,o,r)}}function lc(e,t,n){return t.every((r,i)=>YC[n](e[i].parameters,r.parameters))}var wn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new re([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){return RN.serialize(this)}},re=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cc(this)}},wr=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Ai(this.parameters),this._parameterMap}toString(){return tw(this)}};function AN(e,t){return Er(e,t)&&e.every((n,r)=>qt(n.parameters,t[r].parameters))}function Er(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function NN(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===H&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==H&&(n=n.concat(t(i,r)))}),n}var op=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>new ts,providedIn:"root"})}return e})(),ts=class{parse(t){let n=new Ph(t);return new wn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Yo(t.root,!0)}`,r=PN(t.queryParams),i=typeof t.fragment=="string"?`#${ON(t.fragment)}`:"";return`${n}${r}${i}`}},RN=new ts;function cc(e){return e.segments.map(t=>tw(t)).join("/")}function Yo(e,t){if(!e.hasChildren())return cc(e);if(t){let n=e.children[H]?Yo(e.children[H],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==H&&r.push(`${i}:${Yo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=NN(e,(r,i)=>i===H?[Yo(e.children[H],!1)]:[`${i}:${Yo(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[H]!=null?`${cc(e)}/${n[0]}`:`${cc(e)}/(${n.join("//")})`}}function ew(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sc(e){return ew(e).replace(/%3B/gi,";")}function ON(e){return encodeURI(e)}function kh(e){return ew(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uc(e){return decodeURIComponent(e)}function $C(e){return uc(e.replace(/\+/g,"%20"))}function tw(e){return`${kh(e.path)}${kN(e.parameters)}`}function kN(e){return Object.entries(e).map(([t,n])=>`;${kh(t)}=${kh(n)}`).join("")}function PN(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${sc(n)}=${sc(i)}`).join("&"):`${sc(n)}=${sc(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var FN=/^[^\/()?;#]+/;function Th(e){let t=e.match(FN);return t?t[0]:""}var LN=/^[^\/()?;=#]+/;function VN(e){let t=e.match(LN);return t?t[0]:""}var jN=/^[^=?&#]+/;function BN(e){let t=e.match(jN);return t?t[0]:""}var UN=/^[^&#]+/;function $N(e){let t=e.match(UN);return t?t[0]:""}var Ph=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[H]=new re(t,n)),r}parseSegment(){let t=Th(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new wr(uc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=VN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Th(this.remaining);i&&(r=i,this.capture(r))}t[uc(n)]=uc(r)}parseQueryParam(t){let n=BN(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=$N(this.remaining);s&&(r=s,this.capture(r))}let i=$C(n),o=$C(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Th(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=H);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[H]:new re([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}};function nw(e){return e.segments.length>0?new re([],{[H]:e}):e}function rw(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=rw(i);if(r===H&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new re(e.segments,t);return HN(n)}function HN(e){if(e.numberOfChildren===1&&e.children[H]){let t=e.children[H];return new re(e.segments.concat(t.segments),t.children)}return e}function ns(e){return e instanceof wn}function zN(e,t,n=null,r=null){let i=iw(e);return ow(i,t,n,r)}function iw(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new re(o.url,s);return o===e&&(t=a),a}let r=n(e.root),i=nw(r);return t??i}function ow(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return xh(i,i,i,n,r);let o=WN(t);if(o.toRoot())return xh(i,i,new re([],{}),n,r);let s=GN(o,i,e),a=s.processChildren?Xo(s.segmentGroup,s.index,o.commands):aw(s.segmentGroup,s.index,o.commands);return xh(i,s.segmentGroup,a,n,r)}function dc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function rs(e){return typeof e=="object"&&e!=null&&e.outlets}function xh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=sw(e,t,n);let a=nw(rw(s));return new wn(a,o,i)}function sw(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=sw(o,t,n)}),new re(e.segments,r)}var fc=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&dc(r[0]))throw new T(4003,!1);let i=r.find(rs);if(i&&i!==ZC(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function WN(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new fc(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new fc(n,t,r)}var Mi=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function GN(e,t,n){if(e.isAbsolute)return new Mi(t,!0,0);if(!n)return new Mi(t,!1,NaN);if(n.parent===null)return new Mi(n,!0,0);let r=dc(e.commands[0])?0:1,i=n.segments.length-1+r;return qN(n,i,e.numberOfDoubleDots)}function qN(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Mi(r,!1,i-o)}function QN(e){return rs(e[0])?e[0].outlets:{[H]:e}}function aw(e,t,n){if(e??=new re([],{}),e.segments.length===0&&e.hasChildren())return Xo(e,t,n);let r=ZN(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new re(e.segments.slice(0,r.pathIndex),{});return o.children[H]=new re(e.segments.slice(r.pathIndex),e.children),Xo(o,0,i)}else return r.match&&i.length===0?new re(e.segments,{}):r.match&&!e.hasChildren()?Fh(e,t,n):r.match?Xo(e,0,i):Fh(e,t,n)}function Xo(e,t,n){if(n.length===0)return new re(e.segments,{});{let r=QN(n),i={};if(Object.keys(r).some(o=>o!==H)&&e.children[H]&&e.numberOfChildren===1&&e.children[H].segments.length===0){let o=Xo(e.children[H],t,n);return new re(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=aw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new re(e.segments,i)}}function ZN(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let s=e.segments[i],a=n[r];if(rs(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!zC(l,c,s))return o;r+=2}else{if(!zC(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Fh(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(rs(o)){let l=YN(o.outlets);return new re(r,l)}if(i===0&&dc(n[0])){let l=e.segments[t];r.push(new wr(l.path,HC(n[0]))),i++;continue}let s=rs(o)?o.outlets[H]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&dc(a)?(r.push(new wr(s,HC(a))),i+=2):(r.push(new wr(s,{})),i++)}return new re(r,{})}function YN(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Fh(new re([],{}),0,r))}),t}function HC(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function zC(e,t,n){return e==n.path&&qt(t,n.parameters)}var Jo="imperative",Le=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Le||{}),yt=class{id;url;constructor(t,n){this.id=t,this.url=n}},is=class extends yt{type=Le.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},En=class extends yt{urlAfterRedirects;type=Le.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ot=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(ot||{}),Lh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Lh||{}),Cn=class extends yt{reason;code;type=Le.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dr=class extends yt{reason;code;type=Le.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},os=class extends yt{error;target;type=Le.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hc=class extends yt{urlAfterRedirects;state;type=Le.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vh=class extends yt{urlAfterRedirects;state;type=Le.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},jh=class extends yt{urlAfterRedirects;state;shouldActivate;type=Le.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Bh=class extends yt{urlAfterRedirects;state;type=Le.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Uh=class extends yt{urlAfterRedirects;state;type=Le.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$h=class{route;type=Le.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Hh=class{route;type=Le.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},zh=class{snapshot;type=Le.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wh=class{snapshot;type=Le.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gh=class{snapshot;type=Le.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qh=class{snapshot;type=Le.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ss=class{},Ni=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function KN(e,t){return e.providers&&!e._injector&&(e._injector=rh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Ot(e){return e.outlet||H}function XN(e,t){let n=e.filter(r=>Ot(r)===t);return n.push(...e.filter(r=>Ot(r)!==t)),n}function fs(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Qh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return fs(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Cc(this.rootInjector)}},Cc=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Qh(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(D(Me))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pc=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Zh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Zh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Yh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Yh(t,this._root).map(n=>n.value)}};function Zh(e,t){if(e===t.value)return t;for(let n of t.children){let r=Zh(e,n);if(r)return r}return null}function Yh(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Yh(e,n);if(r.length)return r.unshift(t),r}return[]}var it=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Si(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var gc=class extends pc{snapshot;constructor(t,n){super(t),this.snapshot=n,sp(this,t)}toString(){return this.snapshot.toString()}};function lw(e){let t=JN(e),n=new Pe([new wr("",{})]),r=new Pe({}),i=new Pe({}),o=new Pe({}),s=new Pe(""),a=new Ri(n,r,o,s,i,H,e,t.root);return a.snapshot=t.root,new gc(new it(a,[]),t)}function JN(e){let t={},n={},r={},i="",o=new Ti([],t,r,i,n,H,e,null,{});return new vc("",new it(o,[]))}var Ri=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(k(c=>c[ds]))??O(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(t=>Ai(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(t=>Ai(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mc(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:E(E({},t.params),e.params),data:E(E({},t.data),e.data),resolve:E(E(E(E({},e.data),t.data),i?.data),e._resolvedData)}:r={params:E({},e.params),data:E({},e.data),resolve:E(E({},e.data),e._resolvedData??{})},i&&uw(i)&&(r.resolve[ds]=i.title),r}var Ti=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ds]}constructor(t,n,r,i,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ai(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ai(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},vc=class extends pc{url;constructor(t,n){super(n),this.url=t,sp(this,n)}toString(){return cw(this._root)}};function sp(e,t){t.value._routerState=e,t.children.forEach(n=>sp(e,n))}function cw(e){let t=e.children.length>0?` { ${e.children.map(cw).join(", ")} } `:"";return`${e.value}${t}`}function Ah(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,qt(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),qt(t.params,n.params)||e.paramsSubject.next(n.params),SN(t.url,n.url)||e.urlSubject.next(n.url),qt(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Kh(e,t){let n=qt(e.params,t.params)&&AN(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Kh(e.parent,t.parent))}function uw(e){return typeof e.title=="string"||e.title===null}var eR=new b(""),ap=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=H;activateEvents=new Fe;deactivateEvents=new Fe;attachEvents=new Fe;detachEvents=new Fe;routerOutletData=W_(void 0);parentContexts=C(Cc);location=C(Ei);changeDetector=C(yr);inputBinder=C(lp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Xh(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Vn]})}return e})(),Xh=class e{route;childContexts;parent;outletData;__ngOutletInjector(t){return new e(this.route,this.childContexts,t,this.outletData)}constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===Ri?this.route:t===Cc?this.childContexts:t===eR?this.outletData:this.parent.get(t,n)}},lp=new b("");function tR(e,t,n){let r=as(e,t._root,n?n._root:void 0);return new gc(r,t)}function as(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=nR(e,t,n);return new it(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>as(e,a)),s}}let r=rR(t.value),i=t.children.map(o=>as(e,o));return new it(r,i)}}function nR(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return as(e,r,i);return as(e,r)})}function rR(e){return new Ri(new Pe(e.url),new Pe(e.params),new Pe(e.queryParams),new Pe(e.fragment),new Pe(e.data),e.outlet,e.component,e)}var ls=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},dw="ngNavigationCancelingError";function yc(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=ns(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=fw(!1,ot.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function fw(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[dw]=!0,n.cancellationCode=t,n}function iR(e){return hw(e)&&ns(e.url)}function hw(e){return!!e&&e[dw]}var oR=(e,t,n,r)=>k(i=>(new Jh(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Jh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Ah(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Si(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Si(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Si(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Si(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new qh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Wh(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Ah(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Ah(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)}},_c=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},xi=class{component;route;constructor(t,n){this.component=t,this.route=n}};function sR(e,t,n){let r=e._root,i=t?t._root:null;return Ko(r,i,n,[r.value])}function aR(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function ki(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!By(e)?e:t.get(e):r}function Ko(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Si(t);return e.children.forEach(s=>{lR(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>es(a,n.getContext(s),i)),i}function lR(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=cR(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _c(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ko(e,t,a?a.children:null,r,i):Ko(e,t,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xi(a.outlet.component,s))}else s&&es(t,a,i),i.canActivateChecks.push(new _c(r)),o.component?Ko(e,null,a?a.children:null,r,i):Ko(e,null,n,r,i);return i}function cR(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Er(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Er(e.url,t.url)||!qt(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Kh(e,t)||!qt(e.queryParams,t.queryParams);case"paramsChange":default:return!Kh(e,t)}}function es(e,t,n){let r=Si(e),i=e.value;Object.entries(r).forEach(([o,s])=>{i.component?t?es(s,t.children.getContext(o),n):es(s,null,n):es(s,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new xi(t.outlet.component,i)):n.canDeactivateChecks.push(new xi(null,i)):n.canDeactivateChecks.push(new xi(null,i))}function hs(e){return typeof e=="function"}function uR(e){return typeof e=="boolean"}function dR(e){return e&&hs(e.canLoad)}function fR(e){return e&&hs(e.canActivate)}function hR(e){return e&&hs(e.canActivateChild)}function pR(e){return e&&hs(e.canDeactivate)}function gR(e){return e&&hs(e.canMatch)}function pw(e){return e instanceof ln||e?.name==="EmptyError"}var ac=Symbol("INITIAL_VALUE");function Oi(){return fe(e=>ja(e.map(t=>t.pipe(cn(1),yd(ac)))).pipe(k(t=>{for(let n of t)if(n!==!0){if(n===ac)return ac;if(n===!1||mR(n))return n}return!0}),$e(t=>t!==ac),cn(1)))}function mR(e){return ns(e)||e instanceof ls}function vR(e,t){return Se(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?O(W(E({},n),{guardsResult:!0})):yR(s,r,i,e).pipe(Se(a=>a&&uR(a)?_R(r,o,e,t):O(a)),k(a=>W(E({},n),{guardsResult:a})))})}function yR(e,t,n,r){return ie(e).pipe(Se(i=>IR(i.component,i.route,n,t,r)),bt(i=>i!==!0,!0))}function _R(e,t,n,r){return ie(t).pipe(An(i=>Zr(wR(i.route.parent,r),CR(i.route,r),DR(e,i.path,n),ER(e,i.route,n))),bt(i=>i!==!0,!0))}function CR(e,t){return e!==null&&t&&t(new Gh(e)),O(!0)}function wR(e,t){return e!==null&&t&&t(new zh(e)),O(!0)}function ER(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>Ba(()=>{let s=fs(t)??n,a=ki(o,s),l=fR(a)?a.canActivate(t,e):Xe(s,()=>a(t,e));return $n(l).pipe(bt())}));return O(i).pipe(Oi())}function DR(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>aR(s)).filter(s=>s!==null).map(s=>Ba(()=>{let a=s.guards.map(l=>{let c=fs(s.node)??n,u=ki(l,c),d=hR(u)?u.canActivateChild(r,e):Xe(c,()=>u(r,e));return $n(d).pipe(bt())});return O(a).pipe(Oi())}));return O(o).pipe(Oi())}function IR(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let s=o.map(a=>{let l=fs(t)??i,c=ki(a,l),u=pR(c)?c.canDeactivate(e,t,n,r):Xe(l,()=>c(e,t,n,r));return $n(u).pipe(bt())});return O(s).pipe(Oi())}function bR(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(s=>{let a=ki(s,e),l=dR(a)?a.canLoad(t,n):Xe(e,()=>a(t,n));return $n(l)});return O(o).pipe(Oi(),gw(r))}function gw(e){return sd(Ne(t=>{if(typeof t!="boolean")throw yc(e,t)}),k(t=>t===!0))}function SR(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(s=>{let a=ki(s,e),l=gR(a)?a.canMatch(t,n):Xe(e,()=>a(t,n));return $n(l)});return O(o).pipe(Oi(),gw(r))}var cs=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},us=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function bi(e){return Qr(new cs(e))}function MR(e){return Qr(new T(4e3,!1))}function TR(e){return Qr(fw(!1,ot.GuardRejected))}var ep=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[H])return MR(`${t.redirectTo}`);i=i.children[H]}}applyRedirectCommands(t,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,params:h,data:p,title:g}=i,y=Xe(o,()=>a({params:h,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:f,title:g}));if(y instanceof wn)throw new us(y);n=y}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n[0]==="/")throw new us(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new wn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,r,i)}),new re(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}},tp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xR(e,t,n,r,i){let o=mw(e,t,n);return o.matched?(r=KN(t,r),SR(r,t,n,i).pipe(k(s=>s===!0?o:E({},tp)))):O(o)}function mw(e,t,n){if(t.path==="**")return AR(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?E({},tp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||bN)(n,e,t);if(!i)return E({},tp);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function AR(e){return{matched:!0,parameters:e.length>0?ZC(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function WC(e,t,n,r){return n.length>0&&OR(e,n,r)?{segmentGroup:new re(t,RR(r,new re(n,e.children))),slicedSegments:[]}:n.length===0&&kR(e,n,r)?{segmentGroup:new re(e.segments,NR(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new re(e.segments,e.children),slicedSegments:n}}function NR(e,t,n,r){let i={};for(let o of n)if(wc(e,t,o)&&!r[Ot(o)]){let s=new re([],{});i[Ot(o)]=s}return E(E({},r),i)}function RR(e,t){let n={};n[H]=t;for(let r of e)if(r.path===""&&Ot(r)!==H){let i=new re([],{});n[Ot(r)]=i}return n}function OR(e,t,n){return n.some(r=>wc(e,t,r)&&Ot(r)!==H)}function kR(e,t,n){return n.some(r=>wc(e,t,r))}function wc(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function PR(e,t,n){return t.length===0&&!e.children[n]}var np=class{};function FR(e,t,n,r,i,o,s="emptyOnly"){return new rp(e,t,n,r,i,s,o).recognize()}var LR=31,rp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ep(this.urlSerializer,this.urlTree)}noMatchError(t){return new T(4002,`'${t.segmentGroup}'`)}recognize(){let t=WC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(k(({children:n,rootSnapshot:r})=>{let i=new it(r,n),o=new vc("",i),s=zN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new Ti([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),H,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,H,n).pipe(k(r=>({children:r,rootSnapshot:n})),xn(r=>{if(r instanceof us)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cs?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(k(s=>s instanceof it?[s]:[]))}processChildren(t,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return ie(o).pipe(An(s=>{let a=r.children[s],l=XN(n,s);return this.processSegmentGroup(t,l,a,s,i)}),Xr((s,a)=>(s.push(...a),s)),Nn(null),gd(),Se(s=>{if(s===null)return bi(r);let a=vw(s);return VR(a),O(a)}))}processSegment(t,n,r,i,o,s,a){return ie(n).pipe(An(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,r,i,o,s,a).pipe(xn(c=>{if(c instanceof cs)return O(null);throw c}))),bt(l=>!!l),xn(l=>{if(pw(l))return PR(r,i,o)?O(new np):bi(r);throw l}))}processSegmentAgainstRoute(t,n,r,i,o,s,a,l){return Ot(r)!==s&&(s===H||!wc(i,o,r))?bi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s,l):bi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:f}=mw(n,i,o);if(!l)return bi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LR&&(this.allowRedirects=!1));let h=new Ti(o,c,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,GC(i),Ot(i),i.component??i._loadedComponent??null,i,qC(i)),p=mc(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d,h,t);return this.applyRedirects.lineralizeSegments(i,g).pipe(Se(y=>this.processSegment(t,r,n,y.concat(f),s,!1,a)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a=xR(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(fe(l=>l.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(fe(({routes:c})=>{let u=r._loadedInjector??t,{parameters:d,consumedSegments:f,remainingSegments:h}=l,p=new Ti(f,d,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,GC(r),Ot(r),r.component??r._loadedComponent??null,r,qC(r)),g=mc(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:y,slicedSegments:I}=WC(n,f,h,c);if(I.length===0&&y.hasChildren())return this.processChildren(u,c,y,p).pipe(k(_=>new it(p,_)));if(c.length===0&&I.length===0)return O(new it(p,[]));let z=Ot(r)===o;return this.processSegment(u,c,y,I,z?H:o,!0,p).pipe(k(_=>new it(p,_ instanceof it?[_]:[])))}))):bi(n)))}getChildConfig(t,n,r){return n.children?O({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):bR(t,n,r,this.urlSerializer).pipe(Se(i=>i?this.configLoader.loadChildren(t,n).pipe(Ne(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):TR(n))):O({routes:[],injector:t})}};function VR(e){e.sort((t,n)=>t.value.outlet===H?-1:n.value.outlet===H?1:t.value.outlet.localeCompare(n.value.outlet))}function jR(e){let t=e.value.routeConfig;return t&&t.path===""}function vw(e){let t=[],n=new Set;for(let r of e){if(!jR(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=vw(r.children);t.push(new it(r.value,i))}return t.filter(r=>!n.has(r))}function GC(e){return e.data||{}}function qC(e){return e.resolve||{}}function BR(e,t,n,r,i,o){return Se(s=>FR(e,t,n,r,s.extractedUrl,i,o).pipe(k(({state:a,tree:l})=>W(E({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function UR(e,t){return Se(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of yw(l))s.add(c);let a=0;return ie(s).pipe(An(l=>o.has(l)?$R(l,r,e,t):(l.data=mc(l,l.parent,e).resolve,O(void 0))),Ne(()=>a++),Kr(1),Se(l=>a===s.size?O(n):Ve))})}function yw(e){let t=e.children.map(n=>yw(n)).flat();return[e,...t]}function $R(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!uw(i)&&(o[ds]=i.title),HR(o,e,t,r).pipe(k(s=>(e._resolvedData=s,e.data=mc(e,e.parent,n).resolve,null)))}function HR(e,t,n,r){let i=Oh(e);if(i.length===0)return O({});let o={};return ie(i).pipe(Se(s=>zR(e[s],t,n,r).pipe(bt(),Ne(a=>{if(a instanceof ls)throw yc(new ts,a);o[s]=a}))),Kr(1),k(()=>o),xn(s=>pw(s)?Ve:Qr(s)))}function zR(e,t,n,r){let i=fs(t)??r,o=ki(e,i),s=o.resolve?o.resolve(t,n):Xe(i,()=>o(t,n));return $n(s)}function Nh(e){return fe(t=>{let n=e(t);return n?ie(n).pipe(k(()=>t)):O(t)})}var _w=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===H);return r}getResolvedTitleForRoute(n){return n.data[ds]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(WR),providedIn:"root"})}return e})(),WR=(()=>{class e extends _w{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(D(BC))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cp=new b("",{providedIn:"root",factory:()=>({})}),GR=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ye({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&A(0,"router-outlet")},dependencies:[ap],encapsulation:2})}return e})();function up(e){let t=e.children&&e.children.map(up),n=t?W(E({},e),{children:t}):E({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==H&&(n.component=GR),n}var dp=new b(""),qR=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(ch);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return O(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=$n(n.loadComponent()).pipe(k(Cw),Ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),or(()=>{this.componentLoaders.delete(n)})),i=new Hr(r,()=>new de).pipe($r());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=QR(r,this.compiler,n,this.onLoadEndListener).pipe(or(()=>{this.childrenLoaders.delete(r)})),s=new Hr(o,()=>new de).pipe($r());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function QR(e,t,n,r){return $n(e.loadChildren()).pipe(k(Cw),Se(i=>i instanceof xo||Array.isArray(i)?O(i):ie(t.compileModuleAsync(i))),k(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(dp,[],{optional:!0,self:!0}).flat()),{routes:s.map(up),injector:o}}))}function ZR(e){return e&&typeof e=="object"&&"default"in e}function Cw(e){return ZR(e)?e.default:e}var fp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(YR),providedIn:"root"})}return e})(),YR=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),KR=new b("");var XR=new b(""),JR=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new de;transitionAbortSubject=new de;configLoader=C(qR);environmentInjector=C(Me);destroyRef=C(Po);urlSerializer=C(op);rootContexts=C(Cc);location=C(Uo);inputBindingEnabled=C(lp,{optional:!0})!==null;titleStrategy=C(_w);options=C(cp,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(fp);createViewTransition=C(KR,{optional:!0});navigationErrorHandler=C(XR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>O(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new $h(i)),r=i=>this.events.next(new Hh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(W(E(E({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Pe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Jo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($e(o=>o.id!==0),k(o=>W(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),fe(o=>{let s=!1,a=!1;return O(o).pipe(fe(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),Ve;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?W(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new Dr(l.id,this.urlSerializer.serialize(l.rawUrl),d,Lh.IgnoredSameUrlNavigation)),l.resolve(!1),Ve}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return O(l).pipe(fe(d=>{let f=this.transitions?.getValue();return this.events.next(new is(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Ve:Promise.resolve(d)}),BR(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ne(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=W(E({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new hc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:p,extras:g}=l,y=new is(d,this.urlSerializer.serialize(f),h,p);this.events.next(y);let I=lw(this.rootComponentType).snapshot;return this.currentTransition=o=W(E({},l),{targetSnapshot:I,urlAfterRedirects:f,extras:W(E({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,O(o)}else{let d="";return this.events.next(new Dr(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Lh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Ve}}),Ne(l=>{let c=new Vh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),k(l=>(this.currentTransition=o=W(E({},l),{guards:sR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),vR(this.environmentInjector,l=>this.events.next(l)),Ne(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw yc(this.urlSerializer,l.guardsResult);let c=new jh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),$e(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ot.GuardRejected),!1)),Nh(l=>{if(l.guards.canActivateChecks.length)return O(l).pipe(Ne(c=>{let u=new Bh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),fe(c=>{let u=!1;return O(c).pipe(UR(this.paramsInheritanceStrategy,this.environmentInjector),Ne({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ot.NoDataFromResolver)}}))}),Ne(c=>{let u=new Uh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),Nh(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ne(f=>{u.component=f}),k(()=>{})));for(let f of u.children)d.push(...c(f));return d};return ja(c(l.targetSnapshot.root)).pipe(Nn(null),cn(1))}),Nh(()=>this.afterPreactivation()),fe(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ie(u).pipe(k(()=>o)):O(o)}),k(l=>{let c=tR(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=W(E({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Ne(()=>{this.events.next(new ss)}),oR(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),cn(1),Ne({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new En(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),_d(this.transitionAbortSubject.pipe(Ne(l=>{throw l}))),or(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",ot.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xn(l=>{if(this.destroyed)return o.resolve(!1),Ve;if(a=!0,hw(l))this.events.next(new Cn(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),iR(l)?this.events.next(new Ni(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new os(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=Xe(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof ls){let{message:d,cancellationCode:f}=yc(this.urlSerializer,u);this.events.next(new Cn(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new Ni(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(c),l}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ve}))}))}cancelNavigationTransition(n,r,i){let o=new Cn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eO(e){return e!==Jo}var tO=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(nO),providedIn:"root"})}return e})(),ip=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},nO=(()=>{class e extends ip{static \u0275fac=(()=>{let n;return function(i){return(n||(n=vi(e)))(i||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ww=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:()=>C(rO),providedIn:"root"})}return e})(),rO=(()=>{class e extends ww{location=C(Uo);urlSerializer=C(op);options=C(cp,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=C(fp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new wn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=lw(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof is)this.stateMemento=this.createStateMemento();else if(n instanceof Dr)this.rawUrlTree=r.initialUrl;else if(n instanceof hc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof ss?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Cn&&(n.code===ot.GuardRejected||n.code===ot.NoDataFromResolver)?this.restoreHistory(r):n instanceof os?this.restoreHistory(r,!0):n instanceof En&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof wn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=E(E({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=E(E({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=vi(e)))(i||e)}})();static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function iO(e,t){e.events.pipe($e(n=>n instanceof En||n instanceof Cn||n instanceof os||n instanceof Dr),k(n=>n instanceof En||n instanceof Dr?0:(n instanceof Cn?n.code===ot.Redirect||n.code===ot.SupersededByNewNavigation:!1)?2:1),$e(n=>n!==2),cn(1)).subscribe(()=>{t()})}var oO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_t=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(oh);stateManager=C(ww);options=C(cp,{optional:!0})||{};pendingTasks=C(mn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(JR);urlSerializer=C(op);location=C(Uo);urlHandlingStrategy=C(fp);_events=new de;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(tO);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(dp,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(lp,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ve;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Cn&&r.code!==ot.Redirect&&r.code!==ot.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof En)this.navigated=!0;else if(r instanceof Ni){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=E({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||eO(i.source)},s);this.scheduleNavigation(a,Jo,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}lO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Jo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=E({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(up),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=iw(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return ow(d,n,u,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ns(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Jo,null,r)}navigate(n,r={skipLocationChange:!1}){return aO(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=E({},oO):r===!1?i=E({},sO):i=r,ns(n))return UC(this.currentUrlTree,n,i);let o=this.parseUrl(n);return UC(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,f)=>{a=d,l=f});let u=this.pendingTasks.add();return iO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aO(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new T(4008,!1)}function lO(e){return!(e instanceof ss)&&!(e instanceof Ni)}var cO=new b("");function Ew(e,...t){return pi([{provide:dp,multi:!0,useValue:e},[],{provide:Ri,useFactory:uO,deps:[_t]},{provide:$l,multi:!0,useFactory:dO},t.map(n=>n.\u0275providers)])}function uO(e){return e.routerState.root}function dO(){let e=C(nt);return t=>{let n=e.get(hn);if(t!==n.components[0])return;let r=e.get(_t),i=e.get(fO);e.get(hO)===1&&r.initialNavigation(),e.get(pO,null,q.Optional)?.setUpPreloading(),e.get(cO,null,q.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fO=new b("",{factory:()=>new de}),hO=new b("",{providedIn:"root",factory:()=>1});var pO=new b("");var Tw={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},mp={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},gO=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Ec={CSS:{},springs:{}};function Qt(e,t,n){return Math.min(Math.max(e,t),n)}function gs(e,t){return e.indexOf(t)>-1}function hp(e,t){return e.apply(null,t)}var R={arr:function(e){return Array.isArray(e)},obj:function(e){return gs(Object.prototype.toString.call(e),"Object")},pth:function(e){return R.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||R.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return R.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return R.hex(e)||R.rgb(e)||R.hsl(e)},key:function(e){return!Tw.hasOwnProperty(e)&&!mp.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function xw(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function Aw(e,t){var n=xw(e),r=Qt(R.und(n[0])?1:n[0],.1,100),i=Qt(R.und(n[1])?100:n[1],.1,100),o=Qt(R.und(n[2])?10:n[2],.1,100),s=Qt(R.und(n[3])?0:n[3],.1,100),a=Math.sqrt(i/r),l=o/(2*Math.sqrt(i*r)),c=l<1?a*Math.sqrt(1-l*l):0,u=1,d=l<1?(l*a+-s)/c:-s+a;function f(p){var g=t?t*p/1e3:p;return l<1?g=Math.exp(-g*l*a)*(u*Math.cos(c*g)+d*Math.sin(c*g)):g=(u+d*g)*Math.exp(-g*a),p===0||p===1?p:1-g}function h(){var p=Ec.springs[e];if(p)return p;for(var g=1/6,y=0,I=0;;)if(y+=g,f(y)===1){if(I++,I>=16)break}else I=0;var z=y*g*1e3;return Ec.springs[e]=z,z}return t?f:h}function mO(e){return e===void 0&&(e=10),function(t){return Math.ceil(Qt(t,1e-6,1)*e)*(1/e)}}var vO=function(){var e=11,t=1/(e-1);function n(u,d){return 1-3*d+3*u}function r(u,d){return 3*d-6*u}function i(u){return 3*u}function o(u,d,f){return((n(d,f)*u+r(d,f))*u+i(d))*u}function s(u,d,f){return 3*n(d,f)*u*u+2*r(d,f)*u+i(d)}function a(u,d,f,h,p){var g,y,I=0;do y=d+(f-d)/2,g=o(y,h,p)-u,g>0?f=y:d=y;while(Math.abs(g)>1e-7&&++I<10);return y}function l(u,d,f,h){for(var p=0;p<4;++p){var g=s(d,f,h);if(g===0)return d;var y=o(d,f,h)-u;d-=y/g}return d}function c(u,d,f,h){if(!(0<=u&&u<=1&&0<=f&&f<=1))return;var p=new Float32Array(e);if(u!==d||f!==h)for(var g=0;g<e;++g)p[g]=o(g*t,u,f);function y(I){for(var z=0,_=1,M=e-1;_!==M&&p[_]<=I;++_)z+=t;--_;var ce=(I-p[_])/(p[_+1]-p[_]),Be=z+ce*t,Ce=s(Be,u,f);return Ce>=.001?l(I,Be,u,f):Ce===0?Be:a(I,z,z+t,u,f)}return function(I){return u===d&&f===h||I===0||I===1?I:o(y(I),d,h)}}return c}(),Nw=function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Expo:function(){return function(r){return r?Math.pow(2,10*r-10):0}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,o=4;r<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var o=Qt(r,1,10),s=Qt(i,.1,2);return function(a){return a===0||a===1?a:-o*Math.pow(2,10*(a-1))*Math.sin((a-1-s/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/s)}}},n=["Quad","Cubic","Quart","Quint"];return n.forEach(function(r,i){t[r]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(t).forEach(function(r){var i=t[r];e["easeIn"+r]=i,e["easeOut"+r]=function(o,s){return function(a){return 1-i(o,s)(1-a)}},e["easeInOut"+r]=function(o,s){return function(a){return a<.5?i(o,s)(a*2)/2:1-i(o,s)(a*-2+2)/2}},e["easeOutIn"+r]=function(o,s){return function(a){return a<.5?(1-i(o,s)(1-a*2))/2:(i(o,s)(a*2-1)+1)/2}}}),e}();function vp(e,t){if(R.fnc(e))return e;var n=e.split("(")[0],r=Nw[n],i=xw(e);switch(n){case"spring":return Aw(e,t);case"cubicBezier":return hp(vO,i);case"steps":return hp(mO,i);default:return hp(r,i)}}function Rw(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Dc(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(r,s,o,e)&&i.push(s)}return i}function Ic(e){return e.reduce(function(t,n){return t.concat(R.arr(n)?Ic(n):n)},[])}function Dw(e){return R.arr(e)?e:(R.str(e)&&(e=Rw(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function yp(e,t){return e.some(function(n){return n===t})}function _p(e){var t={};for(var n in e)t[n]=e[n];return t}function pp(e,t){var n=_p(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function bc(e,t){var n=_p(e);for(var r in t)n[r]=R.und(e[r])?t[r]:e[r];return n}function yO(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function _O(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(a,l,c,u){return l+l+c+c+u+u}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),o=parseInt(r[2],16),s=parseInt(r[3],16);return"rgba("+i+","+o+","+s+",1)"}function CO(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,o=t[4]||1;function s(f,h,p){return p<0&&(p+=1),p>1&&(p-=1),p<1/6?f+(h-f)*6*p:p<1/2?h:p<2/3?f+(h-f)*(2/3-p)*6:f}var a,l,c;if(r==0)a=l=c=i;else{var u=i<.5?i*(1+r):i+r-i*r,d=2*i-u;a=s(d,u,n+1/3),l=s(d,u,n),c=s(d,u,n-1/3)}return"rgba("+a*255+","+l*255+","+c*255+","+o+")"}function wO(e){if(R.rgb(e))return yO(e);if(R.hex(e))return _O(e);if(R.hsl(e))return CO(e)}function Dn(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function EO(e){if(gs(e,"translate")||e==="perspective")return"px";if(gs(e,"rotate")||gs(e,"skew"))return"deg"}function gp(e,t){return R.fnc(e)?e(t.target,t.id,t.total):e}function Zt(e,t){return e.getAttribute(t)}function Cp(e,t,n){var r=Dn(t);if(yp([n,"deg","rad","turn"],r))return t;var i=Ec.CSS[t+n];if(!R.und(i))return i;var o=100,s=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(s),s.style.position="absolute",s.style.width=o+n;var l=o/s.offsetWidth;a.removeChild(s);var c=l*parseFloat(t);return Ec.CSS[t+n]=c,c}function Ow(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?Cp(e,i,n):i}}function wp(e,t){if(R.dom(e)&&!R.inp(e)&&(!R.nil(Zt(e,t))||R.svg(e)&&e[t]))return"attribute";if(R.dom(e)&&yp(gO,t))return"transform";if(R.dom(e)&&t!=="transform"&&Ow(e,t))return"css";if(e[t]!=null)return"object"}function kw(e){if(R.dom(e)){for(var t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(t);)r.set(i[1],i[2]);return r}}function DO(e,t,n,r){var i=gs(t,"scale")?1:0+EO(t),o=kw(e).get(t)||i;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),r?Cp(e,o,r):o}function Ep(e,t,n,r){switch(wp(e,t)){case"transform":return DO(e,t,r,n);case"css":return Ow(e,t,n);case"attribute":return Zt(e,t);default:return e[t]||0}}function Dp(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=Dn(e)||0,i=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+o+r;case"-":return i-o+r;case"*":return i*o+r}}function Pw(e,t){if(R.col(e))return wO(e);if(/\s/g.test(e))return e;var n=Dn(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function Ip(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function IO(e){return Math.PI*2*Zt(e,"r")}function bO(e){return Zt(e,"width")*2+Zt(e,"height")*2}function SO(e){return Ip({x:Zt(e,"x1"),y:Zt(e,"y1")},{x:Zt(e,"x2"),y:Zt(e,"y2")})}function Fw(e){for(var t=e.points,n=0,r,i=0;i<t.numberOfItems;i++){var o=t.getItem(i);i>0&&(n+=Ip(r,o)),r=o}return n}function MO(e){var t=e.points;return Fw(e)+Ip(t.getItem(t.numberOfItems-1),t.getItem(0))}function Lw(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return IO(e);case"rect":return bO(e);case"line":return SO(e);case"polyline":return Fw(e);case"polygon":return MO(e)}}function TO(e){var t=Lw(e);return e.setAttribute("stroke-dasharray",t),t}function xO(e){for(var t=e.parentNode;R.svg(t)&&R.svg(t.parentNode);)t=t.parentNode;return t}function Vw(e,t){var n=t||{},r=n.el||xO(e),i=r.getBoundingClientRect(),o=Zt(r,"viewBox"),s=i.width,a=i.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:r,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function AO(e,t){var n=R.str(e)?Rw(e)[0]:e,r=t||100;return function(i){return{property:i,el:n,svg:Vw(n),totalLength:Lw(n)*(r/100)}}}function NO(e,t,n){function r(u){u===void 0&&(u=0);var d=t+u>=1?t+u:0;return e.el.getPointAtLength(d)}var i=Vw(e.el,e.svg),o=r(),s=r(-1),a=r(1),l=n?1:i.w/i.vW,c=n?1:i.h/i.vH;switch(e.property){case"x":return(o.x-i.x)*l;case"y":return(o.y-i.y)*c;case"angle":return Math.atan2(a.y-s.y,a.x-s.x)*180/Math.PI}}function Iw(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=Pw(R.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:R.str(e)||t?r.split(n):[]}}function bp(e){var t=e?Ic(R.arr(e)?e.map(Dw):Dw(e)):[];return Dc(t,function(n,r,i){return i.indexOf(n)===r})}function jw(e){var t=bp(e);return t.map(function(n,r){return{target:n,id:r,total:t.length,transforms:{list:kw(n)}}})}function RO(e,t){var n=_p(t);if(/^spring/.test(n.easing)&&(n.duration=Aw(n.easing)),R.arr(e)){var r=e.length,i=r===2&&!R.obj(e[0]);i?e={value:e}:R.fnc(t.duration)||(n.duration=t.duration/r)}var o=R.arr(e)?e:[e];return o.map(function(s,a){var l=R.obj(s)&&!R.pth(s)?s:{value:s};return R.und(l.delay)&&(l.delay=a?0:t.delay),R.und(l.endDelay)&&(l.endDelay=a===o.length-1?t.endDelay:0),l}).map(function(s){return bc(s,n)})}function OO(e){for(var t=Dc(Ic(e.map(function(o){return Object.keys(o)})),function(o){return R.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),n={},r=function(o){var s=t[o];n[s]=e.map(function(a){var l={};for(var c in a)R.key(c)?c==s&&(l.value=a[c]):l[c]=a[c];return l})},i=0;i<t.length;i++)r(i);return n}function kO(e,t){var n=[],r=t.keyframes;r&&(t=bc(OO(r),t));for(var i in t)R.key(i)&&n.push({name:i,tweens:RO(t[i],e)});return n}function PO(e,t){var n={};for(var r in e){var i=gp(e[r],t);R.arr(i)&&(i=i.map(function(o){return gp(o,t)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function FO(e,t){var n;return e.tweens.map(function(r){var i=PO(r,t),o=i.value,s=R.arr(o)?o[1]:o,a=Dn(s),l=Ep(t.target,e.name,a,t),c=n?n.to.original:l,u=R.arr(o)?o[0]:c,d=Dn(u)||Dn(l),f=a||d;return R.und(s)&&(s=c),i.from=Iw(u,f),i.to=Iw(Dp(s,u),f),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=vp(i.easing,i.duration),i.isPath=R.pth(o),i.isPathTargetInsideSVG=i.isPath&&R.svg(t.target),i.isColor=R.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var Bw={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var o="";r.list.forEach(function(s,a){o+=a+"("+s+") "}),e.style.transform=o}}};function Uw(e,t){var n=jw(e);n.forEach(function(r){for(var i in t){var o=gp(t[i],r),s=r.target,a=Dn(o),l=Ep(s,i,a,r),c=a||Dn(l),u=Dp(Pw(o,c),l),d=wp(s,i);Bw[d](s,i,u,r.transforms,!0)}})}function LO(e,t){var n=wp(e.target,t.name);if(n){var r=FO(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function VO(e,t){return Dc(Ic(e.map(function(n){return t.map(function(r){return LO(n,r)})})),function(n){return!R.und(n)})}function $w(e,t){var n=e.length,r=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map(function(o){return r(o)+o.duration})):t.duration,i.delay=n?Math.min.apply(Math,e.map(function(o){return r(o)+o.delay})):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map(function(o){return r(o)+o.duration-o.endDelay})):t.endDelay,i}var bw=0;function jO(e){var t=pp(Tw,e),n=pp(mp,e),r=kO(n,e),i=jw(e.targets),o=VO(i,r),s=$w(o,n),a=bw;return bw++,bc(t,{id:a,children:[],animatables:i,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}var kt=[],Hw=function(){var e;function t(){!e&&(!Sw()||!_e.suspendWhenDocumentHidden)&&kt.length>0&&(e=requestAnimationFrame(n))}function n(i){for(var o=kt.length,s=0;s<o;){var a=kt[s];a.paused?(kt.splice(s,1),o--):(a.tick(i),s++)}e=s>0?requestAnimationFrame(n):void 0}function r(){_e.suspendWhenDocumentHidden&&(Sw()?e=cancelAnimationFrame(e):(kt.forEach(function(i){return i._onDocumentVisibility()}),Hw()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t}();function Sw(){return!!document&&document.hidden}function _e(e){e===void 0&&(e={});var t=0,n=0,r=0,i,o=0,s=null;function a(_){var M=window.Promise&&new Promise(function(ce){return s=ce});return _.finished=M,M}var l=jO(e),c=a(l);function u(){var _=l.direction;_!=="alternate"&&(l.direction=_!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,i.forEach(function(M){return M.reversed=l.reversed})}function d(_){return l.reversed?l.duration-_:_}function f(){t=0,n=d(l.currentTime)*(1/_e.speed)}function h(_,M){M&&M.seek(_-M.timelineOffset)}function p(_){if(l.reversePlayback)for(var ce=o;ce--;)h(_,i[ce]);else for(var M=0;M<o;M++)h(_,i[M])}function g(_){for(var M=0,ce=l.animations,Be=ce.length;M<Be;){var Ce=ce[M],ra=Ce.animatable,er=Ce.tweens,kr=er.length-1,we=er[kr];kr&&(we=Dc(er,function(eb){return _<eb.end})[0]||we);for(var ia=Qt(_-we.start-we.delay,0,we.duration)/we.duration,rn=isNaN(ia)?1:we.easing(ia),oa=we.to.strings,Bu=we.round,Uu=[],JI=we.to.numbers.length,Pr=void 0,io=0;io<JI;io++){var oo=void 0,Hm=we.to.numbers[io],zm=we.from.numbers[io]||0;we.isPath?oo=NO(we.value,rn*Hm,we.isPathTargetInsideSVG):oo=zm+rn*(Hm-zm),Bu&&(we.isColor&&io>2||(oo=Math.round(oo*Bu)/Bu)),Uu.push(oo)}var Wm=oa.length;if(!Wm)Pr=Uu[0];else{Pr=oa[0];for(var so=0;so<Wm;so++){var vL=oa[so],Gm=oa[so+1],$u=Uu[so];isNaN($u)||(Gm?Pr+=$u+Gm:Pr+=$u+" ")}}Bw[Ce.type](ra.target,Ce.property,Pr,ra.transforms),Ce.currentValue=Pr,M++}}function y(_){l[_]&&!l.passThrough&&l[_](l)}function I(){l.remaining&&l.remaining!==!0&&l.remaining--}function z(_){var M=l.duration,ce=l.delay,Be=M-l.endDelay,Ce=d(_);l.progress=Qt(Ce/M*100,0,100),l.reversePlayback=Ce<l.currentTime,i&&p(Ce),!l.began&&l.currentTime>0&&(l.began=!0,y("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,y("loopBegin")),Ce<=ce&&l.currentTime!==0&&g(0),(Ce>=Be&&l.currentTime!==M||!M)&&g(M),Ce>ce&&Ce<Be?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,y("changeBegin")),y("change"),g(Ce)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,y("changeComplete")),l.currentTime=Qt(Ce,0,M),l.began&&y("update"),_>=M&&(n=0,I(),l.remaining?(t=r,y("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&u()):(l.paused=!0,l.completed||(l.completed=!0,y("loopComplete"),y("complete"),!l.passThrough&&"Promise"in window&&(s(),c=a(l)))))}return l.reset=function(){var _=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=_==="reverse",l.remaining=l.loop,i=l.children,o=i.length;for(var M=o;M--;)l.children[M].reset();(l.reversed&&l.loop!==!0||_==="alternate"&&l.loop===1)&&l.remaining++,g(l.reversed?l.duration:0)},l._onDocumentVisibility=f,l.set=function(_,M){return Uw(_,M),l},l.tick=function(_){r=_,t||(t=r),z((r+(n-t))*_e.speed)},l.seek=function(_){z(d(_))},l.pause=function(){l.paused=!0,f()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,kt.push(l),f(),Hw())},l.reverse=function(){u(),l.completed=!l.reversed,f()},l.restart=function(){l.reset(),l.play()},l.remove=function(_){var M=bp(_);zw(M,l)},l.reset(),l.autoplay&&l.play(),l}function Mw(e,t){for(var n=t.length;n--;)yp(e,t[n].animatable.target)&&t.splice(n,1)}function zw(e,t){var n=t.animations,r=t.children;Mw(e,n);for(var i=r.length;i--;){var o=r[i],s=o.animations;Mw(e,s),!s.length&&!o.children.length&&r.splice(i,1)}!n.length&&!r.length&&t.pause()}function BO(e){for(var t=bp(e),n=kt.length;n--;){var r=kt[n];zw(t,r)}}function UO(e,t){t===void 0&&(t={});var n=t.direction||"normal",r=t.easing?vp(t.easing):null,i=t.grid,o=t.axis,s=t.from||0,a=s==="first",l=s==="center",c=s==="last",u=R.arr(e),d=parseFloat(u?e[0]:e),f=u?parseFloat(e[1]):0,h=Dn(u?e[1]:e)||0,p=t.start||0+(u?d:0),g=[],y=0;return function(I,z,_){if(a&&(s=0),l&&(s=(_-1)/2),c&&(s=_-1),!g.length){for(var M=0;M<_;M++){if(!i)g.push(Math.abs(s-M));else{var ce=l?(i[0]-1)/2:s%i[0],Be=l?(i[1]-1)/2:Math.floor(s/i[0]),Ce=M%i[0],ra=Math.floor(M/i[0]),er=ce-Ce,kr=Be-ra,we=Math.sqrt(er*er+kr*kr);o==="x"&&(we=-er),o==="y"&&(we=-kr),g.push(we)}y=Math.max.apply(Math,g)}r&&(g=g.map(function(rn){return r(rn/y)*y})),n==="reverse"&&(g=g.map(function(rn){return o?rn<0?rn*-1:-rn:Math.abs(y-rn)}))}var ia=u?(f-d)/y:d;return p+ia*(Math.round(g[z]*100)/100)+h}}function $O(e){e===void 0&&(e={});var t=_e(e);return t.duration=0,t.add=function(n,r){var i=kt.indexOf(t),o=t.children;i>-1&&kt.splice(i,1);function s(f){f.passThrough=!0}for(var a=0;a<o.length;a++)s(o[a]);var l=bc(n,pp(mp,e));l.targets=l.targets||e.targets;var c=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=R.und(r)?c:Dp(r,c),s(t),t.seek(l.timelineOffset);var u=_e(l);s(u),o.push(u);var d=$w(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}_e.version="3.2.1";_e.speed=1;_e.suspendWhenDocumentHidden=!0;_e.running=kt;_e.remove=BO;_e.get=Ep;_e.set=Uw;_e.convertPx=Cp;_e.path=AO;_e.setDashoffset=TO;_e.stagger=UO;_e.timeline=$O;_e.easing=vp;_e.penner=Nw;_e.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var N=_e;var Sc=class e{ngAfterViewInit(){N({targets:".container-clouds",top:"-100%",duration:0}),setTimeout(()=>{N({targets:".container-clouds",top:"10%",duration:2e3,easing:"easeInOutQuad"})},0);let t=()=>Math.random()*3e4+7e3,n=()=>Math.random()*500-250,r=()=>Math.random()*50-25;N({targets:".cloud_icon1",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),N({targets:".cloud_icon2",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),N({targets:".cloud_icon3",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),N({targets:".cloud_icon4",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"}),N({targets:".cloud_icon5",translateX:[{value:n,duration:t},{value:n,duration:t}],translateY:[{value:r,duration:t},{value:r,duration:t}],easing:"easeInOutSine",loop:!0,direction:"alternate"})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ye({type:e,selectors:[["sky-clouds"]],decls:5,vars:0,consts:[[1,"container-clouds"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon1"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon3"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon4"],["src","assets/img/cloud.png","alt","cloud",1,"cloud_icon5"]],template:function(n,r){n&1&&(m(0,"div",0),A(1,"img",1)(2,"img",2)(3,"img",3)(4,"img",4),v())},styles:[".container-clouds[_ngcontent-%COMP%]{top:0;position:absolute;left:0;width:100%;height:100%}.cloud_icon1[_ngcontent-%COMP%], .cloud_icon2[_ngcontent-%COMP%], .cloud_icon3[_ngcontent-%COMP%], .cloud_icon4[_ngcontent-%COMP%], .cloud_icon5[_ngcontent-%COMP%]{position:absolute}.cloud_icon1[_ngcontent-%COMP%]{top:10%;left:5%;width:100px;opacity:.3}.cloud_icon2[_ngcontent-%COMP%]{top:20%;left:10%;width:200px;opacity:.8}.cloud_icon3[_ngcontent-%COMP%]{top:-3%;right:30%;width:150px;opacity:.5}.cloud_icon4[_ngcontent-%COMP%]{top:5%;right:-5%;width:140px;opacity:.6}.cloud_icon5[_ngcontent-%COMP%]{top:20%;right:15%;width:100px;opacity:.7}@media (min-width: 768px){.cloud_icon1[_ngcontent-%COMP%]{top:1%;left:5%;width:150px}.cloud_icon2[_ngcontent-%COMP%]{top:10%;left:20%;width:220px}.cloud_icon3[_ngcontent-%COMP%]{top:-5%;right:35%;width:200px}.cloud_icon4[_ngcontent-%COMP%]{top:1%;right:-5%;width:180px}.cloud_icon5[_ngcontent-%COMP%]{top:13%;right:25%;width:100px;opacity:.6}}@media (min-width: 1024px){.cloud_icon1[_ngcontent-%COMP%]{top:-2%;left:5%;width:200px;opacity:.6}.cloud_icon2[_ngcontent-%COMP%]{top:10%;left:20%;width:270px}.cloud_icon3[_ngcontent-%COMP%]{top:-6%;right:35%;width:220px}.cloud_icon4[_ngcontent-%COMP%]{top:12%;right:15%;width:210px}.cloud_icon5[_ngcontent-%COMP%]{top:5%;right:5%;width:100px;opacity:.6}}"]})};var Mc=class e{constructor(t){this.router=t;this.currentOrientation=window.innerWidth>window.innerHeight?"landscape":"portrait"}currentOrientation;timeline;ngAfterViewInit(){return oe(this,null,function*(){this.checkScreenSizeAndRedirect(),this.timelineAnimations()})}timelineAnimations(){return oe(this,null,function*(){this.timeline=N.timeline({easing:"easeInOutElastic",duration:1500}),this.timeline.add({targets:".countryside",opacity:1,duration:3e3,easing:"easeInQuart"}).add({targets:".bush",opacity:1,easing:"easeInQuart"},"-=2000").add({targets:".msg1-1",bottom:["-200px","30px"],left:["190px","140px"],rotate:["90deg","-10deg"],opacity:[0,1],delay:500}).add({targets:".msg1-1",bottom:"-100px",left:"190px",rotate:"90deg",opacity:0,delay:2e3}).add({targets:".msg1-2",bottom:["-200px","40px"],left:["80px","30px"],rotate:["-90deg","10deg"],opacity:[0,1],delay:100}).add({targets:".msg1-3",bottom:["-200px","20px"],left:["230px","170px"],rotate:["90deg","-10deg"],opacity:[0,1],delay:500},"-=1000").add({delay:2500}).add({targets:".msg1-2, .msg1-3",bottom:"-200px",rotate:"-90deg",opacity:0,delay:N.stagger(200)}).add({targets:".msg1-4",bottom:["-200px","30px"],left:["190px","140px"],rotate:["90deg","-10deg"],opacity:[0,1]},"-=1000").add({targets:".msg1-4",bottom:"-100px",left:"190px",rotate:"90deg",opacity:0,delay:2e3}).add({targets:".bush",left:"-300px",easing:"easeInOutQuad",duration:2500}).add({targets:".countryside",left:"-550px",easing:"easeInOutQuad"},"-=1800").add({targets:".msg4",left:"130%",opacity:1,duration:8e3,easing:"linear"}).add({targets:".msg3",bottom:"140px",opacity:1,duration:500,easing:"easeInOutQuad"},"-=5000").add({targets:".msg3",bottom:"180px",scale:.1,opacity:0,duration:500,easing:"easeInOutQuad"}).add({targets:".countryside",left:"-950px",easing:"easeInOutQuad"}).add({targets:".msg5",bottom:"30%",opacity:1,duration:2e3,easing:"easeInOutQuad"}).add({targets:".msg6",right:"130%",duration:8e3,easing:"linear",delay:1e3},"-=2000").add({targets:".msg5",right:"100%",opacity:1,duration:1500,easing:"easeInOutQuad"}).add({targets:".countryside",left:"-1300px",easing:"easeInOutQuad",opacity:1},"-=1500").add({targets:".msg7",bottom:"80%",right:"100%",width:["40%","60%","30%"],duration:8e3,easing:"easeInOutSine"}).add({targets:".countryside",bottom:"-340px",easing:"easeInOutQuad",delay:7e3},"-=8000").add({targets:".party",top:"30%",scale:1,opacity:1,easing:"easeInOutQuad",duration:2e3},"-=1800").add({duration:2e3,complete:()=>{this.router.navigate(["/invitacion"])}}).finished})}onResize(){let t=window.innerWidth,n=window.innerHeight,r=t>n?"landscape":"portrait";r!==this.currentOrientation&&(this.currentOrientation=r,r==="portrait"&&window.location.reload())}checkScreenSizeAndRedirect(){window.innerWidth>=768&&this.router.navigate(["/invitacion"])}static \u0275fac=function(n){return new(n||e)(G(_t))};static \u0275cmp=ye({type:e,selectors:[["countryside"]],hostBindings:function(n,r){n&1&&j("resize",function(o){return r.onResize(o)},!1,a0)},decls:17,vars:0,consts:[[1,"container-inv"],["src","assets/img/countryside/countryside_bkg.png",1,"countryside"],["src","assets/img/countryside/msg1_1.png",1,"msg1-1","msg-rabbit"],["src","assets/img/countryside/msg1_2.png",1,"msg1-2","msg-rabbit"],["src","assets/img/countryside/msg1_3.png",1,"msg1-3","msg-rabbit"],["src","assets/img/countryside/msg1_4.png",1,"msg1-4","msg-rabbit"],["src","assets/img/countryside/bush.png",1,"bush"],["src","assets/img/countryside/msg3.png",1,"msg3"],["src","assets/img/countryside/msg4.png",1,"msg4"],["src","assets/img/countryside/msg5.png",1,"msg5"],["src","assets/img/countryside/msg6.png",1,"msg6"],["src","assets/img/countryside/msg7.png",1,"msg7"],[1,"d-flex","justify-content-center"],["src","assets/img/countryside/bautizo.png",1,"party"],[1,"rotate-screen"]],template:function(n,r){n&1&&(m(0,"div",0),A(1,"img",1)(2,"img",2)(3,"img",3)(4,"img",4)(5,"img",5)(6,"img",6)(7,"img",7)(8,"img",8)(9,"img",9)(10,"img",10)(11,"img",11),m(12,"div",12),A(13,"img",13),v()(),m(14,"div",14)(15,"p"),S(16,"Por favor voltea el dispositivo para continuar con la invitaci\xF3n"),v()())},styles:['@charset "UTF-8";.countryside[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:1920px;height:1080px;opacity:0}@media (max-width: 767px){.bush[_ngcontent-%COMP%]{position:absolute;bottom:-10px;left:20px;width:70%;transform:scaleX(-1);opacity:0}.countryside[_ngcontent-%COMP%]{position:absolute;bottom:-120px;left:-160px;opacity:0}.msg-rabbit[_ngcontent-%COMP%]{position:absolute;width:35%}.msg3[_ngcontent-%COMP%]{position:absolute;width:30%;bottom:160px;left:160px;opacity:0}.msg4[_ngcontent-%COMP%]{position:absolute;width:70%;top:30%;left:-70%}.msg5[_ngcontent-%COMP%]{position:absolute;width:70%;bottom:40%;right:0%;opacity:0}.msg6[_ngcontent-%COMP%]{position:absolute;width:70%;top:15%;right:-100%;opacity:1}.msg7[_ngcontent-%COMP%]{position:absolute;width:20%;bottom:100px;right:-20%;transform:rotate(10deg)}.party[_ngcontent-%COMP%]{position:absolute;top:50%;width:70%;opacity:0;transform:translate(-50%,-50%) scale(0)}}@media (min-width: 768px) and (max-width: 1024px){.countryside[_ngcontent-%COMP%]{position:absolute;bottom:300px;left:700px;width:1920px;height:1080px;opacity:0;transform:scale(2)}.container-inv[_ngcontent-%COMP%]{display:none;overflow:hidden;width:100%;height:100%}}@media (min-width: 1025px){.countryside[_ngcontent-%COMP%]{width:100%;height:100%;opacity:1}.container-inv[_ngcontent-%COMP%]{display:none}}.rotate-screen[_ngcontent-%COMP%]{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#f6d8d6;color:#000;text-align:center;justify-content:center;align-items:center;z-index:1000;overflow:hidden}@media (orientation: landscape){.rotate-screen[_ngcontent-%COMP%]{display:flex}}']})};function HO(e,t){if(e&1&&(m(0,"div",15),A(1,"img",16),v()),e&2){let n=t.$implicit;De("ngClass",n.className),ge(),De("src",n.src,Ci)("ngStyle",n.style)}}var Tc=class e{constructor(t){this.router=t}butterflies=[];maxButterflies=100;addButterfly(t){if(this.butterflies.length<this.maxButterflies){let r={name:".butterfly",className:`container_bfly${this.butterflies.length+1}`,src:"assets/svg/butterfly.svg",style:{top:`${t.clientY-100}px`,left:`${t.clientX}px`}};this.butterflies.push(r),setTimeout(()=>{this.animateButterfly(r)},100),setTimeout(()=>{N({targets:`.${r.className}`,opacity:0,duration:4e3,easing:"easeInBack",complete:()=>{let i=this.butterflies.indexOf(r);i>-1&&this.butterflies.splice(i,1)}})},5e3)}}animateButterfly(t){N({targets:`${t.name}`,scaleX:[{value:1.1,duration:200},{value:.9,duration:200},{value:1.1,duration:200},{value:1,duration:200}],scaleY:[{value:.9,duration:200},{value:1.1,duration:200},{value:.9,duration:200},{value:1,duration:200}],easing:"easeInOutSine",duration:800,loop:!0}),N({targets:`.${t.className}`,translateX:function(){return N.random(-200,200)},translateY:function(){return N.random(-200,200)},translateZ:function(){return N.random(-200,200)},easing:"easeInOutSine",duration:function(){return N.random(3e3,6e3)},direction:"alternate",loop:!0,delay:function(n,r,i){return N.random(0,1e3)},endDelay:function(n,r,i){return N.random(0,1e3)}})}clickCount=0;clickTimeout;onClick(t){this.clickCount++,clearTimeout(this.clickTimeout),this.clickTimeout=setTimeout(()=>{this.clickCount=0},1e3),this.clickCount===15&&this.openModal()}openModal(){let t=document.getElementById("confirmModal");t.style.display="block",N({targets:"#confirmModal",scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}closeModal(){let t=document.getElementById("confirmModal");N({targets:"#confirmModal",scale:[1,0],opacity:[1,0],duration:300,easing:"easeOutQuad",oncomplete:()=>{t.style.display="none"}})}skipAnimation(){this.closeModal(),setTimeout(()=>{this.router.navigate(["/invitacion"])},1e3)}static \u0275fac=function(n){return new(n||e)(G(_t))};static \u0275cmp=ye({type:e,selectors:[["butterflies"]],hostBindings:function(n,r){n&1&&j("click",function(o){return r.onClick(o)},!1,l0)},decls:19,vars:1,consts:[[1,"butterfly-container",3,"click"],[3,"ngClass",4,"ngFor","ngForOf"],["id","confirmModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content",2,"margin","4rem"],[1,"modal-header"],["id","commentModalLabel",1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],[1,"row"],[1,"col-12","text-center","mb-3"],["src","assets/svg/skip-forward.svg","alt","",2,"width","3.5rem"],[1,"col-12","text-center"],[1,"modal-footer"],["type","button",1,"btn","btn-modal",3,"click"],[3,"ngClass"],[1,"butterfly",3,"src","ngStyle"]],template:function(n,r){n&1&&(m(0,"div",0),j("click",function(o){return r.addButterfly(o)}),Rt(1,HO,2,3,"div",1),v(),m(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),S(7,"Omitir Animaci\xF3n"),v(),m(8,"button",7),j("click",function(){return r.closeModal()}),v()(),m(9,"div",8)(10,"div",9)(11,"div",10),A(12,"img",11),v(),m(13,"div",12)(14,"h2"),S(15,"\xBFOmitir animaci\xF3n y continuar a la informaci\xF3n?"),v()()()(),m(16,"div",13)(17,"button",14),j("click",function(){return r.skipAnimation()}),S(18,"Continuar"),v()()()()()),n&2&&(ge(),De("ngForOf",r.butterflies))},dependencies:[$o,fC,Kl,pC],styles:[".butterfly[_ngcontent-%COMP%]{position:absolute;width:5%;pointer-events:none}.butterfly-container[_ngcontent-%COMP%]{width:100%;height:85vh;position:absolute;bottom:0}.btn-modal[_ngcontent-%COMP%]{background-color:#999ae8;height:35px;font-size:1.5rem;color:#fff}"]})};var xc=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ye({type:e,selectors:[["app-bautizo"]],decls:4,vars:0,consts:[[1,"container-sky"]],template:function(n,r){n&1&&(m(0,"div",0),A(1,"countryside")(2,"sky-clouds")(3,"butterflies"),v())},dependencies:[Sc,Mc,Tc],encapsulation:2})};var Ac=class e{constructor(t){this.router=t}ngAfterViewInit(){let t=N({targets:"#loading_icon",scaleX:[{value:1.1,duration:200},{value:.9,duration:200},{value:1.1,duration:200},{value:1,duration:200}],scaleY:[{value:.9,duration:200},{value:1.1,duration:200},{value:.9,duration:200},{value:1,duration:200}],easing:"easeInOutSine",duration:800,loop:!0}),n=N({targets:".loading__icon",keyframes:Array.from({length:16},()=>({translateX:Math.random()*100-50,translateY:Math.random()*100-50,translateZ:Math.random()*80-40,opacity:[1,.8]})),easing:"easeInOutQuad",duration:15e3,loop:!0,direction:"alternate"});setTimeout(()=>{N({targets:".container-sky",backgroundColor:"#f6d8d6",duration:2e3,easing:"easeInOutSine"})},1500),setTimeout(()=>{n.pause(),N({targets:".loading__icon",translateX:0,translateY:0,duration:1e3,easing:"easeInOutSine",complete:()=>{N({targets:"#loading_icon",scale:.1,opacity:0,duration:2e3,easing:"easeInOutSine",complete:()=>{try{document.getElementById("loading_icon").style.display="none",this.router.navigate(["/bautizo"])}catch{}}})}})},5e3)}ngOnInit(){localStorage.getItem("entro")==="1"?this.router.navigate(["/invitacion"]):localStorage.setItem("entro","1")}static \u0275fac=function(n){return new(n||e)(G(_t))};static \u0275cmp=ye({type:e,selectors:[["app-loading"]],decls:4,vars:0,consts:[[1,"container-sky"],[1,"loading"],[1,"loading__icon"],["id","loading_icon","src","assets/svg/butterfly.svg","alt",""]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),A(3,"img",3),v()()())},styles:[".loading[_ngcontent-%COMP%]{height:100vh;width:100vw;flex-direction:column;display:flex;justify-content:center;align-items:center}.loading__icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem}.loading__text[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.5rem;font-weight:700;color:#000}"]})};var Nc=class e{flagHImage=0;imgHeader="assets/img/countryside/bautizo.png";isAnimating=!1;imgsHeader=["assets/img/countryside/bautizo.png","assets/img/countryside/party.png"];constructor(){}ngOnInit(){let t=document.querySelector(".container-info");t&&t.addEventListener("scroll",this.checkVisibility.bind(this))}isElementInViewport(t){let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}checkVisibility(){document.querySelectorAll(".view").forEach(n=>{if(this.isElementInViewport(n)){let i=n.getAttribute("data-id")==="ba"?this.imgsHeader[0]:this.imgsHeader[1];if(this.isAnimating||this.imgHeader===i)return;this.isAnimating=!0,N({targets:".header-img",top:"-50px",opacity:0,duration:300,easing:"easeInOutQuad",complete:()=>{this.imgHeader=i,N({targets:".header-img",top:"20px",opacity:1,duration:300,easing:"easeInOutQuad",complete:()=>{this.isAnimating=!1}})}})}})}ngAfterViewInit(){this.startAnimation()}startAnimation(){N.timeline({easing:"easeInOutQuad",duration:1e3}).add({targets:".header-img",top:"20px"}).add({targets:".card",translateX:[-1e3,0],duration:1e3,easing:"easeInOutQuad",delay:N.stagger(100)},"-=700")}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ye({type:e,selectors:[["information"]],decls:93,vars:1,consts:[[1,"container-sky"],[1,"container-header"],[1,"header-img",3,"src"],[1,"container-info"],[1,"card","no-card"],[1,"card__content-h"],[1,"card__img"],[1,"img-content"],["src","assets/img/countryside/sofia.png","alt",""],[1,"card__text"],[1,"card__content-v"],[1,"card__title"],[1,"card__content"],["data-id","ba",1,"card","view"],[1,"card__img-aux-l"],[1,"card__footer"],[1,"card__btn-send"],[1,"card"],[1,"card__img-aux-r"],[1,"card","no-card","card__small"],["data-id","bi",1,"card","view"],[1,"footer-img"],["src","assets/img/countryside/footer.png",1,"party"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1),A(2,"img",2),v(),m(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),A(8,"img",8),v()(),m(9,"div",9),S(10," ANGELA SOFIA RAMIREZ MONTES "),v()()(),m(11,"div",4)(12,"div",10)(13,"div",11)(14,"h1"),S(15,"Mis Pap\xE1s"),v()(),m(16,"div",10)(17,"p"),S(18,"Minerva Victoria Montes Torres"),v(),m(19,"p"),S(20,"Jos\xE9 Manuel Ram\xEDrez Mej\xEDa"),v()()()(),m(21,"div",4)(22,"div",10)(23,"div",11)(24,"h1"),S(25,"Mi Madrina"),v()(),m(26,"div",12)(27,"p"),S(28,"Maria Jos\xE9 Ram\xEDrez Mej\xEDa"),v()()()(),m(29,"div",13)(30,"div",5),A(31,"div",14),m(32,"div",9)(33,"div",11)(34,"h1"),S(35,"Bautizo"),v()(),m(36,"p"),S(37,"Iglesia de la sagrada familia"),v(),A(38,"br"),m(39,"p"),S(40,"12 de Julio del 20205"),v(),A(41,"br"),m(42,"p"),S(43,"02:00 p.m."),v()()(),m(44,"div",15)(45,"button",16),S(46,"\xBFComo llegar?"),v()()(),m(47,"div",17)(48,"div",5)(49,"div",9)(50,"div",11)(51,"h1"),S(52,"Recepci\xF3n"),v()(),m(53,"p"),S(54,"Sal\xF3n de fiestas XYZ"),v(),A(55,"br"),m(56,"p"),S(57,"12 de Julio del 20205"),v(),A(58,"br"),m(59,"p"),S(60,"04:00 p.m."),v()(),A(61,"div",18),v(),m(62,"div",15)(63,"button",16),S(64,"\xBFComo llegar?"),v()()(),m(65,"div",19)(66,"div",12),S(67,' "En este d\xEDa especial, celebramos la llegada de un nuevo miembro a la familia de Dios. Que su bautizo marque el inicio de una vida llena de bendiciones, amor y sabidur\xEDa divina." '),v()(),m(68,"div",17)(69,"div",11),S(70," Falta para mi fiesta... "),v(),A(71,"div",12),v(),m(72,"div",20)(73,"div",11),S(74," Falta para mi cumplea\xF1os... "),v(),A(75,"div",12),v(),m(76,"div",19)(77,"div",12),S(78,' "En su primer a\xF1o de vida, una beb\xE9 es como una flor que comienza a abrirse al mundo, llena de pureza y asombro.Sus risas y logros nos muestran la belleza de la vida en cada peque\xF1o momento." '),v()(),m(79,"div",17)(80,"div",12)(81,"h1"),S(82,"Mesa de regalos"),v()()(),m(83,"div",17)(84,"div",12)(85,"h1"),S(86,"Anuncios"),v()()(),m(87,"div",17)(88,"div",12)(89,"h1"),S(90,"Deja un comentario"),v()()(),m(91,"div",21),A(92,"img",22),v()()()),n&2&&(ge(2),De("src",r.imgHeader,Ci))},styles:["h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin:0}.header-img[_ngcontent-%COMP%]{position:absolute;top:20%;left:50%;transform:translate(-50%);width:300px;height:150px;z-index:1}.container-info[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 240px);position:absolute;z-index:0;overflow:auto;display:flex;flex-direction:column;align-items:stretch;gap:10px;bottom:0}.card[_ngcontent-%COMP%]{width:90%;background-color:#ededfd;flex-shrink:0;border-radius:20px;margin:5%;display:flex;flex-direction:column;box-shadow:0 15px 10px #00000080}.card__content-h[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.card__content-v[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.card__title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;width:100%}.card__small[_ngcontent-%COMP%]{height:100px}.card__img[_ngcontent-%COMP%]{flex:0 0 50%;display:flex;justify-content:center}.card__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:auto}.card__text[_ngcontent-%COMP%]{flex:0 0 50%;display:flex;flex-direction:column;justify-content:center;padding:10px}.card__img-aux-l[_ngcontent-%COMP%]{background-image:url(/assets/img/countryside/church.jpg);background-repeat:no-repeat;background-size:300%;background-position:center;width:100%;height:100%;border-top-left-radius:20px}.card__img-aux-r[_ngcontent-%COMP%]{background-image:url(/assets/img/countryside/church.jpg);background-repeat:no-repeat;background-size:200%;background-position:center;width:100%;height:100%;border-top-right-radius:20px}.card__footer[_ngcontent-%COMP%]{width:100%}.card__btn-send[_ngcontent-%COMP%]{border-bottom-right-radius:20px;border-bottom-left-radius:20px;background-color:#f4b0e5;border:0;color:#fff;height:40px;width:100%}.no-card[_ngcontent-%COMP%]{background-color:#f6d8d6;box-shadow:none}.img-content[_ngcontent-%COMP%]{background-color:#ededfd;padding:5px;border-radius:20px}.footer-img[_ngcontent-%COMP%]{position:relative;margin-top:auto;width:100%;height:auto}.footer-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}"]})};var Pi=class e{animate=!1;viewPhotos=!1;runAnimMosaic=!1;isZoomed=!1;srcImgView="";ngAfterViewInit(){this.animate&&this.runAnimation()}ngOnChanges(t){t.animate&&!t.animate.isFirstChange()&&this.animate&&this.runAnimation()}runAnimation(){let t=document.querySelectorAll(".photo");t.forEach(n=>{n.classList.remove("centered-image")}),this.runAnimMosaic=!0,N({targets:t,scale:[3,1],opacity:[0,1],filter:["blur(5px)","blur(0)"],delay:N.stagger(200),duration:500,easing:"easeOutQuad",complete:()=>{this.runAnimMosaic=!1}})}toggleZoom(t){if(!this.viewPhotos||this.runAnimMosaic)return;let n=t;if(this.srcImgView=n.getAttribute("src")||"",this.runAnimMosaic=!0,this.isZoomed){this.isZoomed=!1;let r=document.querySelectorAll(".photo"),i=document.querySelector(".view-photo");i&&(i.style.display="none"),N({targets:r,translateX:0,opacity:1,scale:1,delay:N.stagger(100),duration:500,easing:"easeOutExpo",complete:()=>{n.classList.remove("zoomed"),this.runAnimMosaic=!1,document.querySelector(".content").style.overflowY="auto"}})}else{let r=document.querySelectorAll(".photo");document.querySelector(".content").style.overflow="hidden",N({targets:r,translateX:"100%",opacity:0,delay:N.stagger(100),duration:500,easing:"easeOutExpo",complete:()=>{this.isZoomed=!0,this.runAnimMosaic=!1;let i=document.querySelector(".view-photo");i&&(i.style.display="flex")}})}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ye({type:e,selectors:[["mosaic-photos"]],inputs:{animate:"animate",viewPhotos:"viewPhotos"},features:[Vn],decls:31,vars:1,consts:[[1,"container-fluid"],[1,"row"],[1,"col-2","d-flex","align-items-center"],["src","assets/img/countryside/photos/img1.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"col-2"],[1,"col-12"],["src","assets/img/countryside/photos/img2.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"col-12","mt-3"],["src","assets/img/countryside/photos/img3.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img4.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img5.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img6.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img7.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img8.png","alt","photo",1,"photo","img-fluid",3,"click"],["src","assets/img/countryside/photos/img9.png","alt","photo",1,"photo","img-fluid",3,"click"],[1,"view-photo"],[1,"row","text-center"],["id","view-img","alt","photo",3,"click","src"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),j("click",function(o){return r.toggleZoom(o.target)}),v()(),m(4,"div",4)(5,"div",1)(6,"div",5)(7,"img",6),j("click",function(o){return r.toggleZoom(o.target)}),v()(),m(8,"div",7)(9,"img",8),j("click",function(o){return r.toggleZoom(o.target)}),v()()()(),m(10,"div",2)(11,"img",9),j("click",function(o){return r.toggleZoom(o.target)}),v()(),m(12,"div",2)(13,"div",1)(14,"div",5)(15,"img",10),j("click",function(o){return r.toggleZoom(o.target)}),v()(),m(16,"div",7)(17,"img",11),j("click",function(o){return r.toggleZoom(o.target)}),v()()()(),m(18,"div",2)(19,"img",12),j("click",function(o){return r.toggleZoom(o.target)}),v()(),m(20,"div",4)(21,"div",1)(22,"div",5)(23,"img",13),j("click",function(o){return r.toggleZoom(o.target)}),v()(),m(24,"div",7)(25,"img",14),j("click",function(o){return r.toggleZoom(o.target)}),v()()()()()(),m(26,"div",15)(27,"div",16)(28,"h1"),S(29,"1 mes"),v()(),m(30,"img",17),j("click",function(o){return r.toggleZoom(o.target)}),v()()),n&2&&(ge(30),De("src",r.srcImgView,Ci))},styles:[".centered-image[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;width:65%;transform:translate(-50%,-50%)!important;z-index:2;border-radius:50px}.view-photo[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:80%;height:auto;max-height:90%;background-color:#fff;border-radius:20px;box-shadow:0 4px 8px #0003;z-index:3;padding:1rem;display:flex;flex-direction:column;justify-content:center;align-items:center;display:none}.view-photo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:80%;object-fit:contain;border-radius:20px}@media (min-width: 600px) and (max-width: 1199px){.view-photo[_ngcontent-%COMP%]{max-width:60%}}@media (min-width: 1200px){.view-photo[_ngcontent-%COMP%]{max-width:30%}}"]})};var Ir=class{id;autor;comentario;fecha;constructor(t,n,r,i){this.id=t,this.autor=n,this.comentario=r,this.fecha=i}};var Jw=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(G(jn),G(vn))};static \u0275dir=Ge({type:e})}return e})(),zO=(()=>{class e extends Jw{static \u0275fac=(()=>{let n;return function(i){return(n||(n=vi(e)))(i||e)}})();static \u0275dir=Ge({type:e,features:[mr]})}return e})(),eE=new b("");var WO={provide:eE,useExisting:hi(()=>Fc),multi:!0};function GO(){let e=_n()?_n().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var qO=new b(""),Fc=(()=>{class e extends Jw{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!GO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(G(jn),G(vn),G(qO,8))};static \u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&j("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Gl([WO]),mr]})}return e})();function QO(e){return e!=null&&typeof e.length=="number"}var tE=new b(""),ZO=new b("");function YO(e){return t=>QO(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Ww(e){return null}function nE(e){return e!=null}function rE(e){return vr(e)?ie(e):e}function iE(e){let t={};return e.forEach(n=>{t=n!=null?E(E({},t),n):t}),Object.keys(t).length===0?null:t}function oE(e,t){return t.map(n=>n(e))}function KO(e){return!e.validate}function sE(e){return e.map(t=>KO(t)?t:n=>t.validate(n))}function XO(e){if(!e)return null;let t=e.filter(nE);return t.length==0?null:function(n){return iE(oE(n,t))}}function aE(e){return e!=null?XO(sE(e)):null}function JO(e){if(!e)return null;let t=e.filter(nE);return t.length==0?null:function(n){let r=oE(n,t).map(rE);return hd(r).pipe(k(iE))}}function lE(e){return e!=null?JO(sE(e)):null}function Gw(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function e1(e){return e._rawValidators}function t1(e){return e._rawAsyncValidators}function Sp(e){return e?Array.isArray(e)?e:[e]:[]}function Oc(e,t){return Array.isArray(e)?e.includes(t):e===t}function qw(e,t){let n=Sp(t);return Sp(e).forEach(i=>{Oc(n,i)||n.push(i)}),n}function Qw(e,t){return Sp(t).filter(n=>!Oc(e,n))}var kc=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=aE(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=lE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Mp=class extends kc{name;get formDirective(){return null}get path(){return null}},Cs=class extends kc{_parent=null;name=null;valueAccessor=null},Tp=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},n1={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},qz=W(E({},n1),{"[class.ng-submitted]":"isSubmitted"}),cE=(()=>{class e extends Tp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(G(Cs,2))};static \u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&sh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[mr]})}return e})();var ms="VALID",Rc="INVALID",Fi="PENDING",vs="DISABLED",Vi=class{},Pc=class extends Vi{value;source;constructor(t,n){super(),this.value=t,this.source=n}},ys=class extends Vi{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},_s=class extends Vi{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Li=class extends Vi{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function r1(e){return(Lc(e)?e.validators:e)||null}function i1(e){return Array.isArray(e)?aE(e):e||null}function o1(e,t){return(Lc(t)?t.asyncValidators:e)||null}function s1(e){return Array.isArray(e)?lE(e):e||null}function Lc(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}var xp=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return yn(this.statusReactive)}set status(t){yn(()=>this.statusReactive.set(t))}_status=Bo(()=>this.statusReactive());statusReactive=Fo(void 0);get valid(){return this.status===ms}get invalid(){return this.status===Rc}get pending(){return this.status==Fi}get disabled(){return this.status===vs}get enabled(){return this.status!==vs}errors;get pristine(){return yn(this.pristineReactive)}set pristine(t){yn(()=>this.pristineReactive.set(t))}_pristine=Bo(()=>this.pristineReactive());pristineReactive=Fo(!0);get dirty(){return!this.pristine}get touched(){return yn(this.touchedReactive)}set touched(t){yn(()=>this.touchedReactive.set(t))}_touched=Bo(()=>this.touchedReactive());touchedReactive=Fo(!1);get untouched(){return!this.touched}_events=new de;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(qw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(qw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Qw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Qw(t,this._rawAsyncValidators))}hasValidator(t){return Oc(this._rawValidators,t)}hasAsyncValidator(t){return Oc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(W(E({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new _s(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new _s(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(W(E({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ys(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new ys(!0,r))}markAsPending(t={}){this.status=Fi;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Li(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(W(E({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=vs,this.errors=null,this._forEachChild(i=>{i.disable(W(E({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Pc(this.value,r)),this._events.next(new Li(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(W(E({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ms,this._forEachChild(r=>{r.enable(W(E({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(W(E({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ms||this.status===Fi)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Pc(this.value,n)),this._events.next(new Li(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(W(E({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vs:ms}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Fi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=rE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Li(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?vs:this.errors?Rc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fi)?Fi:this._anyControlsHaveStatus(Rc)?Rc:ms}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new ys(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new _s(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Lc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=i1(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=s1(this._rawAsyncValidators)}};var uE=new b("",{providedIn:"root",factory:()=>Ap}),Ap="always";function a1(e,t){return[...t.path,e]}function l1(e,t,n=Ap){u1(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),d1(e,t),h1(e,t),f1(e,t),c1(e,t)}function Zw(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function c1(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function u1(e,t){let n=e1(e);t.validator!==null?e.setValidators(Gw(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=t1(e);t.asyncValidator!==null?e.setAsyncValidators(Gw(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Zw(t._rawValidators,i),Zw(t._rawAsyncValidators,i)}function d1(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&dE(e,t)})}function f1(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&dE(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function dE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function h1(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function p1(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function g1(e){return Object.getPrototypeOf(e.constructor)===zO}function m1(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Fc?n=o:g1(o)?r=o:i=o}),i||r||n||null}function Yw(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Kw(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var v1=class extends xp{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(r1(n),o1(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Kw(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Yw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Yw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Kw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var y1={provide:Cs,useExisting:hi(()=>Np)},Xw=Promise.resolve(),Np=(()=>{class e extends Cs{_changeDetectorRef;callSetDisabledState;control=new v1;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Fe;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=m1(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),p1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){l1(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){Xw.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&ql(r);Xw.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?a1(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(G(Mp,9),G(tE,10),G(ZO,10),G(eE,10),G(yr,8),G(uE,8))};static \u0275dir=Ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Gl([y1]),mr,Vn]})}return e})();function _1(e){return typeof e=="number"?e:parseInt(e,10)}var C1=(()=>{class e{_validator=Ww;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ww,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ge({type:e,features:[Vn]})}return e})();var w1={provide:tE,useExisting:hi(()=>Rp),multi:!0},Rp=(()=>{class e extends C1{maxlength;inputName="maxlength";normalizeInput=n=>_1(n);createValidator=n=>YO(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=vi(e)))(i||e)}})();static \u0275dir=Ge({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Hl("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[Gl([w1]),mr]})}return e})();var E1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Nt({type:e});static \u0275inj=Tt({})}return e})();var fE=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:uE,useValue:n.callSetDisabledState??Ap}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Nt({type:e});static \u0275inj=Tt({imports:[E1]})}return e})();var I1="firebase",b1="11.5.0";Tn(I1,b1,"app");function Yt(e){e===void 0&&(s_(Yt),e=C(nt));let t=e.get(Vf);return n=>new $(r=>{let i=t.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var kp=new Ln("ANGULARFIRE2_VERSION");var hE=(e,t)=>{let n=t?[t]:hv(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Op=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(Op||{}),f8=jo()&&typeof Zone<"u"?Op.WARN:Op.SILENT;var Vc=class{zone;delegate;constructor(t,n=ud){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{t.apply(this,[s])}):t.apply(this,[s])};return this.delegate.schedule(o,n,r)}},ws=(()=>{class e{outsideAngular;insideAngular;constructor(){let n=C(ee);this.outsideAngular=n.runOutsideAngular(()=>new Vc(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Vc(typeof Zone>"u"?void 0:Zone.current,mo))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var S1=new Map,M1={activated:!1,tokenObservers:[]},T1={initialized:!1,enabled:!1};function Pt(e){return S1.get(e)||Object.assign({},M1)}function yE(){return T1}var x1="https://content-firebaseappcheck.googleapis.com/v1";var A1="exchangeDebugToken",gE={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},C8=24*60*60*1e3;var Lp=class{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return oe(this,null,function*(){this.stop();try{this.pending=new Ae,this.pending.promise.catch(n=>{}),yield N1(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ae,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function N1(e){return new Promise(t=>{setTimeout(t,e)})}var R1={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Hn=new nv("appCheck","AppCheck",R1);function _E(e){if(!Pt(e).activated)throw Hn.create("use-before-activation",{appName:e.name})}function CE(r,i){return oe(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let h=yield s.getHeartbeatsHeader();h&&(o["X-Firebase-Client"]=h)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(h){throw Hn.create("fetch-network-error",{originalErrorMessage:h?.message})}if(l.status!==200)throw Hn.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(h){throw Hn.create("fetch-parse-error",{originalErrorMessage:h?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Hn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,f=Date.now();return{token:c.token,expireTimeMillis:f+d,issuedAtTimeMillis:f}})}function wE(e,t){let{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${x1}/projects/${n}/apps/${r}:${A1}?key=${i}`,body:{debug_token:t}}}var O1="firebase-app-check-database",k1=1,Vp="firebase-app-check-store";var jc=null;function P1(){return jc||(jc=new Promise((e,t)=>{try{let n=indexedDB.open(O1,k1);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Hn.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Vp,{keyPath:"compositeKey"})}}}catch(n){t(Hn.create("storage-open",{originalErrorMessage:n?.message}))}}),jc)}function F1(e,t){return L1(V1(e),t)}function L1(e,t){return oe(this,null,function*(){let r=(yield P1()).transaction(Vp,"readwrite"),o=r.objectStore(Vp).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var c;a(Hn.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function V1(e){return`${e.options.appId}-${e.name}`}var Es=new Lr("@firebase/app-check");function Pp(e,t){return tv()?F1(e,t).catch(n=>{Es.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function EE(){return yE().enabled}function DE(){return oe(this,null,function*(){let e=yE();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var j1={error:"UNKNOWN_ERROR"};function B1(e){return aa.encodeString(JSON.stringify(e),!1)}function jp(e,t=!1,n=!1){return oe(this,null,function*(){let r=e.app;_E(r);let i=Pt(r),o=i.token,s;if(o&&!Ds(o)&&(i.token=void 0,o=void 0),!o){let c=yield i.cachedTokenPromise;c&&(Ds(c)?o=c:yield Pp(r,void 0))}if(!t&&o&&Ds(o))return{token:o.token};let a=!1;if(EE())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=CE(wE(r,yield DE()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let c=yield i.exchangeTokenPromise;return yield Pp(r,c),i.token=c,{token:c.token}}catch(c){return c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Es.warn(c.message):n&&Es.error(c),Fp(c)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield Pt(r).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"||c.code==="appCheck/initial-throttle"?Es.warn(c.message):n&&Es.error(c),s=c}let l;return o?s?Ds(o)?l={token:o.token,internalError:s}:l=Fp(s):(l={token:o.token},i.token=o,yield Pp(r,o)):l=Fp(s),a&&z1(r,l),l})}function U1(e){return oe(this,null,function*(){let t=e.app;_E(t);let{provider:n}=Pt(t);if(EE()){let r=yield DE(),{token:i}=yield CE(wE(t,r),e.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function $1(e,t,n,r){let{app:i}=e,o=Pt(i),s={next:n,error:r,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ds(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),mE(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>mE(e))}function IE(e,t){let n=Pt(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function mE(e){let{app:t}=e,n=Pt(t),r=n.tokenRefresher;r||(r=H1(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function H1(e){let{app:t}=e;return new Lp(()=>oe(this,null,function*(){let n=Pt(t),r;if(n.token?r=yield jp(e,!0):r=yield jp(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Pt(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},gE.RETRIAL_MIN_WAIT,gE.RETRIAL_MAX_WAIT)}function z1(e,t){let n=Pt(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function Ds(e){return e.expireTimeMillis-Date.now()>0}function Fp(e){return{token:B1(j1),error:e}}var Bp=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Pt(this.app);for(let n of t)IE(this.app,n.next);return Promise.resolve()}};function W1(e,t){return new Bp(e,t)}function G1(e){return{getToken:t=>jp(e,t),getLimitedUseToken:()=>U1(e),addTokenListener:t=>$1(e,"INTERNAL",t),removeTokenListener:t=>IE(e.app,t)}}var q1="@firebase/app-check",Q1="0.8.13";var Z1="app-check",vE="app-check-internal";function Y1(){co(new on(Z1,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return W1(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(vE).initialize()})),co(new on(vE,e=>{let t=e.getProvider("app-check").getImmediate();return G1(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),Tn(q1,Q1)}Y1();var K1="app-check";var ji=class{constructor(){return hE(K1)}};var X1=["localhost","0.0.0.0","127.0.0.1"],P8=typeof window<"u"&&X1.includes(window.location.hostname);var J1="firebase",ek="11.5.0";Dt.registerVersion(J1,ek,"app-compat");var tk=["ngOnDestroy"],ME=(e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{if(e[o])return r?.spy?.get&&r.spy.get(o,e[o]),e[o];if(tk.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return r?.spy?.apply&&r.spy.apply(o,c,d),d})})})});var Up=class{constructor(t){return t}},Bc=new b("angularfire2.app.options"),Uc=new b("angularfire2.app.name");function $c(e,t,n){let r=typeof n=="string"&&n||"[DEFAULT]",i=typeof n=="object"&&n||{};i.name=i.name||r;let s=Dt.apps.filter(a=>a&&a.name===i.name)[0]||t.runOutsideAngular(()=>Dt.initializeApp(e,i));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;nk("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Up(s)}var nk=(e,...t)=>{jo()&&typeof console<"u"&&console[e](...t)};function Hc(e,t,n,r,i){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return rk(i,s)||(SE("error",`${t} was already initialized on the ${n} Firebase App with different settings.${ik?" You may need to reload as Firebase is not HMR aware.":""}`),SE("warn",{is:i,was:s})),o;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([e,a,i]),a}}function rk(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var ik=typeof module<"u"&&!!module.hot,SE=(e,...t)=>{jo()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var $p=new b("angularfire2.auth.use-emulator"),Hp=new b("angularfire2.auth.settings"),zp=new b("angularfire2.auth.tenant-id"),Wp=new b("angularfire2.auth.langugage-code"),Gp=new b("angularfire2.auth.use-device-language"),qp=new b("angularfire.auth.persistence"),Qp=(e,t,n,r,i,o,s,a)=>Hc(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),r&&(l.tenantId=r),l.languageCode=i,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,r,i,o,s,a]),TE=(()=>{class e{injector=C(Me);authState;idToken;user;idTokenResult;credential;constructor(n,r,i,o,s,a,l,c,u,d,f,h){let p=new de,g=O(void 0).pipe(Bt(s.outsideAngular),fe(()=>o.runOutsideAngular(()=>import("./chunk-SEWQ5GPH.js"))),k(()=>$c(n,o,r)),k(y=>Qp(y,o,a,c,u,d,l,f)),$a({bufferSize:1,refCount:!1}));if(Ho(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=O(null);else{g.pipe(bt()).subscribe();let y=g.pipe(fe(_=>_.getRedirectResult().then(M=>M,()=>null)),Yt(this.injector),$a({bufferSize:1,refCount:!1})),I=g.pipe(fe(_=>new $(M=>({unsubscribe:o.runOutsideAngular(()=>_.onAuthStateChanged(ce=>M.next(ce),ce=>M.error(ce),()=>M.complete()))})))),z=g.pipe(fe(_=>new $(M=>({unsubscribe:o.runOutsideAngular(()=>_.onIdTokenChanged(ce=>M.next(ce),ce=>M.error(ce),()=>M.complete()))}))));this.authState=y.pipe(Ha(I),an(s.outsideAngular),Bt(s.insideAngular)),this.user=y.pipe(Ha(z),an(s.outsideAngular),Bt(s.insideAngular)),this.idToken=this.user.pipe(fe(_=>_?ie(_.getIdToken()):O(null))),this.idTokenResult=this.user.pipe(fe(_=>_?ie(_.getIdTokenResult()):O(null))),this.credential=Yr(y,p,this.authState.pipe($e(_=>!_))).pipe(k(_=>_?.user?_:null),an(s.outsideAngular),Bt(s.insideAngular))}return ME(this,g,o,{spy:{apply:(y,I,z)=>{(y.startsWith("signIn")||y.startsWith("createUser"))&&z.then(_=>p.next(_))}}})}static \u0275fac=function(r){return new(r||e)(D(Bc),D(Uc,8),D(vt),D(ee),D(ws),D($p,8),D(Hp,8),D(zp,8),D(Wp,8),D(Gp,8),D(qp,8),D(ji,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})();var xE="@firebase/database",AE="1.0.14";var sm="";function am(e){sm=e}var ng=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ee(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:la(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var rg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return ut(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var aD=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new ng(t)}}catch{}return new rg},Sr=aD("localStorage"),ig=aD("sessionStorage");var Hi=new Lr("@firebase/database"),lD=function(){let e=1;return function(){return e++}}(),cD=function(e){let t=lv(e),n=new av;n.update(t);let r=n.digest();return aa.encodeByteArray(r)},qs=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=qs.apply(null,r):typeof r=="object"?t+=Ee(r):t+=r,t+=" "}return t},Mr=null,NE=!0,uD=function(e,t){w(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Hi.logLevel=cv.VERBOSE,Mr=Hi.log.bind(Hi),t&&ig.set("logging_enabled",!0)):typeof e=="function"?Mr=e:(Mr=null,ig.remove("logging_enabled"))},Re=function(...e){if(NE===!0&&(NE=!1,Mr===null&&ig.get("logging_enabled")===!0&&uD(!0)),Mr){let t=qs.apply(null,e);Mr(t)}},Qs=function(e){return function(...t){Re(e,...t)}},og=function(...e){let t="FIREBASE INTERNAL ERROR: "+qs(...e);Hi.error(t)},Jt=function(...e){let t=`FIREBASE FATAL ERROR: ${qs(...e)}`;throw Hi.error(t),new Error(t)},je=function(...e){let t="FIREBASE WARNING: "+qs(...e);Hi.warn(t)},sk=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vu=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ak=function(e){if(Vt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},qn="[MIN_NAME]",bn="[MAX_NAME]",xr=function(e,t){if(e===t)return 0;if(e===qn||t===bn)return-1;if(t===qn||e===bn)return 1;{let n=RE(e),r=RE(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},lk=function(e,t){return e===t?0:e<t?-1:1},Is=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ee(t))},lm=function(e){if(typeof e!="object"||e===null)return Ee(e);let t=[];for(let r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=Ee(t[r]),n+=":",n+=lm(e[t[r]]);return n+="}",n},dD=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Oe(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var fD=function(e){w(!vu(e),"Invalid JSON number");let t=11,n=52,r=(1<<t-1)-1,i,o,s,a,l;e===0?(o=0,s=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},ck=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},uk=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dk(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var fk=new RegExp("^-?(0*)\\d{1,10}$"),hk=-2147483648,pk=2147483647,RE=function(e){if(fk.test(e)){let t=Number(e);if(t>=hk&&t<=pk)return t}return null},Xi=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw je("Exception was thrown by user callback.",n),t},Math.floor(0))}},gk=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ts=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var sg=class{constructor(t,n){this.appCheckProvider=n,this.appName=t.name,uv(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){je(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}};var ag=class{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Re("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',je(t)}},xs=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Wc="5",hD="v",pD="s",gD="r",mD="f",vD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yD="ls",_D="p",lg="ac",CD="websocket",wD="long_polling";var Gc=class{constructor(t,n,r,i,o=!1,s="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Sr.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Sr.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function mk(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function ED(e,t,n){w(typeof t=="string","typeof type must == string"),w(typeof n=="object","typeof params must == object");let r;if(t===CD)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===wD)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);mk(e)&&(n.ns=e.namespace);let i=[];return Oe(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var cg=class{constructor(){this.counters_={}}incrementCounter(t,n=1){ut(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Km(this.counters_)}};var Zp={},Yp={};function cm(e){let t=e.toString();return Zp[t]||(Zp[t]=new cg),Zp[t]}function vk(e,t){let n=e.toString();return Yp[n]||(Yp[n]=t()),Yp[n]}var ug=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Xi(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var OE="start",yk="close",_k="pLPCommand",Ck="pRTLPCB",DD="id",ID="pw",bD="ser",wk="cb",Ek="seg",Dk="ts",Ik="d",bk="dframe",SD=1870,MD=30,Sk=SD-MD,Mk=25e3,Tk=3e4,Os=class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qs(t),this.stats_=cm(n),this.urlFn=l=>(this.appCheckToken&&(l[lg]=this.appCheckToken),ED(n,wD,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ug(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Tk)),ak(()=>{if(this.isClosed_)return;this.scriptTagHolder=new dg((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===OE)this.id=a,this.password=l;else if(s===yk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[OE]="t",r[bD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[wk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[hD]=Wc,this.transportSessionId&&(r[pD]=this.transportSessionId),this.lastSessionId&&(r[yD]=this.lastSessionId),this.applicationId&&(r[_D]=this.applicationId),this.appCheckToken&&(r[lg]=this.appCheckToken),typeof location<"u"&&location.hostname&&vD.test(location.hostname)&&(r[gD]=mD);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Vt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ck()&&!uk()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Ee(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Ym(n),i=dD(r,Sk);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Vt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[bk]="t",r[DD]=t,r[ID]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Ee(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},dg=class e{constructor(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Vt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=lD(),window[_k+this.uniqueCallbackIdentifier]=t,window[Ck+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Re("frame writing exception"),a.stack&&Re(a.stack),Re(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Re("No IE domain setting required")}catch{let r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[DD]=this.myID,t[ID]=this.myPW,t[bD]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+MD+r.length<=SD;){let s=this.pendingSegs.shift();r=r+"&"+Ek+i+"="+s.seg+"&"+Dk+i+"="+s.ts+"&"+Ik+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(Mk)),o=()=>{clearTimeout(i),r()};this.addTag(t,o)}addTag(t,n){Vt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Re("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var xk=16384,Ak=45e3,qc=null;typeof MozWebSocket<"u"?qc=MozWebSocket:typeof WebSocket<"u"&&(qc=WebSocket);var Ui=(()=>{class e{constructor(n,r,i,o,s,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qs(this.connId),this.stats_=cm(r),this.connURL=e.connectionURL_(r,a,l,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[hD]=Wc,!Vt()&&typeof location<"u"&&location.hostname&&vD.test(location.hostname)&&(a[gD]=mD),r&&(a[pD]=r),i&&(a[yD]=i),o&&(a[lg]=o),s&&(a[_D]=s),ED(n,CD,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Sr.set("previous_websocket_failure",!0);try{let i;if(Vt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Wc}/${sm}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new qc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&qc!==null&&!e.forceDisallow_}static previouslyFailed(){return Sr.isInMemoryStorage||Sr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Sr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=la(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(w(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Ee(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=dD(r,xk);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Ak))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),TD=(()=>{class e{static get ALL_TRANSPORTS(){return[Os,Ui]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){let r=Ui&&Ui.isAvailable(),i=r&&!Ui.previouslyFailed();if(n.webSocketOnly&&(r||je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ui];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),Nk=6e4,Rk=5e3,Ok=10*1024,kk=100*1024,Kp="t",kE="d",Pk="s",PE="r",Fk="e",FE="o",LE="a",VE="n",jE="p",Lk="h",fg=class{constructor(t,n,r,i,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qs("c:"+this.id+":"),this.transportManager_=new TD(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Ts(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>kk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ok?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Kp in t){let n=t[Kp];n===LE?this.upgradeIfSecondaryHealthy_():n===PE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===FE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Is("t",t),r=Is("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:jE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:LE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:VE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Is("t",t),r=Is("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Is(Kp,t);if(kE in t){let r=t[kE];if(n===Lk){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===VE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Pk?this.onConnectionShutdown_(r):n===PE?this.onReset_(r):n===Fk?og("Server Error: "+r):n===FE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):og("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wc!==r&&je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ts(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(Nk))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ts(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Rk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:jE,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Sr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Qc=class{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}};var Zc=class{constructor(t){this.allowedEvents_=t,this.listeners_={},w(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});let i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);let i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(t){w(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Yc=class e extends Zc{static getInstance(){return new e}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hu()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return w(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var BE=32,UE=768,ne=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function te(){return new ne("")}function Q(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Qn(e){return e.pieces_.length-e.pieceNum_}function le(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ne(e.pieces_,t)}function um(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Vk(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function ks(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function xD(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ne(t,0)}function pe(e,t){let n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ne)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{let r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ne(n,0)}function Z(e){return e.pieceNum_>=e.pieces_.length}function qe(e,t){let n=Q(e),r=Q(t);if(n===null)return t;if(n===r)return qe(le(e),le(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function jk(e,t){let n=ks(e,0),r=ks(t,0);for(let i=0;i<n.length&&i<r.length;i++){let o=xr(n[i],r[i]);if(o!==0)return o}return n.length===r.length?0:n.length<r.length?-1:1}function dm(e,t){if(Qn(e)!==Qn(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ct(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Qn(e)>Qn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var hg=class{constructor(t,n){this.errorPrefix_=n,this.parts_=ks(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lo(this.parts_[r]);AD(this)}};function Bk(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=lo(t),AD(e)}function Uk(e){let t=e.parts_.pop();e.byteLength_-=lo(t),e.parts_.length>0&&(e.byteLength_-=1)}function AD(e){if(e.byteLength_>UE)throw new Error(e.errorPrefix_+"has a key path longer than "+UE+" bytes ("+e.byteLength_+").");if(e.parts_.length>BE)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+BE+") or object contains a cycle "+br(e))}function br(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var pg=class e extends Zc{static getInstance(){return new e}constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(t){return w(t==="visible","Unknown event type: "+t),[this.visible_]}};var bs=1e3,$k=60*5*1e3,$E=30*1e3,Hk=1.3,zk=3e4,Wk="server_kill",HE=3,fm=(()=>{class e extends Qc{constructor(n,r,i,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=Qs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bs,this.maxReconnectDelay_=$k,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Vt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pg.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Yc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(Ee(s)),w(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Ae,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),w(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&ut(n,"w")){let i=Mn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||iv(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=$E)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=rv(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),w(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ee(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):og("Unrecognized action received from server: "+Ee(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){w(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=bs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>zk&&(this.reconnectDelay_=bs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_),r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Hk)}this.onConnectStatus_(!1)}establishConnection_(){return oe(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){w(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Re("getToken() completed but was canceled"):(Re("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new fg(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{je(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Wk)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&je(f),c())}}})}interrupt(n){Re("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Re("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ca(this.interruptReasons_)&&(this.reconnectDelay_=bs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>lm(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ne(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Re("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=HE&&(this.reconnectDelay_=$E,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Re("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=HE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Vt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+sm.replace(/\./g,"-")]=1,Hu()?n["framework.cordova"]=1:ev()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Yc.getInstance().currentlyOnline();return ca(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),Y=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var zi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let r=new Y(qn,t),i=new Y(qn,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}};var zc,Kc=class extends zi{static get __EMPTY_NODE(){return zc}static set __EMPTY_NODE(t){zc=t}compare(t,n){return xr(t.name,n.name)}isDefinedOn(t){throw Fr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(bn,zc)}makePost(t,n){return w(typeof t=="string","KeyIndex indexValue must always be a string."),new Y(t,zc)}toString(){return".key"}},Xt=new Kc;var $i=class{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?r(t.key,n):1,i&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},Ft=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??wt.EMPTY_NODE,this.right=s??wt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return wt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return wt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),gg=class{copy(t,n,r,i,o){return this}insert(t,n,r){return new Ft(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},wt=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ft.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ft.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new $i(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new $i(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new $i(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new $i(this.root_,null,this.comparator_,!0,t)}};wt.EMPTY_NODE=new gg;function Gk(e,t){return xr(e.name,t.name)}function hm(e,t){return xr(e,t)}var mg;function qk(e){mg=e}var ND=function(e){return typeof e=="number"?"number:"+fD(e):"string:"+e},RD=function(e){if(e.isLeafNode()){let t=e.val();w(typeof t=="string"||typeof t=="number"||typeof t=="object"&&ut(t,".sv"),"Priority must be a string or number.")}else w(e===mg||e.isEmpty(),"priority of unexpected type.");w(e===mg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var zE,Wi=(()=>{class e{static set __childrenNodeConstructor(n){zE=n}static get __childrenNodeConstructor(){return zE}constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,w(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),RD(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Z(n)?this:Q(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=Q(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(w(i!==".priority"||Qn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+ND(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=fD(this.value_):n+=this.value_,this.lazyHash_=cD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(w(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return w(o>=0,"Unknown leaf type: "+r),w(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),OD,kD;function Qk(e){OD=e}function Zk(e){kD=e}var vg=class extends zi{compare(t,n){let r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?xr(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(bn,new Wi("[PRIORITY-POST]",kD))}makePost(t,n){let r=OD(t);return new Y(n,new Wi("[PRIORITY-POST]",r))}toString(){return".priority"}},ue=new vg;var Yk=Math.log(2),yg=class{constructor(t){let n=o=>parseInt(Math.log(o)/Yk,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Xc=function(e,t,n,r){e.sort(t);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=e[l],f=n?n(d):d,new Ft(f,d.node,Ft.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=i(l,h),g=i(h+1,c);return d=e[h],f=n?n(d):d,new Ft(f,d.node,Ft.BLACK,p,g)}},o=function(l){let c=null,u=null,d=e.length,f=function(p,g){let y=d-p,I=d;d-=p;let z=i(y+1,I),_=e[y],M=n?n(_):_;h(new Ft(M,_.node,g,null,z))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),y=Math.pow(2,l.count-(p+1));g?f(y,Ft.BLACK):(f(y,Ft.BLACK),f(y,Ft.RED))}return u},s=new yg(e.length),a=o(s);return new wt(r||t,a)};var Xp,Bi={},Gi=class e{static get Default(){return w(Bi&&ue,"ChildrenNode.ts has not been loaded"),Xp=Xp||new e({".priority":Bi},{".priority":ue}),Xp}constructor(t,n){this.indexes_=t,this.indexSet_=n}get(t){let n=Mn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof wt?n:null}hasIndex(t){return ut(this.indexSet_,t.toString())}addIndex(t,n){w(t!==Xt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(Y.Wrap),s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Xc(r,t.getCompare()):a=Bi;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let r=ao(this.indexes_,(i,o)=>{let s=Mn(this.indexSet_,o);if(w(s,"Missing index implementation for "+o),i===Bi)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(Y.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),Xc(a,s.getCompare())}else return Bi;else{let a=n.get(t.name),l=i;return a&&(l=l.remove(new Y(t.name,a))),l.insert(t,t.node)}});return new e(r,this.indexSet_)}removeFromIndexes(t,n){let r=ao(this.indexes_,i=>{if(i===Bi)return i;{let o=n.get(t.name);return o?i.remove(new Y(t.name,o)):i}});return new e(r,this.indexSet_)}};var Ss,B=(()=>{class e{static get EMPTY_NODE(){return Ss||(Ss=new e(new wt(hm),null,Gi.Default))}constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&RD(this.priorityNode_),this.children_.isEmpty()&&w(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ss}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ss:r}}getChild(n){let r=Q(n);return r===null?this:this.getImmediateChild(r).getChild(le(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(w(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Y(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Ss:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){let i=Q(n);if(i===null)return r;{w(Q(n)!==".priority"||Qn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(le(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ue,(a,l)=>{r[a]=l.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+ND(this.getPriority().val())+":"),this.forEachChild(ue,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":cD(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new Y(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Y(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Y(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,Y.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Zs?-1:0}withIndex(n){if(n===Xt||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===Xt||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ue),o=r.getIterator(ue),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Xt?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),_g=class extends B{constructor(){super(new wt(hm),B.EMPTY_NODE,Gi.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return B.EMPTY_NODE}isEmpty(){return!1}},Zs=new _g;Object.defineProperties(Y,{MIN:{value:new Y(qn,B.EMPTY_NODE)},MAX:{value:new Y(bn,Zs)}});Kc.__EMPTY_NODE=B.EMPTY_NODE;Wi.__childrenNodeConstructor=B;qk(Zs);Zk(Zs);var Kk=!0;function me(e,t=null){if(e===null)return B.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),w(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Wi(n,me(t))}if(!(e instanceof Array)&&Kk){let n=[],r=!1;if(Oe(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=me(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(s,l)))}}),n.length===0)return B.EMPTY_NODE;let o=Xc(n,Gk,s=>s.name,hm);if(r){let s=Xc(n,ue.getCompare());return new B(o,me(t),new Gi({".priority":s},{".priority":ue}))}else return new B(o,me(t),Gi.Default)}else{let n=B.EMPTY_NODE;return Oe(e,(r,i)=>{if(ut(e,r)&&r.substring(0,1)!=="."){let o=me(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(me(t))}}Qk(me);var Ps=class extends zi{constructor(t){super(),this.indexPath_=t,w(!Z(t)&&Q(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?xr(t.name,n.name):o}makePost(t,n){let r=me(t),i=B.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){let t=B.EMPTY_NODE.updateChild(this.indexPath_,Zs);return new Y(bn,t)}toString(){return ks(this.indexPath_,0).join("/")}};var Cg=class extends zi{compare(t,n){let r=t.node.compareTo(n.node);return r===0?xr(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(t,n){let r=me(t);return new Y(n,r)}toString(){return".value"}},pm=new Cg;function PD(e){return{type:"value",snapshotNode:e}}function qi(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Fs(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ls(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Xk(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Vs=class{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){w(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Fs(n,a)):w(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(qi(n,r)):s.trackChildChange(Ls(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(ue,(i,o)=>{n.hasChild(i)||r.trackChildChange(Fs(i,o))}),n.isLeafNode()||n.forEachChild(ue,(i,o)=>{if(t.hasChild(i)){let s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Ls(i,o,s))}else r.trackChildChange(qi(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?B.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Jc=class e{constructor(t){this.indexedFilter_=new Vs(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new Y(n,r))||(r=B.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=B.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(B.EMPTY_NODE);let o=this;return n.forEachChild(ue,(s,a)=>{o.matches(new Y(s,a))||(i=i.updateImmediateChild(s,B.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var wg=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Jc(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new Y(n,r))||(r=B.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=B.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=B.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(B.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,B.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=t;w(a.numChildren()===this.limit_,"");let l=new Y(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,c,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,l);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Ls(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Fs(n,d));let g=a.updateImmediateChild(n,B.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(qi(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Fs(c.name,c.node)),o.trackChildChange(qi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,B.EMPTY_NODE)):t}};var js=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ue}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return w(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return w(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qn}hasEnd(){return this.endSet_}getIndexEndValue(){return w(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return w(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return w(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ue}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function Jk(e){return e.loadsAllData()?new Vs(e.getIndex()):e.hasLimit()?new wg(e):new Jc(e)}function eP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function tP(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function Eg(e,t,n){let r=e.copy();return r.startSet_=!0,t===void 0&&(t=null),r.indexStartValue_=t,n!=null?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function nP(e,t,n){let r;return e.index_===Xt||n?r=Eg(e,t,n):r=Eg(e,t,bn),r.startAfterSet_=!0,r}function Dg(e,t,n){let r=e.copy();return r.endSet_=!0,t===void 0&&(t=null),r.indexEndValue_=t,n!==void 0?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function rP(e,t,n){let r;return e.index_===Xt||n?r=Dg(e,t,n):r=Dg(e,t,qn),r.endBeforeSet_=!0,r}function yu(e,t){let n=e.copy();return n.index_=t,n}function WE(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ue?n="$priority":e.index_===pm?n="$value":e.index_===Xt?n="$key":(w(e.index_ instanceof Ps,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ee(n),e.startSet_){let r=e.startAfterSet_?"startAfter":"startAt";t[r]=Ee(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+Ee(e.indexStartName_))}if(e.endSet_){let r=e.endBeforeSet_?"endBefore":"endAt";t[r]=Ee(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+Ee(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function GE(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ue&&(t.i=e.index_.toString()),t}var Ig=class e extends Qc{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(w(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Qs("p:rest:"),this.listens_={}}listen(t,n,r,i){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,r),a={};this.listens_[s]=a;let l=WE(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,r),Mn(this.listens_,s)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(t,n){let r=e.getListenId_(t,n);delete this.listens_[r]}get(t){let n=WE(t._queryParams),r=t._path.toString(),i=new Ae;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+sv(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=la(a.responseText)}catch{je("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&je("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var bg=class{constructor(){this.rootNode_=B.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function eu(){return{value:null,children:new Map}}function Ji(e,t,n){if(Z(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let r=Q(t);e.children.has(r)||e.children.set(r,eu());let i=e.children.get(r);t=le(t),Ji(i,t,n)}}function Sg(e,t){if(Z(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(ue,(r,i)=>{Ji(e,new ne(r),i)}),Sg(e,t)}}else if(e.children.size>0){let n=Q(t);return t=le(t),e.children.has(n)&&Sg(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Mg(e,t,n){e.value!==null?n(t,e.value):iP(e,(r,i)=>{let o=new ne(t.toString()+"/"+r);Mg(i,o,n)})}function iP(e,t){e.children.forEach((n,r)=>{t(r,n)})}var Tg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Oe(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}};var qE=10*1e3,oP=30*1e3,sP=5*60*1e3,xg=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Tg(t);let r=qE+(oP-qE)*Math.random();Ts(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let t=this.statsListener_.get(),n={},r=!1;Oe(t,(i,o)=>{o>0&&ut(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Ts(this.reportStats_.bind(this),Math.floor(Math.random()*2*sP))}};var Kt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Kt||{});function gm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function mm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function vm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Ag=class e{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Kt.ACK_USER_WRITE,this.source=gm()}operationForChild(t){if(Z(this.path)){if(this.affectedTree.value!=null)return w(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ne(t));return new e(te(),n,this.revert)}}else return w(Q(this.path)===t,"operationForChild called for unrelated child."),new e(le(this.path),this.affectedTree,this.revert)}};var tu=class e{constructor(t,n){this.source=t,this.path=n,this.type=Kt.LISTEN_COMPLETE}operationForChild(t){return Z(this.path)?new e(this.source,te()):new e(this.source,le(this.path))}};var Qi=class e{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Kt.OVERWRITE}operationForChild(t){return Z(this.path)?new e(this.source,te(),this.snap.getImmediateChild(t)):new e(this.source,le(this.path),this.snap)}};var Bs=class e{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Kt.MERGE}operationForChild(t){if(Z(this.path)){let n=this.children.subtree(new ne(t));return n.isEmpty()?null:n.value?new Qi(this.source,te(),n.value):new e(this.source,te(),n)}else return w(Q(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var en=class{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Z(t))return this.isFullyInitialized()&&!this.filtered_;let n=Q(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Ng=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function aP(e,t,n,r){let i=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Xk(s.childName,s.snapshotNode))}),Ms(e,i,"child_removed",t,r,n),Ms(e,i,"child_added",t,r,n),Ms(e,i,"child_moved",o,r,n),Ms(e,i,"child_changed",t,r,n),Ms(e,i,"value",t,r,n),i}function Ms(e,t,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,l)=>cP(e,a,l)),s.forEach(a=>{let l=lP(e,a,o);i.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function lP(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function cP(e,t,n){if(t.childName==null||n.childName==null)throw Fr("Should only compare child_ events.");let r=new Y(t.childName,t.snapshotNode),i=new Y(n.childName,n.snapshotNode);return e.index_.compare(r,i)}function _u(e,t){return{eventCache:e,serverCache:t}}function As(e,t,n,r){return _u(new en(t,n,r),e.serverCache)}function FD(e,t,n,r){return _u(e.eventCache,new en(t,n,r))}function nu(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Tr(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var Jp,uP=()=>(Jp||(Jp=new wt(lk)),Jp),Qe=class e{static fromObject(t){let n=new e(null);return Oe(t,(r,i)=>{n=n.set(new ne(r),i)}),n}constructor(t,n=uP()){this.value=t,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:te(),value:this.value};if(Z(t))return null;{let r=Q(t),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(le(t),n);return o!=null?{path:pe(new ne(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Z(t))return this;{let n=Q(t),r=this.children.get(n);return r!==null?r.subtree(le(t)):new e(null)}}set(t,n){if(Z(t))return new e(n,this.children);{let r=Q(t),o=(this.children.get(r)||new e(null)).set(le(t),n),s=this.children.insert(r,o);return new e(this.value,s)}}remove(t){if(Z(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=Q(t),r=this.children.get(n);if(r){let i=r.remove(le(t)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(Z(t))return this.value;{let n=Q(t),r=this.children.get(n);return r?r.get(le(t)):null}}setTree(t,n){if(Z(t))return n;{let r=Q(t),o=(this.children.get(r)||new e(null)).setTree(le(t),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new e(this.value,s)}}fold(t){return this.fold_(te(),t)}fold_(t,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(pe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,te(),n)}findOnPath_(t,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(Z(t))return null;{let o=Q(t),s=this.children.get(o);return s?s.findOnPath_(le(t),pe(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,te(),n)}foreachOnPath_(t,n,r){if(Z(t))return this;{this.value&&r(n,this.value);let i=Q(t),o=this.children.get(i);return o?o.foreachOnPath_(le(t),pe(n,i),r):new e(null)}}foreach(t){this.foreach_(te(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(pe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}};var Lt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Qe(null))}};function Ns(e,t,n){if(Z(t))return new Lt(new Qe(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){let i=r.path,o=r.value,s=qe(i,t);return o=o.updateChild(s,n),new Lt(e.writeTree_.set(i,o))}else{let i=new Qe(n),o=e.writeTree_.setTree(t,i);return new Lt(o)}}}function Rg(e,t,n){let r=e;return Oe(n,(i,o)=>{r=Ns(r,pe(t,i),o)}),r}function QE(e,t){if(Z(t))return Lt.empty();{let n=e.writeTree_.setTree(t,new Qe(null));return new Lt(n)}}function Og(e,t){return Ar(e,t)!=null}function Ar(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(qe(n.path,t)):null}function ZE(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ue,(r,i)=>{t.push(new Y(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Y(r,i.value))}),t}function Wn(e,t){if(Z(t))return e;{let n=Ar(e,t);return n!=null?new Lt(new Qe(n)):new Lt(e.writeTree_.subtree(t))}}function kg(e){return e.writeTree_.isEmpty()}function Zi(e,t){return LD(te(),e.writeTree_,t)}function LD(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{i===".priority"?(w(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=LD(pe(e,i),o,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(pe(e,".priority"),r)),n}}function Cu(e,t){return UD(t,e)}function dP(e,t,n,r,i){w(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Ns(e.visibleWrites,t,n)),e.lastWriteId=r}function fP(e,t,n,r){w(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=Rg(e.visibleWrites,t,n),e.lastWriteId=r}function hP(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}function pP(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);w(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&gP(a,r.path)?i=!1:Ct(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return mP(e),!0;if(r.snap)e.visibleWrites=QE(e.visibleWrites,r.path);else{let a=r.children;Oe(a,l=>{e.visibleWrites=QE(e.visibleWrites,pe(r.path,l))})}return!0}else return!1}function gP(e,t){if(e.snap)return Ct(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&Ct(pe(e.path,n),t))return!0;return!1}function mP(e){e.visibleWrites=VD(e.allWrites,vP,te()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function vP(e){return e.visible}function VD(e,t,n){let r=Lt.empty();for(let i=0;i<e.length;++i){let o=e[i];if(t(o)){let s=o.path,a;if(o.snap)Ct(n,s)?(a=qe(n,s),r=Ns(r,a,o.snap)):Ct(s,n)&&(a=qe(s,n),r=Ns(r,te(),o.snap.getChild(a)));else if(o.children){if(Ct(n,s))a=qe(n,s),r=Rg(r,a,o.children);else if(Ct(s,n))if(a=qe(s,n),Z(a))r=Rg(r,te(),o.children);else{let l=Mn(o.children,Q(a));if(l){let c=l.getChild(le(a));r=Ns(r,te(),c)}}}else throw Fr("WriteRecord should have .snap or .children")}}return r}function jD(e,t,n,r,i){if(!r&&!i){let o=Ar(e.visibleWrites,t);if(o!=null)return o;{let s=Wn(e.visibleWrites,t);if(kg(s))return n;if(n==null&&!Og(s,te()))return null;{let a=n||B.EMPTY_NODE;return Zi(s,a)}}}else{let o=Wn(e.visibleWrites,t);if(!i&&kg(o))return n;if(!i&&n==null&&!Og(o,te()))return null;{let s=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Ct(c.path,t)||Ct(t,c.path))},a=VD(e.allWrites,s,t),l=n||B.EMPTY_NODE;return Zi(a,l)}}}function yP(e,t,n){let r=B.EMPTY_NODE,i=Ar(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(ue,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Wn(e.visibleWrites,t);return n.forEachChild(ue,(s,a)=>{let l=Zi(Wn(o,new ne(s)),a);r=r.updateImmediateChild(s,l)}),ZE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Wn(e.visibleWrites,t);return ZE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function _P(e,t,n,r,i){w(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=pe(t,n);if(Og(e.visibleWrites,o))return null;{let s=Wn(e.visibleWrites,o);return kg(s)?i.getChild(n):Zi(s,i.getChild(n))}}function CP(e,t,n,r){let i=pe(t,n),o=Ar(e.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Wn(e.visibleWrites,i);return Zi(s,r.getNode().getImmediateChild(n))}else return null}function wP(e,t){return Ar(e.visibleWrites,t)}function EP(e,t,n,r,i,o,s){let a,l=Wn(e.visibleWrites,t),c=Ar(l,te());if(c!=null)a=c;else if(n!=null)a=Zi(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function DP(){return{visibleWrites:Lt.empty(),allWrites:[],lastWriteId:-1}}function ru(e,t,n,r){return jD(e.writeTree,e.treePath,t,n,r)}function ym(e,t){return yP(e.writeTree,e.treePath,t)}function YE(e,t,n,r){return _P(e.writeTree,e.treePath,t,n,r)}function iu(e,t){return wP(e.writeTree,pe(e.treePath,t))}function IP(e,t,n,r,i,o){return EP(e.writeTree,e.treePath,t,n,r,i,o)}function _m(e,t,n){return CP(e.writeTree,e.treePath,t,n)}function BD(e,t){return UD(pe(e.treePath,t),e.writeTree)}function UD(e,t){return{treePath:e,writeTree:t}}var Pg=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,r=t.childName;w(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),w(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Ls(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Fs(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,qi(r,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Ls(r,t.snapshotNode,i.oldSnap));else throw Fr("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}};var Fg=class{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}},$D=new Fg,Us=class{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let r=this.optCompleteServerCache_!=null?new en(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return _m(this.writes_,t,r)}}getChildAfterChild(t,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Tr(this.viewCache_),o=IP(this.writes_,i,n,1,r,t);return o.length===0?null:o[0]}};function bP(e){return{filter:e}}function SP(e,t){w(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),w(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function MP(e,t,n,r,i){let o=new Pg,s,a;if(n.type===Kt.OVERWRITE){let c=n;c.source.fromUser?s=Lg(e,t,c.path,c.snap,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!Z(c.path),s=ou(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===Kt.MERGE){let c=n;c.source.fromUser?s=xP(e,t,c.path,c.children,r,i,o):(w(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Vg(e,t,c.path,c.children,r,i,a,o))}else if(n.type===Kt.ACK_USER_WRITE){let c=n;c.revert?s=RP(e,t,c.path,r,i,o):s=AP(e,t,c.path,c.affectedTree,r,i,o)}else if(n.type===Kt.LISTEN_COMPLETE)s=NP(e,t,n.path,r,o);else throw Fr("Unknown operation type: "+n.type);let l=o.getChanges();return TP(t,s,l),{viewCache:s,changes:l}}function TP(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=nu(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(PD(nu(t)))}}function HD(e,t,n,r,i,o){let s=t.eventCache;if(iu(r,n)!=null)return t;{let a,l;if(Z(n))if(w(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=Tr(t),u=c instanceof B?c:B.EMPTY_NODE,d=ym(r,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=ru(r,Tr(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=Q(n);if(c===".priority"){w(Qn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=YE(r,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=le(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let f=YE(r,n,s.getNode(),l);f!=null?d=s.getNode().getImmediateChild(c).updateChild(u,f):d=s.getNode().getImmediateChild(c)}else d=_m(r,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,i,o):a=s.getNode()}}return As(t,a,s.isFullyInitialized()||Z(n),e.filter.filtersNodes())}}function ou(e,t,n,r,i,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(Z(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=Q(n);if(!l.isCompleteForPath(n)&&Qn(n)>1)return t;let p=le(n),y=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),h,y,p,$D,null)}let d=FD(t,c,l.isFullyInitialized()||Z(n),u.filtersNodes()),f=new Us(i,d,o);return HD(e,d,n,i,f,a)}function Lg(e,t,n,r,i,o,s){let a=t.eventCache,l,c,u=new Us(i,t,o);if(Z(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),l=As(t,c,!0,e.filter.filtersNodes());else{let d=Q(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),r),l=As(t,c,a.isFullyInitialized(),a.isFiltered());else{let f=le(n),h=a.getNode().getImmediateChild(d),p;if(Z(f))p=r;else{let g=u.getCompleteChild(d);g!=null?um(f)===".priority"&&g.getChild(xD(f)).isEmpty()?p=g:p=g.updateChild(f,r):p=B.EMPTY_NODE}if(h.equals(p))l=t;else{let g=e.filter.updateChild(a.getNode(),d,p,f,u,s);l=As(t,g,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function KE(e,t){return e.eventCache.isCompleteForChild(t)}function xP(e,t,n,r,i,o,s){let a=t;return r.foreach((l,c)=>{let u=pe(n,l);KE(t,Q(u))&&(a=Lg(e,a,u,c,i,o,s))}),r.foreach((l,c)=>{let u=pe(n,l);KE(t,Q(u))||(a=Lg(e,a,u,c,i,o,s))}),a}function XE(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function Vg(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;Z(n)?c=r:c=new Qe(null).setTree(n,r);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=XE(e,h,f);l=ou(e,l,new ne(d),p,i,o,s,a)}}),c.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),g=XE(e,p,f);l=ou(e,l,new ne(d),g,i,o,s,a)}}),l}function AP(e,t,n,r,i,o,s){if(iu(i,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Z(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return ou(e,t,n,l.getNode().getChild(n),i,o,a,s);if(Z(n)){let c=new Qe(null);return l.getNode().forEachChild(Xt,(u,d)=>{c=c.set(new ne(u),d)}),Vg(e,t,n,c,i,o,a,s)}else return t}else{let c=new Qe(null);return r.foreach((u,d)=>{let f=pe(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Vg(e,t,n,c,i,o,a,s)}}function NP(e,t,n,r,i){let o=t.serverCache,s=FD(t,o.getNode(),o.isFullyInitialized()||Z(n),o.isFiltered());return HD(e,s,n,r,$D,i)}function RP(e,t,n,r,i,o){let s;if(iu(r,n)!=null)return t;{let a=new Us(r,t,i),l=t.eventCache.getNode(),c;if(Z(n)||Q(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=ru(r,Tr(t));else{let d=t.serverCache.getNode();w(d instanceof B,"serverChildren would be complete if leaf node"),u=ym(r,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=Q(n),d=_m(r,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,le(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,B.EMPTY_NODE,le(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ru(r,Tr(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||iu(r,te())!=null,As(t,c,s,e.filter.filtersNodes())}}var jg=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Vs(r.getIndex()),o=Jk(r);this.processor_=bP(o);let s=n.serverCache,a=n.eventCache,l=i.updateFullNode(B.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(B.EMPTY_NODE,a.getNode(),null),u=new en(l,s.isFullyInitialized(),i.filtersNodes()),d=new en(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=_u(d,u),this.eventGenerator_=new Ng(this.query_)}get query(){return this.query_}};function OP(e){return e.viewCache_.serverCache.getNode()}function kP(e){return nu(e.viewCache_)}function PP(e,t){let n=Tr(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Z(t)&&!n.getImmediateChild(Q(t)).isEmpty())?n.getChild(t):null}function JE(e){return e.eventRegistrations_.length===0}function FP(e,t){e.eventRegistrations_.push(t)}function eD(e,t,n){let r=[];if(n){w(t==null,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))i.push(s);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function tD(e,t,n,r){t.type===Kt.MERGE&&t.source.queryId!==null&&(w(Tr(e.viewCache_),"We should always have a full cache before handling merges"),w(nu(e.viewCache_),"Missing event cache, even though we have a server cache"));let i=e.viewCache_,o=MP(e.processor_,i,t,n,r);return SP(e.processor_,o.viewCache),w(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,zD(e,o.changes,o.viewCache.eventCache.getNode(),null)}function LP(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ue,(o,s)=>{r.push(qi(o,s))}),n.isFullyInitialized()&&r.push(PD(n.getNode())),zD(e,r,n.getNode(),t)}function zD(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return aP(e.eventGenerator_,t,n,i)}var su,au=class{constructor(){this.views=new Map}};function VP(e){w(!su,"__referenceConstructor has already been defined"),su=e}function jP(){return w(su,"Reference.ts has not been loaded"),su}function BP(e){return e.views.size===0}function Cm(e,t,n,r){let i=t.source.queryId;if(i!==null){let o=e.views.get(i);return w(o!=null,"SyncTree gave us an op for an invalid query."),tD(o,t,n,r)}else{let o=[];for(let s of e.views.values())o=o.concat(tD(s,t,n,r));return o}}function WD(e,t,n,r,i){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=ru(n,i?r:null),l=!1;a?l=!0:r instanceof B?(a=ym(n,r),l=!1):(a=B.EMPTY_NODE,l=!1);let c=_u(new en(a,l,!1),new en(r,i,!1));return new jg(t,c)}return s}function UP(e,t,n,r,i,o){let s=WD(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),FP(s,n),LP(s,n)}function $P(e,t,n,r){let i=t._queryIdentifier,o=[],s=[],a=Zn(e);if(i==="default")for(let[l,c]of e.views.entries())s=s.concat(eD(c,n,r)),JE(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(i);l&&(s=s.concat(eD(l,n,r)),JE(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Zn(e)&&o.push(new(jP())(t._repo,t._path)),{removed:o,events:s}}function GD(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Gn(e,t){let n=null;for(let r of e.views.values())n=n||PP(r,t);return n}function qD(e,t){if(t._queryParams.loadsAllData())return wu(e);{let r=t._queryIdentifier;return e.views.get(r)}}function QD(e,t){return qD(e,t)!=null}function Zn(e){return wu(e)!=null}function wu(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var lu;function HP(e){w(!lu,"__referenceConstructor has already been defined"),lu=e}function zP(){return w(lu,"Reference.ts has not been loaded"),lu}var WP=1,cu=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Qe(null),this.pendingWriteTree_=DP(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function wm(e,t,n,r,i){return dP(e.pendingWriteTree_,t,n,r,i),i?eo(e,new Qi(gm(),t,n)):[]}function GP(e,t,n,r){fP(e.pendingWriteTree_,t,n,r);let i=Qe.fromObject(n);return eo(e,new Bs(gm(),t,i))}function zn(e,t,n=!1){let r=hP(e.pendingWriteTree_,t);if(pP(e.pendingWriteTree_,t)){let o=new Qe(null);return r.snap!=null?o=o.set(te(),!0):Oe(r.children,s=>{o=o.set(new ne(s),!0)}),eo(e,new Ag(r.path,o,n))}else return[]}function Ys(e,t,n){return eo(e,new Qi(mm(),t,n))}function qP(e,t,n){let r=Qe.fromObject(n);return eo(e,new Bs(mm(),t,r))}function QP(e,t){return eo(e,new tu(mm(),t))}function ZP(e,t,n){let r=Em(e,n);if(r){let i=Dm(r),o=i.path,s=i.queryId,a=qe(o,t),l=new tu(vm(s),a);return Im(e,o,l)}else return[]}function uu(e,t,n,r,i=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||QD(s,t))){let l=$P(s,t,n,r);BP(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!i){let u=c.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(f,h)=>Zn(h));if(u&&!d){let f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=XP(f);for(let p=0;p<h.length;++p){let g=h[p],y=g.query,I=XD(e,g);e.listenProvider_.startListening(Rs(y),$s(e,y),I.hashFn,I.onComplete)}}}!d&&c.length>0&&!r&&(u?e.listenProvider_.stopListening(Rs(t),null):c.forEach(f=>{let h=e.queryToTagMap.get(Du(f));e.listenProvider_.stopListening(Rs(f),h)}))}JP(e,c)}return a}function ZD(e,t,n,r){let i=Em(e,r);if(i!=null){let o=Dm(i),s=o.path,a=o.queryId,l=qe(s,t),c=new Qi(vm(a),l,n);return Im(e,s,c)}else return[]}function YP(e,t,n,r){let i=Em(e,r);if(i){let o=Dm(i),s=o.path,a=o.queryId,l=qe(s,t),c=Qe.fromObject(n),u=new Bs(vm(a),l,c);return Im(e,s,u)}else return[]}function Bg(e,t,n,r=!1){let i=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=qe(f,i);o=o||Gn(h,p),s=s||Zn(h)});let a=e.syncPointTree_.get(i);a?(s=s||Zn(a),o=o||Gn(a,te())):(a=new au,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;o!=null?l=!0:(l=!1,o=B.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,p)=>{let g=Gn(p,te());g&&(o=o.updateImmediateChild(h,g))}));let c=QD(a,t);if(!c&&!t._queryParams.loadsAllData()){let f=Du(t);w(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=eF();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Cu(e.pendingWriteTree_,i),d=UP(a,t,n,u,o,l);if(!c&&!s&&!r){let f=qD(a,t);d=d.concat(tF(e,t,f))}return d}function Eu(e,t,n){let i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=qe(s,t),c=Gn(a,l);if(c)return c});return jD(i,t,o,n,!0)}function KP(e,t){let n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=qe(c,n);r=r||Gn(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Gn(i,te()):(i=new au,e.syncPointTree_=e.syncPointTree_.set(n,i));let o=r!=null,s=o?new en(r,!0,!1):null,a=Cu(e.pendingWriteTree_,t._path),l=WD(i,t,a,o?s.getNode():B.EMPTY_NODE,o);return kP(l)}function eo(e,t){return YD(t,e.syncPointTree_,null,Cu(e.pendingWriteTree_,te()))}function YD(e,t,n,r){if(Z(e.path))return KD(e,t,n,r);{let i=t.get(te());n==null&&i!=null&&(n=Gn(i,te()));let o=[],s=Q(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=BD(r,s);o=o.concat(YD(a,l,c,u))}return i&&(o=o.concat(Cm(i,e,r,n))),o}}function KD(e,t,n,r){let i=t.get(te());n==null&&i!=null&&(n=Gn(i,te()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=BD(r,s),u=e.operationForChild(s);u&&(o=o.concat(KD(u,a,l,c)))}),i&&(o=o.concat(Cm(i,e,r,n))),o}function XD(e,t){let n=t.query,r=$s(e,n);return{hashFn:()=>(OP(t)||B.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ZP(e,n._path,r):QP(e,n._path);{let o=dk(i,n);return uu(e,n,null,o)}}}}function $s(e,t){let n=Du(t);return e.queryToTagMap.get(n)}function Du(e){return e._path.toString()+"$"+e._queryIdentifier}function Em(e,t){return e.tagToQueryMap.get(t)}function Dm(e){let t=e.indexOf("$");return w(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ne(e.substr(0,t))}}function Im(e,t,n){let r=e.syncPointTree_.get(t);w(r,"Missing sync point for query tag that we're tracking");let i=Cu(e.pendingWriteTree_,t);return Cm(r,n,i,null)}function XP(e){return e.fold((t,n,r)=>{if(n&&Zn(n))return[wu(n)];{let i=[];return n&&(i=GD(n)),Oe(r,(o,s)=>{i=i.concat(s)}),i}})}function Rs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(zP())(e._repo,e._path):e}function JP(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let i=Du(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function eF(){return WP++}function tF(e,t,n){let r=t._path,i=$s(e,t),o=XD(e,n),s=e.listenProvider_.startListening(Rs(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)w(!Zn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!Z(c)&&u&&Zn(u))return[wu(u).query];{let f=[];return u&&(f=f.concat(GD(u).map(h=>h.query))),Oe(d,(h,p)=>{f=f.concat(p)}),f}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Rs(u),$s(e,u))}}return s}var Ug=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},$g=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=pe(this.path_,t);return new e(this.syncTree_,n)}node(){return Eu(this.syncTree_,this.path_)}},nF=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},nD=function(e,t,n){if(!e||typeof e!="object")return e;if(w(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return rF(e[".sv"],t,n);if(typeof e[".sv"]=="object")return iF(e[".sv"],t);w(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},rF=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:w(!1,"Unexpected server value: "+e)}},iF=function(e,t,n){e.hasOwnProperty("increment")||w(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;typeof r!="number"&&w(!1,"Unexpected increment value: "+r);let i=t.node();if(w(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},JD=function(e,t,n,r){return Sm(t,new $g(n,e),r)},bm=function(e,t,n){return Sm(e,new Ug(t),n)};function Sm(e,t,n){let r=e.getPriority().val(),i=nD(r,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=nD(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Wi(a,me(i)):e}else{let s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Wi(i))),s.forEachChild(ue,(a,l)=>{let c=Sm(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Hs=class{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}};function Iu(e,t){let n=t instanceof ne?t:new ne(t),r=e,i=Q(n);for(;i!==null;){let o=Mn(r.node.children,i)||{children:{},childCount:0};r=new Hs(i,r,o),n=le(n),i=Q(n)}return r}function Nr(e){return e.node.value}function Mm(e,t){e.node.value=t,Hg(e)}function eI(e){return e.node.childCount>0}function oF(e){return Nr(e)===void 0&&!eI(e)}function bu(e,t){Oe(e.node.children,(n,r)=>{t(new Hs(n,e,r))})}function tI(e,t,n,r){n&&!r&&t(e),bu(e,i=>{tI(i,t,!0,r)}),n&&r&&t(e)}function sF(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function Ks(e){return new ne(e.parent===null?e.name:Ks(e.parent)+"/"+e.name)}function Hg(e){e.parent!==null&&aF(e.parent,e.name,e)}function aF(e,t,n){let r=oF(n),i=ut(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Hg(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,Hg(e))}var lF=/[\[\].#$\/\u0000-\u001F\u007F]/,cF=/[\[\].#$\u0000-\u001F\u007F]/,eg=10*1024*1024,Su=function(e){return typeof e=="string"&&e.length!==0&&!lF.test(e)},nI=function(e){return typeof e=="string"&&e.length!==0&&!cF.test(e)},uF=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),nI(e)},zs=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!vu(e)||e&&typeof e=="object"&&ut(e,".sv")},tn=function(e,t,n,r){r&&t===void 0||Xs(Ye(e,"value"),t,n)},Xs=function(e,t,n){let r=n instanceof ne?new hg(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+br(r));if(typeof t=="function")throw new Error(e+"contains a function "+br(r)+" with contents = "+t.toString());if(vu(t))throw new Error(e+"contains "+t.toString()+" "+br(r));if(typeof t=="string"&&t.length>eg/3&&lo(t)>eg)throw new Error(e+"contains a string greater than "+eg+" utf8 bytes "+br(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,o=!1;if(Oe(t,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Su(s)))throw new Error(e+" contains an invalid key ("+s+") "+br(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Bk(r,s),Xs(e,a,r),Uk(r)}),i&&o)throw new Error(e+' contains ".value" child '+br(r)+" in addition to actual children.")}},dF=function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];let o=ks(r);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Su(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(jk);let i=null;for(n=0;n<t.length;n++){if(r=t[n],i!==null&&Ct(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},rI=function(e,t,n,r){if(r&&t===void 0)return;let i=Ye(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");let o=[];Oe(t,(s,a)=>{let l=new ne(s);if(Xs(i,a,pe(n,l)),um(l)===".priority"&&!zs(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),dF(i,o)},Tm=function(e,t,n){if(!(n&&t===void 0)){if(vu(t))throw new Error(Ye(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!zs(t))throw new Error(Ye(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Js=function(e,t,n,r){if(!(r&&n===void 0)&&!Su(n))throw new Error(Ye(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},to=function(e,t,n,r){if(!(r&&n===void 0)&&!nI(n))throw new Error(Ye(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},fF=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),to(e,t,n,r)},st=function(e,t){if(Q(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},iI=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Su(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!uF(n))throw new Error(Ye(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var zg=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Mu(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],o=i.getPath();n!==null&&!dm(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function oI(e,t,n){Mu(e,n),sI(e,r=>dm(r,t))}function at(e,t,n){Mu(e,n),sI(e,r=>Ct(r,t)||Ct(t,r))}function sI(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];if(i){let o=i.path;t(o)?(hF(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function hF(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let r=n.getEventRunner();Mr&&Re("event: "+n.toString()),Xi(r)}}}var aI="repo_interrupt",pF=25,Wg=class{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zg,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=eu(),this.transactionQueueTree_=new Hs,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function gF(e,t,n){if(e.stats_=cm(e.repoInfo_),e.forceRestClient_||gk())e.server_=new Ig(e.repoInfo_,(r,i,o,s)=>{rD(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>iD(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ee(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new fm(e.repoInfo_,t,(r,i,o,s)=>{rD(e,r,i,o,s)},r=>{iD(e,r)},r=>{mF(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=vk(e.repoInfo_,()=>new xg(e.stats_,e.server_)),e.infoData_=new bg,e.infoSyncTree_=new cu({startListening:(r,i,o,s)=>{let a=[],l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=Ys(e.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),xm(e,"connected",!1),e.serverSyncTree_=new cu({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,l)=>{let c=s(a,l);at(e.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function lI(e){let n=e.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function ea(e){return nF({timestamp:lI(e)})}function rD(e,t,n,r,i){e.dataUpdateCount++;let o=new ne(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){let l=ao(n,c=>me(c));s=YP(e.serverSyncTree_,o,l,i)}else{let l=me(n);s=ZD(e.serverSyncTree_,o,l,i)}else if(r){let l=ao(n,c=>me(c));s=qP(e.serverSyncTree_,o,l)}else{let l=me(n);s=Ys(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Yi(e,o)),at(e.eventQueue_,a,s)}function iD(e,t){xm(e,"connected",t),t===!1&&_F(e)}function mF(e,t){Oe(t,(n,r)=>{xm(e,n,r)})}function xm(e,t,n){let r=new ne("/.info/"+t),i=me(n);e.infoData_.updateSnapshot(r,i);let o=Ys(e.infoSyncTree_,r,i);at(e.eventQueue_,r,o)}function Tu(e){return e.nextWriteId_++}function vF(e,t,n){let r=KP(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{let o=me(i).withIndex(t._queryParams.getIndex());Bg(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=Ys(e.serverSyncTree_,t._path,o);else{let a=$s(e.serverSyncTree_,t);s=ZD(e.serverSyncTree_,t._path,o,a)}return at(e.eventQueue_,t._path,s),uu(e.serverSyncTree_,t,n,null,!0),o},i=>(no(e,"get for query "+Ee(t)+" failed: "+i),Promise.reject(new Error(i))))}function Am(e,t,n,r,i){no(e,"set",{path:t.toString(),value:n,priority:r});let o=ea(e),s=me(n,r),a=Eu(e.serverSyncTree_,t),l=bm(s,a,o),c=Tu(e),u=wm(e.serverSyncTree_,t,l,c,!0);Mu(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{let p=f==="ok";p||je("set at "+t+" failed: "+f);let g=zn(e.serverSyncTree_,c,!p);at(e.eventQueue_,t,g),Yn(e,i,f,h)});let d=Rm(e,t);Yi(e,d),at(e.eventQueue_,d,[])}function yF(e,t,n,r){no(e,"update",{path:t.toString(),value:n});let i=!0,o=ea(e),s={};if(Oe(n,(a,l)=>{i=!1,s[a]=JD(pe(t,a),me(l),e.serverSyncTree_,o)}),i)Re("update() called with empty data.  Don't do anything."),Yn(e,r,"ok",void 0);else{let a=Tu(e),l=GP(e.serverSyncTree_,t,s,a);Mu(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||je("update at "+t+" failed: "+c);let f=zn(e.serverSyncTree_,a,!d),h=f.length>0?Yi(e,t):t;at(e.eventQueue_,h,f),Yn(e,r,c,u)}),Oe(n,c=>{let u=Rm(e,pe(t,c));Yi(e,u)}),at(e.eventQueue_,t,[])}}function _F(e){no(e,"onDisconnectEvents");let t=ea(e),n=eu();Mg(e.onDisconnect_,te(),(i,o)=>{let s=JD(i,o,e.serverSyncTree_,t);Ji(n,i,s)});let r=[];Mg(n,te(),(i,o)=>{r=r.concat(Ys(e.serverSyncTree_,i,o));let s=Rm(e,i);Yi(e,s)}),e.onDisconnect_=eu(),at(e.eventQueue_,te(),r)}function CF(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{r==="ok"&&Sg(e.onDisconnect_,t),Yn(e,n,r,i)})}function oD(e,t,n,r){let i=me(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(o,s)=>{o==="ok"&&Ji(e.onDisconnect_,t,i),Yn(e,r,o,s)})}function wF(e,t,n,r,i){let o=me(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&Ji(e.onDisconnect_,t,o),Yn(e,i,s,a)})}function EF(e,t,n,r){if(ca(n)){Re("onDisconnect().update() called with empty data.  Don't do anything."),Yn(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{i==="ok"&&Oe(n,(s,a)=>{let l=me(a);Ji(e.onDisconnect_,pe(t,s),l)}),Yn(e,r,i,o)})}function DF(e,t,n){let r;Q(t._path)===".info"?r=Bg(e.infoSyncTree_,t,n):r=Bg(e.serverSyncTree_,t,n),oI(e.eventQueue_,t._path,r)}function Gg(e,t,n){let r;Q(t._path)===".info"?r=uu(e.infoSyncTree_,t,n):r=uu(e.serverSyncTree_,t,n),oI(e.eventQueue_,t._path,r)}function cI(e){e.persistentConnection_&&e.persistentConnection_.interrupt(aI)}function IF(e){e.persistentConnection_&&e.persistentConnection_.resume(aI)}function no(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Re(n,...t)}function Yn(e,t,n,r){t&&Xi(()=>{if(n==="ok")t(null);else{let i=(n||"error").toUpperCase(),o=i;r&&(o+=": "+r);let s=new Error(o);s.code=i,t(s)}})}function bF(e,t,n,r,i,o){no(e,"transaction on "+t);let s={path:t,update:n,onComplete:r,status:null,order:lD(),applyLocally:o,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Nm(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Xs("transaction failed: Data returned ",l,s.path),s.status=0;let c=Iu(e.transactionQueueTree_,t),u=Nr(c)||[];u.push(s),Mm(c,u);let d;typeof l=="object"&&l!==null&&ut(l,".priority")?(d=Mn(l,".priority"),w(zs(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Eu(e.serverSyncTree_,t)||B.EMPTY_NODE).getPriority().val();let f=ea(e),h=me(l,d),p=bm(h,a,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=Tu(e);let g=wm(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);at(e.eventQueue_,t,g),xu(e,e.transactionQueueTree_)}}function Nm(e,t,n){return Eu(e.serverSyncTree_,t,n)||B.EMPTY_NODE}function xu(e,t=e.transactionQueueTree_){if(t||Au(e,t),Nr(t)){let n=dI(e,t);w(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&SF(e,Ks(t),n)}else eI(t)&&bu(t,n=>{xu(e,n)})}function SF(e,t,n){let r=n.map(c=>c.currentWriteId),i=Nm(e,t,r),o=i,s=i.hash();for(let c=0;c<n.length;c++){let u=n[c];w(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=qe(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{no(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(zn(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Au(e,Iu(e.transactionQueueTree_,t)),xu(e,e.transactionQueueTree_),at(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Xi(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Yi(e,t)}},s)}function Yi(e,t){let n=uI(e,t),r=Ks(n),i=dI(e,n);return MF(e,i,r),r}function MF(e,t,n){if(t.length===0)return;let r=[],i=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=qe(n,l.path),u=!1,d;if(w(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(zn(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=pF)u=!0,d="maxretry",i=i.concat(zn(e.serverSyncTree_,l.currentWriteId,!0));else{let f=Nm(e,l.path,s);l.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){Xs("transaction failed: Data returned ",h,l.path);let p=me(h);typeof h=="object"&&h!=null&&ut(h,".priority")||(p=p.updatePriority(f.getPriority()));let y=l.currentWriteId,I=ea(e),z=bm(p,f,I);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=z,l.currentWriteId=Tu(e),s.splice(s.indexOf(y),1),i=i.concat(wm(e.serverSyncTree_,l.path,z,l.currentWriteId,l.applyLocally)),i=i.concat(zn(e.serverSyncTree_,y,!0))}else u=!0,d="nodata",i=i.concat(zn(e.serverSyncTree_,l.currentWriteId,!0))}at(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}Au(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Xi(r[a]);xu(e,e.transactionQueueTree_)}function uI(e,t){let n,r=e.transactionQueueTree_;for(n=Q(t);n!==null&&Nr(r)===void 0;)r=Iu(r,n),t=le(t),n=Q(t);return r}function dI(e,t){let n=[];return fI(e,t,n),n.sort((r,i)=>r.order-i.order),n}function fI(e,t,n){let r=Nr(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);bu(t,i=>{fI(e,i,n)})}function Au(e,t){let n=Nr(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Mm(t,n.length>0?n:void 0)}bu(t,r=>{Au(e,r)})}function Rm(e,t){let n=Ks(uI(e,t)),r=Iu(e.transactionQueueTree_,t);return sF(r,i=>{tg(e,i)}),tg(e,r),tI(r,i=>{tg(e,i)}),n}function tg(e,t){let n=Nr(t);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(w(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(w(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(zn(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Mm(t,void 0):n.length=o+1,at(e.eventQueue_,Ks(t),i);for(let s=0;s<r.length;s++)Xi(r[s])}}function TF(e){let t="",n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function xF(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):je(`Invalid query segment '${n}' in query '${e}'`)}return t}var qg=function(e,t){let n=AF(e),r=n.namespace;n.domain==="firebase.com"&&Jt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Jt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||sk();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Gc(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new ne(n.pathString)}},AF=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=TF(e.substring(u,d)));let f=xF(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let h=t.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var sD="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",NF=function(){let e=0,t=[];return function(n){let r=n===e;e=n;let i,o=new Array(8);for(i=7;i>=0;i--)o[i]=sD.charAt(n%64),n=Math.floor(n/64);w(n===0,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&t[i]===63;i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)s+=sD.charAt(t[i]);return w(s.length===20,"nextPushId: Length should be 20."),s}}();var du=class{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ee(this.snapshot.exportVal())}},fu=class{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Ws=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return w(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var hu=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Ae;return CF(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){st("OnDisconnect.remove",this._path);let t=new Ae;return oD(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){st("OnDisconnect.set",this._path),tn("OnDisconnect.set",t,this._path,!1);let n=new Ae;return oD(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){st("OnDisconnect.setWithPriority",this._path),tn("OnDisconnect.setWithPriority",t,this._path,!1),Tm("OnDisconnect.setWithPriority",n,!1);let r=new Ae;return wF(this._repo,this._path,t,n,r.wrapCallback(()=>{})),r.promise}update(t){st("OnDisconnect.update",this._path),rI("OnDisconnect.update",t,this._path,!1);let n=new Ae;return EF(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var Ze=class e{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Z(this._path)?null:um(this._path)}get ref(){return new lt(this._repo,this._path)}get _queryIdentifier(){let t=GE(this._queryParams),n=lm(t);return n==="{}"?"default":n}get _queryObject(){return GE(this._queryParams)}isEqual(t){if(t=Ue(t),!(t instanceof e))return!1;let n=this._repo===t._repo,r=dm(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Vk(this._path)}};function Nu(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function Xn(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Xt){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==qn)throw new Error(r);if(typeof t!="string")throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==bn)throw new Error(r);if(typeof n!="string")throw new Error(i)}}else if(e.getIndex()===ue){if(t!=null&&!zs(t)||n!=null&&!zs(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(w(e.getIndex()instanceof Ps||e.getIndex()===pm,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ru(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var lt=class e extends Ze{constructor(t,n){super(t,n,new js,!1)}get parent(){let t=xD(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Ki=class e{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new ne(t),r=Kn(this.ref,t);return new e(this._node.getChild(n),r,ue)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new e(i,Kn(this.ref,r),ue)))}hasChild(t){let n=new ne(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function nn(e,t){return e=Ue(e),e._checkNotDeleted("ref"),t!==void 0?Kn(e._root,t):e._root}function Om(e,t){e=Ue(e),e._checkNotDeleted("refFromURL");let n=qg(t,e._repo.repoInfo_.nodeAdmin);iI("refFromURL",n);let r=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&r.host!==e._repo.repoInfo_.host&&Jt("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),nn(e,n.path.toString())}function Kn(e,t){return e=Ue(e),Q(e._path)===null?fF("child","path",t,!1):to("child","path",t,!1),new lt(e._repo,pe(e._path,t))}function Ou(e,t){e=Ue(e),st("push",e._path),tn("push",t,e._path,!0);let n=lI(e._repo),r=NF(n),i=Kn(e,r),o=Kn(e,r),s;return t!=null?s=ro(o,t).then(()=>o):s=Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}function ku(e){return st("remove",e._path),ro(e,null)}function ro(e,t){e=Ue(e),st("set",e._path),tn("set",t,e._path,!1);let n=new Ae;return Am(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function hI(e,t){e=Ue(e),st("setPriority",e._path),Tm("setPriority",t,!1);let n=new Ae;return Am(e._repo,pe(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function pI(e,t,n){if(st("setWithPriority",e._path),tn("setWithPriority",t,e._path,!1),Tm("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let r=new Ae;return Am(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}function gI(e,t){rI("update",t,e._path,!1);let n=new Ae;return yF(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function mI(e){e=Ue(e);let t=new Ws(()=>{}),n=new Gs(t);return vF(e._repo,e,n).then(r=>new Ki(r,new lt(e._repo,e._path),e._queryParams.getIndex()))}var Gs=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let r=n._queryParams.getIndex();return new du("value",this,new Ki(t.snapshotNode,new lt(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new fu(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},pu=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new fu(this,t,n):null}createEvent(t,n){w(t.childName!=null,"Child events should have a childName.");let r=Kn(new lt(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new du(t.type,this,new Ki(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function ta(e,t,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let l=n,c=(u,d)=>{Gg(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new Ws(n,o||void 0),a=t==="value"?new Gs(s):new pu(t,s);return DF(e._repo,e,a),()=>Gg(e._repo,e,a)}function Jn(e,t,n,r){return ta(e,"value",t,n,r)}function km(e,t,n,r){return ta(e,"child_added",t,n,r)}function Pm(e,t,n,r){return ta(e,"child_changed",t,n,r)}function Fm(e,t,n,r){return ta(e,"child_moved",t,n,r)}function Lm(e,t,n,r){return ta(e,"child_removed",t,n,r)}function Vm(e,t,n){let r=null,i=n?new Ws(n):null;t==="value"?r=new Gs(i):t&&(r=new pu(t,i)),Gg(e._repo,e,r)}var ct=class{},gu=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){tn("endAt",this._value,t._path,!0);let n=Dg(t._queryParams,this._value,this._key);if(Ru(n),Xn(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ze(t._repo,t._path,n,t._orderByCalled)}};function vI(e,t){return Js("endAt","key",t,!0),new gu(e,t)}var Qg=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){tn("endBefore",this._value,t._path,!1);let n=rP(t._queryParams,this._value,this._key);if(Ru(n),Xn(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ze(t._repo,t._path,n,t._orderByCalled)}};function yI(e,t){return Js("endBefore","key",t,!0),new Qg(e,t)}var mu=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){tn("startAt",this._value,t._path,!0);let n=Eg(t._queryParams,this._value,this._key);if(Ru(n),Xn(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ze(t._repo,t._path,n,t._orderByCalled)}};function _I(e=null,t){return Js("startAt","key",t,!0),new mu(e,t)}var Zg=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){tn("startAfter",this._value,t._path,!1);let n=nP(t._queryParams,this._value,this._key);if(Ru(n),Xn(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ze(t._repo,t._path,n,t._orderByCalled)}};function CI(e,t){return Js("startAfter","key",t,!0),new Zg(e,t)}var Yg=class extends ct{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ze(t._repo,t._path,eP(t._queryParams,this._limit),t._orderByCalled)}};function wI(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Yg(e)}var Kg=class extends ct{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ze(t._repo,t._path,tP(t._queryParams,this._limit),t._orderByCalled)}};function EI(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Kg(e)}var Xg=class extends ct{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Nu(t,"orderByChild");let n=new ne(this._path);if(Z(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new Ps(n),i=yu(t._queryParams,r);return Xn(i),new Ze(t._repo,t._path,i,!0)}};function DI(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return to("orderByChild","path",e,!1),new Xg(e)}var Jg=class extends ct{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Nu(t,"orderByKey");let n=yu(t._queryParams,Xt);return Xn(n),new Ze(t._repo,t._path,n,!0)}};function II(){return new Jg}var em=class extends ct{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Nu(t,"orderByPriority");let n=yu(t._queryParams,ue);return Xn(n),new Ze(t._repo,t._path,n,!0)}};function bI(){return new em}var tm=class extends ct{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Nu(t,"orderByValue");let n=yu(t._queryParams,pm);return Xn(n),new Ze(t._repo,t._path,n,!0)}};function SI(){return new tm}var nm=class extends ct{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(tn("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gu(this._value,this._key)._apply(new mu(this._value,this._key)._apply(t))}};function MI(e,t){return Js("equalTo","key",t,!0),new nm(e,t)}function Et(e,...t){let n=Ue(e);for(let r of t)n=r._apply(n);return n}VP(lt);HP(lt);var RF="FIREBASE_DATABASE_EMULATOR_HOST",rm={},OF=!1;function kF(e,t,n,r){e.repoInfo_=new Gc(t,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}function jm(e,t,n,r,i){let o=r||e.options.databaseURL;o===void 0&&(e.options.projectId||Jt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Re("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=qg(o,i),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[RF]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=qg(o,i),a=s.repoInfo):l=!s.repoInfo.secure;let u=i&&l?new xs(xs.OWNER):new ag(e.name,e.options,t);iI("Invalid Firebase Database URL",s),Z(s.path)||Jt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=FF(a,e,u,new sg(e,n));return new im(d,e)}function PF(e,t){let n=rm[t];(!n||n[e.key]!==e)&&Jt(`Database ${t}(${e.repoInfo_}) has already been deleted.`),cI(e),delete n[e.key]}function FF(e,t,n,r){let i=rm[t.name];i||(i={},rm[t.name]=i);let o=i[e.toURLString()];return o&&Jt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Wg(e,OF,n,r),i[e.toURLString()]=o,o}var im=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(gF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new lt(this._repo,te())),this._rootInternal}_delete(){return this._rootInternal!==null&&(PF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Jt("Cannot call "+t+" on a deleted database.")}};function TI(){TD.IS_TRANSPORT_INITIALIZED&&je("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function xI(){TI(),Os.forceDisallow()}function AI(){TI(),Ui.forceDisallow(),Os.forceAllow()}function NI(e=qu(),t){let n=Gu(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let r=Xm("database");r&&Bm(n,...r)}return n}function Bm(e,t,n,r={}){e=Ue(e),e._checkNotDeleted("useEmulator");let i=`${t}:${n}`,o=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&ov(r,o.repoInfo_.emulatorOptions))return;Jt("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let s;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&Jt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xs(xs.OWNER);else if(r.mockUserToken){let a=typeof r.mockUserToken=="string"?r.mockUserToken:Jm(r.mockUserToken,e.app.options.projectId);s=new xs(a)}kF(o,i,r,s)}function RI(e){e=Ue(e),e._checkNotDeleted("goOffline"),cI(e._repo)}function OI(e){e=Ue(e),e._checkNotDeleted("goOnline"),IF(e._repo)}function kI(e,t){uD(e,t)}function LF(e){am(dv),co(new on("database",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return jm(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Tn(xE,AE,e),Tn(xE,AE,"esm2017")}var VF={".sv":"timestamp"};function PI(){return VF}function FI(e){return{".sv":{increment:e}}}var om=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function LI(e,t,n){var r;if(e=Ue(e),st("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let i=(r=n?.applyLocally)!==null&&r!==void 0?r:!0,o=new Ae,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Ki(u,new lt(e._repo,e._path),ue),o.resolve(new om(c,d)))},a=Jn(e,()=>{});return bF(e._repo,e._path,t,s,a,i),o.promise}fm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};fm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};LF();var jF="@firebase/database-compat",BF="2.0.5";var UF=new Lr("@firebase/database-compat"),VI=function(e){let t="FIREBASE WARNING: "+e;UF.warn(t)};var $F=function(e,t,n,r){if(!(r&&n===void 0)&&typeof n!="boolean")throw new Error(Ye(e,t)+"must be a boolean.")},HF=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ye(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var Um=class{constructor(t){this._delegate=t}cancel(t){P("OnDisconnect.cancel",0,1,arguments.length),Ie("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),r=>t(r)),n}remove(t){P("OnDisconnect.remove",0,1,arguments.length),Ie("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),r=>t(r)),n}set(t,n){P("OnDisconnect.set",1,2,arguments.length),Ie("OnDisconnect.set","onComplete",n,!0);let r=this._delegate.set(t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){P("OnDisconnect.setWithPriority",2,3,arguments.length),Ie("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(t,n);return r&&i.then(()=>r(null),o=>r(o)),i}update(t,n){if(P("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,VI("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ie("OnDisconnect.update","onComplete",n,!0);let r=this._delegate.update(t);return n&&r.then(()=>n(null),i=>n(i)),r}};var $m=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return P("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Rr=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return P("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return P("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return P("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return P("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return P("DataSnapshot.child",0,1,arguments.length),t=String(t),to("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return P("DataSnapshot.hasChild",1,1,arguments.length),to("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return P("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return P("DataSnapshot.forEach",1,1,arguments.length),Ie("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return P("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return P("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return P("DataSnapshot.ref",0,0,arguments.length),new Sn(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Pu=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,r,i){var o;P("Query.on",2,4,arguments.length),Ie("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",r,i),a=(c,u)=>{n.call(s.context,new Rr(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return Jn(this._delegate,a,l),n;case"child_added":return km(this._delegate,a,l),n;case"child_removed":return Lm(this._delegate,a,l),n;case"child_changed":return Pm(this._delegate,a,l),n;case"child_moved":return Fm(this._delegate,a,l),n;default:throw new Error(Ye("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,r){if(P("Query.off",0,3,arguments.length),HF("Query.off",t,!0),Ie("Query.off","callback",n,!0),zu("Query.off","context",r,!0),n){let i=()=>{};i.userCallback=n,i.context=r,Vm(this._delegate,t,i)}else Vm(this._delegate,t)}get(){return mI(this._delegate).then(t=>new Rr(this.database,t))}once(t,n,r,i){P("Query.once",1,4,arguments.length),Ie("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",r,i),s=new Ae,a=(c,u)=>{let d=new Rr(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":Jn(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":km(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Lm(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Pm(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Fm(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Ye("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return P("Query.limitToFirst",1,1,arguments.length),new e(this.database,Et(this._delegate,wI(t)))}limitToLast(t){return P("Query.limitToLast",1,1,arguments.length),new e(this.database,Et(this._delegate,EI(t)))}orderByChild(t){return P("Query.orderByChild",1,1,arguments.length),new e(this.database,Et(this._delegate,DI(t)))}orderByKey(){return P("Query.orderByKey",0,0,arguments.length),new e(this.database,Et(this._delegate,II()))}orderByPriority(){return P("Query.orderByPriority",0,0,arguments.length),new e(this.database,Et(this._delegate,bI()))}orderByValue(){return P("Query.orderByValue",0,0,arguments.length),new e(this.database,Et(this._delegate,SI()))}startAt(t=null,n){return P("Query.startAt",0,2,arguments.length),new e(this.database,Et(this._delegate,_I(t,n)))}startAfter(t=null,n){return P("Query.startAfter",0,2,arguments.length),new e(this.database,Et(this._delegate,CI(t,n)))}endAt(t=null,n){return P("Query.endAt",0,2,arguments.length),new e(this.database,Et(this._delegate,vI(t,n)))}endBefore(t=null,n){return P("Query.endBefore",0,2,arguments.length),new e(this.database,Et(this._delegate,yI(t,n)))}equalTo(t,n){return P("Query.equalTo",1,2,arguments.length),new e(this.database,Et(this._delegate,MI(t,n)))}toString(){return P("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return P("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(P("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,r){let i={cancel:void 0,context:void 0};if(n&&r)i.cancel=n,Ie(t,"cancel",i.cancel,!0),i.context=r,zu(t,"context",i.context,!0);else if(n)if(typeof n=="object"&&n!==null)i.context=n;else if(typeof n=="function")i.cancel=n;else throw new Error(Ye(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new Sn(this.database,new lt(this._delegate._repo,this._delegate._path))}},Sn=class e extends Pu{constructor(t,n){super(t,new Ze(n._repo,n._path,new js,!1)),this.database=t,this._delegate=n}getKey(){return P("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return P("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,Kn(this._delegate,t))}getParent(){P("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return P("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){P("Reference.set",1,2,arguments.length),Ie("Reference.set","onComplete",n,!0);let r=ro(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}update(t,n){if(P("Reference.update",1,2,arguments.length),Array.isArray(t)){let i={};for(let o=0;o<t.length;++o)i[""+o]=t[o];t=i,VI("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}st("Reference.update",this._delegate._path),Ie("Reference.update","onComplete",n,!0);let r=gI(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}setWithPriority(t,n,r){P("Reference.setWithPriority",2,3,arguments.length),Ie("Reference.setWithPriority","onComplete",r,!0);let i=pI(this._delegate,t,n);return r&&i.then(()=>r(null),o=>r(o)),i}remove(t){P("Reference.remove",0,1,arguments.length),Ie("Reference.remove","onComplete",t,!0);let n=ku(this._delegate);return t&&n.then(()=>t(null),r=>t(r)),n}transaction(t,n,r){P("Reference.transaction",1,3,arguments.length),Ie("Reference.transaction","transactionUpdate",t,!1),Ie("Reference.transaction","onComplete",n,!0),$F("Reference.transaction","applyLocally",r,!0);let i=LI(this._delegate,t,{applyLocally:r}).then(o=>new $m(o.committed,new Rr(this.database,o.snapshot)));return n&&i.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),i}setPriority(t,n){P("Reference.setPriority",1,2,arguments.length),Ie("Reference.setPriority","onComplete",n,!0);let r=hI(this._delegate,t);return n&&r.then(()=>n(null),i=>n(i)),r}push(t,n){P("Reference.push",0,2,arguments.length),Ie("Reference.push","onComplete",n,!0);let r=Ou(this._delegate,t),i=r.then(s=>new e(this.database,s));n&&i.then(()=>n(null),s=>n(s));let o=new e(this.database,r);return o.then=i.then.bind(i),o.catch=i.catch.bind(i,void 0),o}onDisconnect(){return st("Reference.onDisconnect",this._delegate._path),new Um(new hu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Or=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:xI,forceLongPolling:AI}}useEmulator(t,n,r={}){Bm(this._delegate,t,n,r)}ref(t){if(P("database.ref",0,1,arguments.length),t instanceof Sn){let n=Om(this._delegate,t.toString());return new Sn(this,n)}else{let n=nn(this._delegate,t);return new Sn(this,n)}}refFromURL(t){P("database.refFromURL",1,1,arguments.length);let r=Om(this._delegate,t);return new Sn(this,r)}goOffline(){return P("database.goOffline",0,0,arguments.length),RI(this._delegate)}goOnline(){return P("database.goOnline",0,0,arguments.length),OI(this._delegate)}};Or.ServerValue={TIMESTAMP:PI(),increment:e=>FI(e)};function zF({app:e,url:t,version:n,customAuthImpl:r,customAppCheckImpl:i,namespace:o,nodeAdmin:s=!1}){am(n);let a=new Wu("database-standalone"),l=new ua("auth-internal",a);l.setComponent(new on("auth-internal",()=>r,"PRIVATE"));let c;return i&&(c=new ua("app-check-internal",a),c.setComponent(new on("app-check-internal",()=>i,"PRIVATE"))),{instance:new Or(jm(e,l,c,t,s),e),namespace:o}}var WF=Object.freeze({__proto__:null,initStandalone:zF});var GF=Or.ServerValue;function qF(e){e.INTERNAL.registerComponent(new on("database-compat",(t,{instanceIdentifier:n})=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:n});return new Or(i,r)},"PUBLIC").setServiceProps({Reference:Sn,Query:Pu,Database:Or,DataSnapshot:Rr,enableLogging:kI,INTERNAL:WF,ServerValue:GF}).setMultipleInstances(!0)),e.registerVersion(jF,BF)}qF(Dt);function na(e,t,n="on",r=mo){return new $(i=>{let o=null;return o=e[n](t,(s,a)=>{r.schedule(()=>{i.next({snapshot:s,prevKey:a})}),n==="once"&&r.schedule(()=>i.complete())},s=>{r.schedule(()=>i.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(k(i=>{let{snapshot:o,prevKey:s}=i,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),yo())}function QF(e){return typeof e=="string"}function ZF(e){return typeof e.exportVal=="function"}function HI(e){return e==null}function zI(e){return typeof e.set=="function"}function jI(e,t){return zI(t)?t:e.ref(t)}function WI(e,t){if(QF(e))return t.stringCase();if(zI(e))return t.firebaseCase();if(ZF(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function GI(e){return(HI(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function qI(e,t,n){t=GI(t);let r=t.map(i=>na(e,i,"on",n));return Yr(...r)}function YF(e,t,n){let r=qI(e,t).pipe(Xr((i,o)=>[...i,o],[]));return XF(e,r,n)}function KF(e,t){return na(e,"value","on",t).pipe(k(n=>{let r;return n.payload.forEach(i=>(r=i.key,!1)),{data:n,lastKeyToLoad:r}}))}function XF(e,t,n){return KF(e,n).pipe(Cd(t),k(([i,o])=>{let s=i.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),vd(i=>i.loadedKeys.indexOf(i.lastKeyToLoad)===-1),k(i=>i.actions))}function BI(e,t){return function(r,i){return WI(r,{stringCase:()=>e.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function JF(e){return function(n){return n?WI(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function eL(e,t,n){return na(e,"value","once",n).pipe(fe(r=>{let i=[O(r)];return t.forEach(o=>i.push(na(e,o,"on",n))),Yr(...i).pipe(Xr(nL,[]))}),pd())}function QI(e,t){let n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function tL(e,t){if(HI(t))return 0;{let n=QI(e,t);return n===-1?e.length:n+1}}function nL(e,t){let{payload:n,prevKey:r,key:i}=t,o=QI(e,i),s=tL(e,r);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==r&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(r==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===i?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function UI(e,t,n){return t=GI(t),eL(e,t,n)}function rL(e,t,n){let r=t.schedulers.outsideAngular,i=C(ee).run(()=>e.ref);return{query:e,update:BI(i,"update"),set:BI(i,"set"),push:o=>i.push(o),remove:JF(i),snapshotChanges(o){return UI(e,o,r).pipe(Yt(n))},stateChanges(o){return qI(e,o,r).pipe(Yt(n))},auditTrail(o){return YF(e,o,r).pipe(Yt(n))},valueChanges(o,s){return UI(e,o,r).pipe(k(l=>l.map(c=>s&&s.idField?W(E({},c.payload.val()),{[s.idField]:c.key}):c.payload.val())),Yt(n))}}}function $I(e,t){return function(){return na(e,"value","on",t)}}function iL(e,t,n){return{query:e,snapshotChanges(){return $I(e,t.schedulers.outsideAngular)().pipe(Yt(n))},update(r){return e.ref.update(r)},set(r){return e.ref.set(r)},remove(){return e.ref.remove()},valueChanges(){return $I(e,t.schedulers.outsideAngular)().pipe(Yt(n),k(i=>i.payload.exists()?i.payload.val():null))}}}var oL=new b("angularfire2.realtimeDatabaseURL"),sL=new b("angularfire2.database.use-emulator"),aL=(()=>{class e{schedulers;database;injector=C(Me);constructor(n,r,i,o,s,a,l,c,u,d,f,h,p,g,y){this.schedulers=a;let I=l,z=$c(n,s,r);c&&Qp(z,s,u,f,h,p,d,g),this.database=Hc(`${z.name}.database.${i}`,"AngularFireDatabase",z.name,()=>{let _=s.runOutsideAngular(()=>z.database(i||void 0));return I&&_.useEmulator(...I),_},[I])}list(n,r){let i=C(ee).runOutsideAngular(()=>jI(this.database,n)),o=i;return r&&(o=r(i)),rL(o,this,this.injector)}object(n){let r=C(ee).runOutsideAngular(()=>jI(this.database,n));return iL(r,this,this.injector)}createPushId(){return C(ee).runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(r){return new(r||e)(D(Bc),D(Uc,8),D(oL,8),D(vt),D(ee),D(ws),D(sL,8),D(TE,8),D($p,8),D(Hp,8),D(zp,8),D(Wp,8),D(Gp,8),D(qp,8),D(ji,8))};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"any"})}return e})(),ZI=(()=>{class e{constructor(){Dt.registerVersion("angularfire",kp.full,"rtdb-compat")}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Nt({type:e});static \u0275inj=Tt({providers:[aL]})}return e})();var YI={production:!1,firebaseConfig:{apiKey:"AIzaSyC6Xrc9EqMyXKH_gNFaOGuAX-ItudzZAVs",authDomain:"bautizo-sofia.firebaseapp.com",databaseURL:"https://bautizo-sofia-default-rtdb.firebaseio.com",projectId:"bautizo-sofia",storageBucket:"bautizo-sofia.firebasestorage.app",messagingSenderId:"981839514602",appId:"1:981839514602:web:981d3b9a4dcde418c84093"}};var Fu=class e{app=fv(YI.firebaseConfig);database=NI(this.app);basePath="comentarios";getProperties(){return oe(this,null,function*(){let t=nn(this.database,"properties");return new Promise((n,r)=>{Jn(t,i=>{let o=i.val();n(o)},i=>{r(i)})})})}addComment(t){return oe(this,null,function*(){let n=nn(this.database,this.basePath),r=yield Ou(n,t);if(console.log("Comment added:",r.key),!r.key)throw new Error("Failed to generate a key for the new comment.");return r.key})}getComments(){return oe(this,null,function*(){let t=nn(this.database,this.basePath);return new Promise((n,r)=>{Jn(t,i=>{let o=i.val(),s=o?Object.entries(o).map(([a,l])=>W(E({},l),{id:a})):[];n(s)},i=>{r(i)})})})}updateComment(t){return oe(this,null,function*(){let n=nn(this.database,`${this.basePath}/${t.id}`);return new Promise((r,i)=>{ro(n,t).then(()=>r()).catch(o=>i(o))})})}deleteComment(t){return oe(this,null,function*(){let n=nn(this.database,`${this.basePath}/${t}`);return new Promise((r,i)=>{ku(n).then(()=>r()).catch(o=>i(o))})})}getAvisos(){return oe(this,null,function*(){let t=nn(this.database,"avisos");return new Promise((n,r)=>{Jn(t,i=>{let o=i.val(),s=o?Object.values(o):[];n(s)},i=>{r(i)})})})}static \u0275fac=function(n){return new(n||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function cL(e,t){if(e&1&&(m(0,"div",69),A(1,"mosaic-photos",70),v()),e&2){let n=Bn();ge(),De("animate",n.animatePhotos)("viewPhotos",n.viewPhotos)}}function uL(e,t){e&1&&(m(0,"div",17),A(1,"img",18),v())}function dL(e,t){e&1&&(m(0,"div",71),S(1,'"> '),A(2,"img",72),v())}function fL(e,t){if(e&1&&(m(0,"div",73)(1,"p",74),S(2),v()()),e&2){let n=t.$implicit;ge(2),Vo(n)}}function hL(e,t){if(e&1){let n=ah();m(0,"div",79)(1,"div",80)(2,"button",81),j("click",function(){Rl(n);let i=Bn(2);return Ol(i.openModal("commentModal"))}),A(3,"img",82),m(4,"p",83),S(5,"Agregar comentario"),v()()()()}}function pL(e,t){if(e&1){let n=ah();m(0,"div",89)(1,"img",90),j("click",function(){Rl(n);let i=Bn().$implicit,o=Bn(2);return Ol(o.ediComment(i,"commentModal"))}),v(),m(2,"img",91),j("click",function(){Rl(n);let i=Bn(3);return Ol(i.openModal("deleteModal"))}),v()()}}function gL(e,t){if(e&1&&(m(0,"div",84)(1,"div",85)(2,"div",86),S(3),v(),Rt(4,pL,3,0,"div",87),v(),m(5,"div",88),S(6),v()()),e&2){let n=t.$implicit,r=t.first,i=Bn(2);ge(3),Vo(n.autor),ge(),De("ngIf",(i.idCommentLocal==n.id||i.showEdit&&r)&&i.limitEdit),ge(2),Vo(n.comentario)}}function mL(e,t){if(e&1&&(m(0,"div")(1,"div",17),A(2,"img",18),v(),m(3,"div",71),A(4,"img",75),v(),Rt(5,hL,6,0,"div",76),m(6,"div",77),Rt(7,gL,7,3,"div",78),v()()),e&2){let n=Bn();ge(5),De("ngIf",!n.idCommentLocal),ge(2),De("ngForOf",n.listComments)}}var Lu=class e{constructor(t,n,r){this.router=t;this.firebaseService=n;this.ngZone=r;this.commentData=new Ir("","","",""),this.idCommentLocal=localStorage.getItem("commentId")||""}listComments=[];commentData;idCommentLocal="";showEdit=!1;limitEdit=!0;showComments=!1;showPhotos=!1;viewPhotos=!1;avisos=[];countdownInterval;animatePhotos=!1;ngOnInit(){return oe(this,null,function*(){this.countdownInterval=setInterval(()=>this.updateCountdown(),1e3);let t=document.querySelector(".content");t&&t.addEventListener("scroll",this.checkVisibility.bind(this));let n=yield this.firebaseService.getProperties(),r=localStorage.getItem("type");n&&(this.showComments=n.showComments,this.showPhotos=n.showPhotos&&r==="f",this.viewPhotos=n.viewPhotos),this.avisos=yield this.firebaseService.getAvisos();let i=localStorage.getItem("editCount");i!==null&&parseInt(i,10)>2&&(this.limitEdit=!1)})}ngAfterViewInit(){this.animation(),document.getElementById("commentInput").addEventListener("input",function(){let i=350-this.value.length,o=document.getElementById("wordCounter");o.textContent=`${i} palabras restantes`}),this.searchComments()}openModal(t){let n=document.getElementById(t);n.style.display="block",N({targets:"#"+t,scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}closeModal(t){let n=document.getElementById("modalId");N({targets:"#"+t,scale:[1,0],opacity:[1,0],duration:300,easing:"easeOutQuad",oncomplete:()=>{n.style.display="none"}})}ediComment(t,n){this.commentData=t,this.openModal(n)}deleteComment(){let t=localStorage.getItem("commentId");t&&(this.firebaseService.deleteComment(t),localStorage.removeItem("commentId")),this.listComments.shift(),this.showEdit=!1}confirmComment(){return oe(this,null,function*(){let t=localStorage.getItem("commentId");if(this.commentData&&t){this.commentData.id=t,this.firebaseService.updateComment(this.commentData),this.listComments.shift(),this.listComments.unshift(this.commentData);let n=parseInt(localStorage.getItem("editCount")||"0",10);n>=2&&(this.limitEdit=!1),localStorage.setItem("editCount",(n+1).toString())}else{let n=new Ir("",this.commentData.autor,this.commentData.comentario,new Date().toLocaleDateString());this.listComments.unshift(n);let r=yield this.firebaseService.addComment(n);this.idCommentLocal=r,localStorage.setItem("commentId",this.idCommentLocal),this.showEdit=!0,localStorage.setItem("editCount","0"),this.limitEdit=!0}this.commentData=new Ir("","","",""),setTimeout(()=>{N({targets:".container_commnets__card",translateY:[-100,0],opacity:[0,1],duration:500,easing:"easeOutQuad",delay:N.stagger(200,{start:200})})},100),this.closeModal("confirmModal"),setTimeout(()=>{this.closeModal("commentModal")},100)})}confirmDelete(){this.deleteComment(),localStorage.removeItem("commentId"),this.idCommentLocal="",this.commentData=new Ir("","","",""),setTimeout(()=>{N({targets:".container_commnets__card",translateY:[-100,0],opacity:[0,1],duration:500,easing:"easeOutQuad",delay:N.stagger(200,{start:200})})},100),this.closeModal("deleteModal")}addCommnet(){(this.commentData!=null&&this.commentData.autor==null||this.commentData.autor==="")&&(this.commentData.autor="Anonimo"),this.openConfirmModal()}openConfirmModal(){let t=document.getElementById("confirmModal");t.style.display="block",N({targets:"#confirmModal",scale:[0,1],opacity:[0,1],duration:300,easing:"easeOutQuad"})}searchComments(){this.firebaseService.getComments().then(t=>{let n=localStorage.getItem("commentId");if(n){let r=t.findIndex(i=>i.id===n);if(r!==-1){let[i]=t.splice(r,1);t.unshift(i)}else this.idCommentLocal="",localStorage.removeItem("commentId"),localStorage.removeItem("editCount")}this.listComments=t})}openMapChurch(){window.open("https://maps.app.goo.gl/vzCdbQVbcEv2XY7e8","_blank")}openMapParty(){window.open("https://maps.app.goo.gl/fKnwHwdttYZpSdop9","_blank")}openMesaRegalos(t){let n;t==="am"?n="https://www.amazon.com.mx/registries/gl/guest-view/3E7RLOFQ55UDY":t=="liv",window.open(n,"_blank")}showInvitation(){this.router.navigate(["/bautizo"])}animation(){N.timeline().add({targets:".img-title",top:["70px","-30px"],duration:2e3,delay:1e3,easing:"easeOutExpo"}).add({targets:".img-header",translateY:["-100%","0%"],opacity:1,duration:1500,easing:"easeOutExpo"},"-=1500").add({targets:".img-photo",scale:[0,1],opacity:[0,1],duration:2e3,easing:"easeOutExpo"},"-=1000").add({targets:".text-center",translateX:["-100%","0%"],opacity:[0,1],duration:1500,easing:"easeOutExpo",delay:N.stagger(100)},"-=1500").add({targets:".separator",opacity:[0,1],duration:1e3,easing:"linear"},"-=2000").add({targets:".btn-see",opacity:[0,1],duration:1500,easing:"linear"},"-=2000")}updateCountdown(){let t=new Date("2025-07-14T00:00:00").getTime(),n=new Date().getTime(),r=t-n,i=Math.floor(r/(1e3*60*60*24)),o=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),s=Math.floor(r%(1e3*60*60)/(1e3*60)),a=Math.floor(r%(1e3*60)/1e3),l=document.getElementById("days"),c=document.getElementById("hours"),u=document.getElementById("minutes"),d=document.getElementById("seconds");l&&(l.innerText=i.toString()),c&&(c.innerText=o.toString()),u&&(u.innerText=s.toString()),d&&(d.innerText=a.toString()),r<0&&clearInterval(this.countdownInterval)}isElementInViewport(t){let n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}checkVisibility(){document.querySelectorAll(".photos").forEach(n=>{this.isElementInViewport(n)?this.animatePhotos=!0:this.animatePhotos=!1})}static \u0275fac=function(n){return new(n||e)(G(_t),G(Fu),G(ee))};static \u0275cmp=ye({type:e,selectors:[["app-invitacion"]],decls:160,vars:8,consts:[[1,"content"],[1,"d-flex","justify-content-center"],["src","assets/img/countryside/roses.png","alt","header",1,"img-header"],["src","assets/img/countryside/bautizo.png","alt","title",1,"img-title"],["src","assets/img/countryside/img_photo.png","alt","photo",1,"img-photo"],[1,"btn-see","shadow-lg",3,"click"],[1,"text-center","mt-5"],[1,"text-1"],[1,"d-flex","flex-column","align-items-center"],[1,"text-2"],[1,"text-center","more-space"],["src","assets/img/countryside/separator.png","alt","photo",1,"separator",2,"transform","scaleY(-1)"],[1,"text-center","ms-5","me-5"],["src","assets/img/countryside/separator.png","alt","photo",1,"separator"],[1,"d-flex","justify-content-center","mt-5","mb-5"],["src","assets/img/countryside/dateBautizo.png","alt","photo",1,"img-date-ba"],["src","assets/img/countryside/locationImage.png","alt","photo",1,"img-photo",3,"click"],[1,"d-flex","justify-content-center","more-space"],["src","assets/img/countryside/stars-separator.png","alt","photo",1,"start-separator"],["src","assets/img/countryside/party.png","alt","photo",1,"img-photo"],[1,"text-center","m-5"],["src","assets/img/countryside/date_party.png","alt","photo",1,"img-date-party"],["src","assets/img/countryside/birthday.png","alt","photo",1,"img-photo"],["class","more-space photos",4,"ngIf"],[1,"text-center"],["id","countdown",1,"d-flex","justify-content-center"],[1,"mx-3","text-center","flex-fill"],["id","days",1,"countdown__number"],[1,"countdown__text"],["id","hours",1,"countdown__number"],["id","minutes",1,"countdown__number"],["id","seconds",1,"countdown__number"],["src","assets/img/countryside/mesaRegalos.png","alt","photo",1,"img-photo"],[1,"d-flex","justify-content-center","mb-5"],[1,"card","shadow-lg","card-gift"],["src","assets/img/countryside/amazon_logo.png","alt","image1",1,"card-img-top",3,"click"],["src","assets/img/countryside/liverpool_logo.jpg","alt","image2",1,"card-img-top"],["class","d-flex justify-content-center more-space",4,"ngIf"],["class","d-flex justify-content-center more-space mb-0",4,"ngIf"],[1,"row","p-5"],["class","col-12 mt-5",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"footer-img"],["src","assets/img/countryside/footer.png",1,"gifts"],["src","assets/img/countryside/cloud.png",1,"cloud-0"],["src","assets/img/countryside/cloud.png",1,"cloud-1"],["src","assets/img/countryside/cloud.png",1,"cloud-2"],["src","assets/img/countryside/cloud.png",1,"cloud-3"],["src","assets/img/countryside/cloud.png",1,"cloud-4"],["id","commentModal","tabindex","-1","aria-labelledby","commentModalLabel","aria-hidden","true",1,"modal"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","commentModalLabel",1,"modal-title"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"modal-body"],["autocomplete","off","type","text","placeholder","De parte de...",1,"form-control","modal__input-autor",3,"ngModelChange","ngModel"],["autocomplete","off","id","commentInput","rows","4","maxlength","350","placeholder","Escribe tu comentario aqu\xED...",1,"form-control","modal__input-comment",3,"ngModelChange","ngModel"],[1,"row","text-end"],["id","wordCounter",1,"text-muted"],[1,"modal-footer"],["type","button",1,"btn","modal__btnModal",3,"click"],["type","button",1,"btn","modal__btnModal",3,"click","disabled"],["id","confirmModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],[1,"modal-content",2,"margin","4rem"],[1,"row"],[1,"col-12","text-center","mt-4","mb-4"],["src","assets/svg/patch-exclamation.svg","alt","",2,"width","6rem"],["id","deleteModal","tabindex","-1","aria-labelledby","confirmModal","aria-hidden","true",1,"modal"],[1,"more-space","photos"],[3,"animate","viewPhotos"],[1,"d-flex","justify-content-center","more-space","mb-0"],["src","assets/img/countryside/notice.png","alt","photo",1,"img-photo"],[1,"col-12","mt-5"],[1,"text-2","text-center"],["src","assets/img/countryside/voces.png","alt","photo",1,"img-photo"],["class","row w-100",4,"ngIf"],[1,"container_commnets"],["class","container_commnets__card",4,"ngFor","ngForOf"],[1,"row","w-100"],[1,"col-12","text-center"],[1,"btn-add",3,"click"],["src","assets/svg/chat-square-heart.svg","alt","addCommnet",2,"width","2.5rem"],[1,"m-0",2,"font-size","1.3rem"],[1,"container_commnets__card"],[1,"container_commnets__header"],[1,"container_commnets__name"],["class","container_coments__icons",4,"ngIf"],[1,"container_commnets__comment"],[1,"container_coments__icons"],["src","assets/svg/pencil.svg",1,"me-2",3,"click"],["src","assets/svg/trash.svg",3,"click"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1),A(2,"img",2),v(),m(3,"div",1),A(4,"img",3),v(),m(5,"div",1),A(6,"img",4),v(),m(7,"div",1)(8,"button",5),j("click",function(){return r.showInvitation()}),S(9,"Ver invitaci\xF3n"),v()(),m(10,"div",6)(11,"p",7),S(12,"Mis Pap\xE1s"),v(),m(13,"div",8)(14,"p",9),S(15,"Minerva Victoria Montes Torres"),v(),m(16,"p",9),S(17,"Jos\xE9 Manuel Ram\xEDrez Mej\xEDa"),v()()(),m(18,"div",10)(19,"p",7),S(20,"Mi Madrina"),v(),m(21,"div",8)(22,"p",9),S(23,"Maria Jos\xE9 Ram\xEDrez Mej\xEDa"),v()()(),m(24,"div",1),A(25,"img",11),v(),m(26,"div",12)(27,"div",8)(28,"p",9),S(29," En este d\xEDa especial, celebramos la llegada de un nuevo miembro a la familia de Dios. "),v(),A(30,"br"),m(31,"p",9),S(32," Que su bautizo marque el inicio de una vida llena de bendiciones, amor y sabidur\xEDa divina. "),v()()(),m(33,"div",1),A(34,"img",13),v(),m(35,"div",10)(36,"p",7),S(37,"Lugar y Fecha"),v()(),m(38,"div",14),A(39,"img",15),v(),m(40,"div",14)(41,"img",16),j("click",function(){return r.openMapChurch()}),v()(),m(42,"div",17),A(43,"img",18),v(),m(44,"div",1),A(45,"img",19),v(),m(46,"div",20)(47,"div",8)(48,"p",9),S(49," Con gran alegr\xEDa y profundo agradecimiento, nos unimos para celebrar este bautizo. Que esta ocasi\xF3n tan especial irradie amor, dicha y alegr\xEDa compartida, dejando recuerdos inolvidables en nuestros corazones. "),v()()(),m(50,"div",14),A(51,"img",21),v(),m(52,"div",14)(53,"img",16),j("click",function(){return r.openMapParty()}),v()(),m(54,"div",17),A(55,"img",18),v(),m(56,"div",1),A(57,"img",22),v(),Rt(58,cL,2,2,"div",23),m(59,"div",20)(60,"div",8)(61,"p",9),S(62," En su primer a\xF1o de vida, una beb\xE9 es como una flor que comienza a abrirse al mundo, llena de pureza y asombro. Sus risas y logros nos muestran la belleza de la vida en cada peque\xF1o momento. "),v()()(),m(63,"div",24)(64,"p",7),S(65,"Falta para mi cumple..."),v()(),m(66,"div",14)(67,"div",25)(68,"div",26),A(69,"div",27),m(70,"div",28),S(71,"D\xEDas"),v()(),m(72,"div",26),A(73,"div",29),m(74,"div",28),S(75,"Horas"),v()(),m(76,"div",26),A(77,"div",30),m(78,"div",28),S(79,"Minutos"),v()(),m(80,"div",26),A(81,"div",31),m(82,"div",28),S(83,"Segundos"),v()()()(),m(84,"div",17),A(85,"img",18),v(),m(86,"div",17),A(87,"img",32),v(),m(88,"div",33)(89,"div",34)(90,"img",35),j("click",function(){return r.openMesaRegalos("am")}),v()()(),m(91,"div",33)(92,"div",34),A(93,"img",36),v()(),Rt(94,uL,2,0,"div",37)(95,dL,3,0,"div",38),m(96,"div",39),Rt(97,fL,3,1,"div",40),v(),Rt(98,mL,8,2,"div",41),m(99,"div",42),A(100,"img",43),v(),A(101,"img",44)(102,"img",45)(103,"img",46)(104,"img",47)(105,"img",48),v(),m(106,"div",49)(107,"div",50)(108,"div",51)(109,"div",52)(110,"h2",53),S(111,"Agrega un comentario"),v(),m(112,"button",54),j("click",function(){return r.closeModal("commentModal")}),v()(),m(113,"div",55)(114,"input",56),Wl("ngModelChange",function(o){return lh(r.commentData.autor,o)||(r.commentData.autor=o),o}),v(),m(115,"textarea",57),Wl("ngModelChange",function(o){return lh(r.commentData.comentario,o)||(r.commentData.comentario=o),o}),v(),m(116,"div",58)(117,"small",59),S(118,"350 letras restantes"),v()()(),m(119,"div",60)(120,"button",61),j("click",function(){return r.closeModal("commentModal")}),S(121,"Cancelar"),v(),m(122,"button",62),j("click",function(){return r.addCommnet()}),S(123,"Aceptar"),v()()()()(),m(124,"div",63)(125,"div",50)(126,"div",64)(127,"div",52)(128,"h2",53),S(129,"\xBFDeseas continuar?"),v(),m(130,"button",54),j("click",function(){return r.closeModal("confirmModal")}),v()(),m(131,"div",55)(132,"div",65)(133,"div",66),A(134,"img",67),v()(),m(135,"h2"),S(136,"Una vez agregado tu comentario, todos los invitados con acceso a la invitaci\xF3n podr\xE1n verlo."),v()(),m(137,"div",60)(138,"button",61),j("click",function(){return r.closeModal("confirmModal")}),S(139,"Cancelar"),v(),m(140,"button",61),j("click",function(){return r.confirmComment()}),S(141,"Aceptar"),v()()()()(),m(142,"div",68)(143,"div",50)(144,"div",64)(145,"div",52)(146,"h2",53),S(147,"\xBFDeseas continuar?"),v(),m(148,"button",54),j("click",function(){return r.closeModal("deleteModal")}),v()(),m(149,"div",55)(150,"div",65)(151,"div",66),A(152,"img",67),v()(),m(153,"h2"),S(154,"Se eliminar\xE1 tu comentario y ya no ser\xE1 visible para las dem\xE1s personas."),v()(),m(155,"div",60)(156,"button",61),j("click",function(){return r.closeModal("deleteModal")}),S(157,"Cancelar"),v(),m(158,"button",61),j("click",function(){return r.confirmDelete()}),S(159,"Aceptar"),v()()()()()),n&2&&(ge(58),De("ngIf",r.showPhotos),ge(36),De("ngIf",r.avisos&&r.avisos.length>0),ge(),De("ngIf",r.avisos&&r.avisos.length>0),ge(2),De("ngForOf",r.avisos),ge(),De("ngIf",r.showComments),ge(16),zl("ngModel",r.commentData.autor),ge(),zl("ngModel",r.commentData.comentario),ge(7),De("disabled",!(r.commentData.comentario!=null&&r.commentData.comentario.length>5)))},dependencies:[Pi,fE,Fc,cE,Rp,Np,$o,Kl,hC,ZI],styles:['@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v19/o-0IIpQoyXQa2RxT7-5r8zRAW_0.woff2) format("woff2");unicode-range:U+0964-0965,U+0B82-0BFA,U+200C-200D,U+20B9,U+25CC}@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v19/o-0IIpQoyXQa2RxT7-5r6zRAW_0.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Catamaran;font-style:normal;font-weight:100 900;font-display:swap;src:url(https://fonts.gstatic.com/s/catamaran/v19/o-0IIpQoyXQa2RxT7-5r5TRA.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.btn-see[_ngcontent-%COMP%]{border:0;border-radius:20px;background-color:#999ae8;color:#fff;width:150px;height:40px;font-family:Playwrite US Modern,cursive;text-align:center}.content[_ngcontent-%COMP%]{height:100%;overflow-y:auto;overflow-x:hidden}.img-header[_ngcontent-%COMP%]{width:100%;position:relative;right:0;top:-20px}.img-title[_ngcontent-%COMP%]{width:60%;position:relative;top:-30px}.img-photo[_ngcontent-%COMP%]{width:60%}.separator[_ngcontent-%COMP%]{width:80%;margin:0}.start-separator[_ngcontent-%COMP%]{width:100%;margin:0;opacity:.3}.text-1[_ngcontent-%COMP%]{font-weight:800;font-family:Playwrite US Modern,cursive;font-size:2.5rem;margin:0;margin-bottom:1rem}.text-2[_ngcontent-%COMP%]{font-weight:300;font-family:Playwrite US Modern,cursive;font-size:1.5rem;margin:0}.more-space[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:5rem}.img-date-ba[_ngcontent-%COMP%]{width:90%}.img-date-party[_ngcontent-%COMP%]{width:60%}.countdown__number[_ngcontent-%COMP%]{font-size:3rem;font-weight:700}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:1.5rem}.cloud-0[_ngcontent-%COMP%], .cloud-1[_ngcontent-%COMP%], .cloud-2[_ngcontent-%COMP%], .cloud-3[_ngcontent-%COMP%], .cloud-4[_ngcontent-%COMP%]{position:fixed;opacity:.5;z-index:-1}.cloud-0[_ngcontent-%COMP%]{top:15%;right:-5%;width:20%}.cloud-1[_ngcontent-%COMP%]{top:25%;left:-20%;width:40%}.cloud-2[_ngcontent-%COMP%]{top:45%;right:-20%;width:40%}.cloud-3[_ngcontent-%COMP%]{top:65%;left:-20%;width:40%}.cloud-4[_ngcontent-%COMP%]{bottom:15%;right:-5%;width:20%}.footer-img[_ngcontent-%COMP%]{position:relative;margin-top:auto;width:100%;height:auto}.footer-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.desk-gift[_ngcontent-%COMP%]{width:60%;height:250px}.card-gift[_ngcontent-%COMP%]{width:50%}.container_commnets[_ngcontent-%COMP%]{width:100%;overflow-x:auto;display:flex;flex-direction:row;align-items:center;gap:1rem;padding:2rem}.container_commnets__card[_ngcontent-%COMP%]{flex:0 0 270px;margin-bottom:1rem;padding:1rem;box-shadow:0 4px 8px #0000001a;border:1px solid pink;display:flex;flex-direction:column;align-items:center;position:relative}.container_commnets__header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;width:100%}.container_commnets__name[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.container_commnets__comment[_ngcontent-%COMP%]{font-size:1rem;color:#333;width:100%;text-align:left;margin-top:1rem}.btn-add[_ngcontent-%COMP%]{margin-top:2rem;box-shadow:0 4px 8px #0000001a;border:1px solid pink;background-color:transparent;flex-direction:column;align-items:center;justify-content:center;padding:1rem}.modal-content[_ngcontent-%COMP%]{border-color:pink}.modal__input-autor[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:1rem;border-color:#999ae8;outline:none!important}.modal__input-comment[_ngcontent-%COMP%]{font-size:2rem;border-color:#999ae8;outline:none!important}.modal__btnModal[_ngcontent-%COMP%]{background-color:#999ae8;height:35px;font-size:1.5rem;color:#fff}@media (min-width: 600px) and (max-width: 1199px){.text-1[_ngcontent-%COMP%]{font-size:5rem}.text-2[_ngcontent-%COMP%]{font-size:2.5rem}.separator[_ngcontent-%COMP%]{width:60%}.btn-see[_ngcontent-%COMP%]{width:300px;height:50px;font-size:2.3rem}.countdown__number[_ngcontent-%COMP%]{font-size:6rem}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:3rem}.btn-see[_ngcontent-%COMP%]{display:none}}@media (min-width: 1200px){.img-header[_ngcontent-%COMP%]{width:70%;position:relative;right:0;top:-60px}.img-title[_ngcontent-%COMP%]{width:30%;position:relative;top:70px}.img-photo[_ngcontent-%COMP%]{width:40%}.btn-see[_ngcontent-%COMP%]{width:350px;height:50px;font-size:2.8rem}.text-1[_ngcontent-%COMP%]{font-size:6.5rem}.text-2[_ngcontent-%COMP%]{font-size:3rem}.separator[_ngcontent-%COMP%]{width:40%}.img-date-ba[_ngcontent-%COMP%]{width:60%}.img-photo[_ngcontent-%COMP%]{width:30%}.img-date-party[_ngcontent-%COMP%]{width:40%}.card-gift[_ngcontent-%COMP%]{width:35%}.countdown__number[_ngcontent-%COMP%]{font-size:6rem}.countdown__text[_ngcontent-%COMP%]{font-weight:300;font-size:3rem}.cloud-0[_ngcontent-%COMP%]{top:5%;width:10%;right:-2%}.cloud-1[_ngcontent-%COMP%]{top:15%;left:-10%;width:20%}.cloud-2[_ngcontent-%COMP%]{top:40%;right:-5%;width:20%}.cloud-3[_ngcontent-%COMP%]{top:65%;left:-10%;width:20%}.cloud-4[_ngcontent-%COMP%]{bottom:0%;right:-2%;width:10%}.btn-see[_ngcontent-%COMP%]{display:none}}']})};var KI=[{path:"",redirectTo:"loading",pathMatch:"full"},{path:"bautizo",component:xc},{path:"loading",component:Ac},{path:"information",component:Nc},{path:"invitacion",component:Lu},{path:"mosaico",component:Pi},{path:"**",redirectTo:"loading"}];var XI={providers:[xC(),J0({eventCoalescing:!0}),Ew(KI)]};var Vu=class e{constructor(t){this.router=t}audio;animeIconMusic;playMusic=!1;open=!1;ngOnInit(){this.audio=new Audio("assets/img/countryside/music1.mp3"),this.audio.autoplay=!1,this.router.events.subscribe(t=>{t instanceof En&&this.onRouteChange()}),this.setTypeFromPath()}ngAfterViewInit(){setTimeout(()=>{this.getCurrentRoute().includes("/invitacion")||this.showQuestionMusic()},700)}animateMusic(){this.audio.play(),this.getCurrentRoute().includes("/loading")&&this.audio.pause(),this.animeIconMusic?this.animeIconMusic.play():this.animeIconMusic=this.animateIconMusic(1)}actionIconMusic(){this.open?this.hideQuestionMusic():this.showQuestionMusic()}showQuestionMusic(){this.open=!0,N({targets:".container-music",right:"0",background:"#EDEDFD",duration:1500,easing:"easeOutExpo"})}hideQuestionMusic(){this.open=!1,N({targets:".container-music",right:"-180px",background:"rgba(0, 0, 0, 0)",duration:1500,easing:"easeOutExpo"})}actionQuestionMusic(t){let n=document.querySelectorAll(".btn-music");n.forEach(r=>{r.style.opacity="0.7"}),n&&n.length>0&&(t==="yes"?(this.playMusic=!0,n[0].style.opacity="1",this.hideQuestionMusic(),this.animeIconMusic=this.animateIconMusic(0),this.animateMusic()):(this.playMusic=!1,this.audio.pause(),n[1].style.opacity="1",this.hideQuestionMusic(),this.animeIconMusic&&(this.animeIconMusic.pause(),this.animeIconMusic=this.animateIconMusic(1))))}animateIconMusic(t=0){return t===0?N({targets:".music",rotate:"1turn",easing:"linear",duration:6e3,loop:!0}):N({targets:".music",rotate:"0",easing:"linear",duration:1e3,loop:!1})}getCurrentRoute(){return this.router.url}onRouteChange(){console.log(this.getCurrentRoute()),this.getCurrentRoute().includes("/bautizo")&&this.playMusic&&this.audio.play()}setTypeFromPath(){let n=new URLSearchParams(window.location.search).get("t");n&&localStorage.setItem("type",n)}static \u0275fac=function(n){return new(n||e)(G(_t))};static \u0275cmp=ye({type:e,selectors:[["music"]],decls:9,vars:0,consts:[[1,"container-music"],["src","assets/img/countryside/music.png",1,"music",3,"click"],[1,"container-text"],[1,"text-music"],[1,"btn-music","btn-r",3,"click"],[1,"btn-music","btn-p",3,"click"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"img",1),j("click",function(){return r.actionIconMusic()}),v(),m(2,"div",2)(3,"p",3),S(4,"\xBFReproducir audio?"),v(),m(5,"button",4),j("click",function(){return r.actionQuestionMusic("yes")}),S(6,"Si"),v(),m(7,"button",5),j("click",function(){return r.actionQuestionMusic("no")}),S(8,"No"),v()()())},styles:[".music[_ngcontent-%COMP%]{width:80px;padding:20px;opacity:1}.container-music[_ngcontent-%COMP%]{width:250px;height:70px;position:fixed;top:0;right:-180px;display:flex;justify-content:left;align-items:center;border-top-left-radius:30px;border-bottom-left-radius:30px;z-index:999}.btn-music[_ngcontent-%COMP%]{background:#ed1e79;width:80px;height:30px;opacity:.5;color:#fff;border:none}.text-music[_ngcontent-%COMP%]{height:30px;margin:0;display:flex;justify-content:center;align-items:center}.btn-r[_ngcontent-%COMP%]{border-top-left-radius:15px;border-bottom-left-radius:15px}.btn-p[_ngcontent-%COMP%]{border-top-right-radius:15px;border-bottom-right-radius:15px;opacity:1}"]})};var ju=class e{title="bautizo_sofia";static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ye({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&A(0,"router-outlet")(1,"music")},dependencies:[ap,Vu],encapsulation:2})};jC(ju,XI).catch(e=>console.error(e));
